/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var I2=Object.create;var Vo=Object.defineProperty;var L2=Object.getOwnPropertyDescriptor;var O2=Object.getOwnPropertyNames;var R2=Object.getPrototypeOf,D2=Object.prototype.hasOwnProperty;var mp=t=>Vo(t,"__esModule",{value:!0});var k2=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),sn=(t,n)=>{mp(t);for(var i in n)Vo(t,i,{get:n[i],enumerable:!0})},P2=(t,n,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of O2(n))!D2.call(t,o)&&o!=="default"&&Vo(t,o,{get:()=>n[o],enumerable:!(i=L2(n,o))||i.enumerable});return t},Zo=t=>P2(mp(Vo(t!=null?I2(R2(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var gp=(t,n,i)=>new Promise((o,s)=>{var u=p=>{try{c(i.next(p))}catch(d){s(d)}},l=p=>{try{c(i.throw(p))}catch(d){s(d)}},c=p=>p.done?o(p.value):Promise.resolve(p.value).then(u,l);c((i=i.apply(t,n)).next())});var Za=k2((Kr,eo)=>{(function(){var t,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,p="__lodash_placeholder__",d=1,v=2,w=4,x=1,A=2,z=1,Y=2,I=4,E=8,D=16,O=32,j=64,B=128,K=256,ht=512,ft=30,Ot="...",gt=800,X=16,yt=1,st=2,T=3,F=1/0,C=9007199254740991,q=17976931348623157e292,$=0/0,U=4294967295,Z=U-1,Q=U>>>1,it=[["ary",B],["bind",z],["bindKey",Y],["curry",E],["curryRight",D],["flip",ht],["partial",O],["partialRight",j],["rearg",K]],zt="[object Arguments]",Et="[object Array]",Xt="[object AsyncFunction]",Wt="[object Boolean]",xt="[object Date]",le="[object DOMException]",W="[object Error]",nt="[object Function]",pt="[object GeneratorFunction]",k="[object Map]",It="[object Number]",St="[object Null]",kt="[object Object]",Jt="[object Promise]",rt="[object Proxy]",Lt="[object RegExp]",re="[object Set]",we="[object String]",oo="[object Symbol]",V_="[object Undefined]",Jr="[object WeakMap]",Z_="[object WeakSet]",Qr="[object ArrayBuffer]",wr="[object DataView]",ss="[object Float32Array]",us="[object Float64Array]",ls="[object Int8Array]",fs="[object Int16Array]",cs="[object Int32Array]",hs="[object Uint8Array]",ps="[object Uint8ClampedArray]",ds="[object Uint16Array]",ms="[object Uint32Array]",K_=/\b__p \+= '';/g,J_=/\b(__p \+=) '' \+/g,Q_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ff=/&(?:amp|lt|gt|quot|#39);/g,Uf=/[&<>"']/g,t0=RegExp(Ff.source),e0=RegExp(Uf.source),n0=/<%-([\s\S]+?)%>/g,r0=/<%([\s\S]+?)%>/g,Wf=/<%=([\s\S]+?)%>/g,i0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o0=/^\w*$/,a0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gs=/[\\^$.*+?()[\]{}|]/g,s0=RegExp(gs.source),_s=/^\s+/,u0=/\s/,l0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,f0=/\{\n\/\* \[wrapped with (.+)\] \*/,c0=/,? & /,h0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,p0=/[()=,{}\[\]\/\s]/,d0=/\\(\\)?/g,m0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hf=/\w*$/,g0=/^[-+]0x[0-9a-f]+$/i,_0=/^0b[01]+$/i,v0=/^\[object .+?Constructor\]$/,x0=/^0o[0-7]+$/i,y0=/^(?:0|[1-9]\d*)$/,w0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ao=/($^)/,b0=/['\n\r\u2028\u2029\\]/g,so="\\ud800-\\udfff",S0="\\u0300-\\u036f",T0="\\ufe20-\\ufe2f",A0="\\u20d0-\\u20ff",qf=S0+T0+A0,Yf="\\u2700-\\u27bf",Gf="a-z\\xdf-\\xf6\\xf8-\\xff",M0="\\xac\\xb1\\xd7\\xf7",C0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",E0="\\u2000-\\u206f",N0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xf="A-Z\\xc0-\\xd6\\xd8-\\xde",$f="\\ufe0e\\ufe0f",Vf=M0+C0+E0+N0,vs="['\u2019]",I0="["+so+"]",Zf="["+Vf+"]",uo="["+qf+"]",Kf="\\d+",L0="["+Yf+"]",Jf="["+Gf+"]",Qf="[^"+so+Vf+Kf+Yf+Gf+Xf+"]",xs="\\ud83c[\\udffb-\\udfff]",O0="(?:"+uo+"|"+xs+")",tc="[^"+so+"]",ys="(?:\\ud83c[\\udde6-\\uddff]){2}",ws="[\\ud800-\\udbff][\\udc00-\\udfff]",br="["+Xf+"]",ec="\\u200d",nc="(?:"+Jf+"|"+Qf+")",R0="(?:"+br+"|"+Qf+")",rc="(?:"+vs+"(?:d|ll|m|re|s|t|ve))?",ic="(?:"+vs+"(?:D|LL|M|RE|S|T|VE))?",oc=O0+"?",ac="["+$f+"]?",D0="(?:"+ec+"(?:"+[tc,ys,ws].join("|")+")"+ac+oc+")*",k0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",P0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sc=ac+oc+D0,j0="(?:"+[L0,ys,ws].join("|")+")"+sc,z0="(?:"+[tc+uo+"?",uo,ys,ws,I0].join("|")+")",B0=RegExp(vs,"g"),F0=RegExp(uo,"g"),bs=RegExp(xs+"(?="+xs+")|"+z0+sc,"g"),U0=RegExp([br+"?"+Jf+"+"+rc+"(?="+[Zf,br,"$"].join("|")+")",R0+"+"+ic+"(?="+[Zf,br+nc,"$"].join("|")+")",br+"?"+nc+"+"+rc,br+"+"+ic,P0,k0,Kf,j0].join("|"),"g"),W0=RegExp("["+ec+so+qf+$f+"]"),H0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,q0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Y0=-1,Pt={};Pt[ss]=Pt[us]=Pt[ls]=Pt[fs]=Pt[cs]=Pt[hs]=Pt[ps]=Pt[ds]=Pt[ms]=!0,Pt[zt]=Pt[Et]=Pt[Qr]=Pt[Wt]=Pt[wr]=Pt[xt]=Pt[W]=Pt[nt]=Pt[k]=Pt[It]=Pt[kt]=Pt[Lt]=Pt[re]=Pt[we]=Pt[Jr]=!1;var Dt={};Dt[zt]=Dt[Et]=Dt[Qr]=Dt[wr]=Dt[Wt]=Dt[xt]=Dt[ss]=Dt[us]=Dt[ls]=Dt[fs]=Dt[cs]=Dt[k]=Dt[It]=Dt[kt]=Dt[Lt]=Dt[re]=Dt[we]=Dt[oo]=Dt[hs]=Dt[ps]=Dt[ds]=Dt[ms]=!0,Dt[W]=Dt[nt]=Dt[Jr]=!1;var G0={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},X0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},V0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Z0=parseFloat,K0=parseInt,uc=typeof global=="object"&&global&&global.Object===Object&&global,J0=typeof self=="object"&&self&&self.Object===Object&&self,Qt=uc||J0||Function("return this")(),Ss=typeof Kr=="object"&&Kr&&!Kr.nodeType&&Kr,Vn=Ss&&typeof eo=="object"&&eo&&!eo.nodeType&&eo,lc=Vn&&Vn.exports===Ss,Ts=lc&&uc.process,Fe=function(){try{var b=Vn&&Vn.require&&Vn.require("util").types;return b||Ts&&Ts.binding&&Ts.binding("util")}catch(N){}}(),fc=Fe&&Fe.isArrayBuffer,cc=Fe&&Fe.isDate,hc=Fe&&Fe.isMap,pc=Fe&&Fe.isRegExp,dc=Fe&&Fe.isSet,mc=Fe&&Fe.isTypedArray;function Ne(b,N,M){switch(M.length){case 0:return b.call(N);case 1:return b.call(N,M[0]);case 2:return b.call(N,M[0],M[1]);case 3:return b.call(N,M[0],M[1],M[2])}return b.apply(N,M)}function Q0(b,N,M,G){for(var ot=-1,Tt=b==null?0:b.length;++ot<Tt;){var Vt=b[ot];N(G,Vt,M(Vt),b)}return G}function Ue(b,N){for(var M=-1,G=b==null?0:b.length;++M<G&&N(b[M],M,b)!==!1;);return b}function tv(b,N){for(var M=b==null?0:b.length;M--&&N(b[M],M,b)!==!1;);return b}function gc(b,N){for(var M=-1,G=b==null?0:b.length;++M<G;)if(!N(b[M],M,b))return!1;return!0}function Nn(b,N){for(var M=-1,G=b==null?0:b.length,ot=0,Tt=[];++M<G;){var Vt=b[M];N(Vt,M,b)&&(Tt[ot++]=Vt)}return Tt}function lo(b,N){var M=b==null?0:b.length;return!!M&&Sr(b,N,0)>-1}function As(b,N,M){for(var G=-1,ot=b==null?0:b.length;++G<ot;)if(M(N,b[G]))return!0;return!1}function jt(b,N){for(var M=-1,G=b==null?0:b.length,ot=Array(G);++M<G;)ot[M]=N(b[M],M,b);return ot}function In(b,N){for(var M=-1,G=N.length,ot=b.length;++M<G;)b[ot+M]=N[M];return b}function Ms(b,N,M,G){var ot=-1,Tt=b==null?0:b.length;for(G&&Tt&&(M=b[++ot]);++ot<Tt;)M=N(M,b[ot],ot,b);return M}function ev(b,N,M,G){var ot=b==null?0:b.length;for(G&&ot&&(M=b[--ot]);ot--;)M=N(M,b[ot],ot,b);return M}function Cs(b,N){for(var M=-1,G=b==null?0:b.length;++M<G;)if(N(b[M],M,b))return!0;return!1}var nv=Es("length");function rv(b){return b.split("")}function iv(b){return b.match(h0)||[]}function _c(b,N,M){var G;return M(b,function(ot,Tt,Vt){if(N(ot,Tt,Vt))return G=Tt,!1}),G}function fo(b,N,M,G){for(var ot=b.length,Tt=M+(G?1:-1);G?Tt--:++Tt<ot;)if(N(b[Tt],Tt,b))return Tt;return-1}function Sr(b,N,M){return N===N?gv(b,N,M):fo(b,vc,M)}function ov(b,N,M,G){for(var ot=M-1,Tt=b.length;++ot<Tt;)if(G(b[ot],N))return ot;return-1}function vc(b){return b!==b}function xc(b,N){var M=b==null?0:b.length;return M?Is(b,N)/M:$}function Es(b){return function(N){return N==null?t:N[b]}}function Ns(b){return function(N){return b==null?t:b[N]}}function yc(b,N,M,G,ot){return ot(b,function(Tt,Vt,Rt){M=G?(G=!1,Tt):N(M,Tt,Vt,Rt)}),M}function av(b,N){var M=b.length;for(b.sort(N);M--;)b[M]=b[M].value;return b}function Is(b,N){for(var M,G=-1,ot=b.length;++G<ot;){var Tt=N(b[G]);Tt!==t&&(M=M===t?Tt:M+Tt)}return M}function Ls(b,N){for(var M=-1,G=Array(b);++M<b;)G[M]=N(M);return G}function sv(b,N){return jt(N,function(M){return[M,b[M]]})}function wc(b){return b&&b.slice(0,Ac(b)+1).replace(_s,"")}function Ie(b){return function(N){return b(N)}}function Os(b,N){return jt(N,function(M){return b[M]})}function ti(b,N){return b.has(N)}function bc(b,N){for(var M=-1,G=b.length;++M<G&&Sr(N,b[M],0)>-1;);return M}function Sc(b,N){for(var M=b.length;M--&&Sr(N,b[M],0)>-1;);return M}function uv(b,N){for(var M=b.length,G=0;M--;)b[M]===N&&++G;return G}var lv=Ns(G0),fv=Ns(X0);function cv(b){return"\\"+V0[b]}function hv(b,N){return b==null?t:b[N]}function Tr(b){return W0.test(b)}function pv(b){return H0.test(b)}function dv(b){for(var N,M=[];!(N=b.next()).done;)M.push(N.value);return M}function Rs(b){var N=-1,M=Array(b.size);return b.forEach(function(G,ot){M[++N]=[ot,G]}),M}function Tc(b,N){return function(M){return b(N(M))}}function Ln(b,N){for(var M=-1,G=b.length,ot=0,Tt=[];++M<G;){var Vt=b[M];(Vt===N||Vt===p)&&(b[M]=p,Tt[ot++]=M)}return Tt}function co(b){var N=-1,M=Array(b.size);return b.forEach(function(G){M[++N]=G}),M}function mv(b){var N=-1,M=Array(b.size);return b.forEach(function(G){M[++N]=[G,G]}),M}function gv(b,N,M){for(var G=M-1,ot=b.length;++G<ot;)if(b[G]===N)return G;return-1}function _v(b,N,M){for(var G=M+1;G--;)if(b[G]===N)return G;return G}function Ar(b){return Tr(b)?xv(b):nv(b)}function Ke(b){return Tr(b)?yv(b):rv(b)}function Ac(b){for(var N=b.length;N--&&u0.test(b.charAt(N)););return N}var vv=Ns($0);function xv(b){for(var N=bs.lastIndex=0;bs.test(b);)++N;return N}function yv(b){return b.match(bs)||[]}function wv(b){return b.match(U0)||[]}var bv=function b(N){N=N==null?Qt:On.defaults(Qt.Object(),N,On.pick(Qt,q0));var M=N.Array,G=N.Date,ot=N.Error,Tt=N.Function,Vt=N.Math,Rt=N.Object,Ds=N.RegExp,Sv=N.String,We=N.TypeError,ho=M.prototype,Tv=Tt.prototype,Mr=Rt.prototype,po=N["__core-js_shared__"],mo=Tv.toString,Nt=Mr.hasOwnProperty,Av=0,Mc=function(){var e=/[^.]+$/.exec(po&&po.keys&&po.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),go=Mr.toString,Mv=mo.call(Rt),Cv=Qt._,Ev=Ds("^"+mo.call(Nt).replace(gs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_o=lc?N.Buffer:t,Rn=N.Symbol,vo=N.Uint8Array,Cc=_o?_o.allocUnsafe:t,xo=Tc(Rt.getPrototypeOf,Rt),Ec=Rt.create,Nc=Mr.propertyIsEnumerable,yo=ho.splice,Ic=Rn?Rn.isConcatSpreadable:t,ei=Rn?Rn.iterator:t,Zn=Rn?Rn.toStringTag:t,wo=function(){try{var e=er(Rt,"defineProperty");return e({},"",{}),e}catch(r){}}(),Nv=N.clearTimeout!==Qt.clearTimeout&&N.clearTimeout,Iv=G&&G.now!==Qt.Date.now&&G.now,Lv=N.setTimeout!==Qt.setTimeout&&N.setTimeout,bo=Vt.ceil,So=Vt.floor,ks=Rt.getOwnPropertySymbols,Ov=_o?_o.isBuffer:t,Lc=N.isFinite,Rv=ho.join,Dv=Tc(Rt.keys,Rt),Zt=Vt.max,fe=Vt.min,kv=G.now,Pv=N.parseInt,Oc=Vt.random,jv=ho.reverse,Ps=er(N,"DataView"),ni=er(N,"Map"),js=er(N,"Promise"),Cr=er(N,"Set"),ri=er(N,"WeakMap"),ii=er(Rt,"create"),To=ri&&new ri,Er={},zv=nr(Ps),Bv=nr(ni),Fv=nr(js),Uv=nr(Cr),Wv=nr(ri),Ao=Rn?Rn.prototype:t,oi=Ao?Ao.valueOf:t,Rc=Ao?Ao.toString:t;function m(e){if(Ht(e)&&!at(e)&&!(e instanceof mt)){if(e instanceof He)return e;if(Nt.call(e,"__wrapped__"))return Dh(e)}return new He(e)}var Nr=function(){function e(){}return function(r){if(!Bt(r))return{};if(Ec)return Ec(r);e.prototype=r;var a=new e;return e.prototype=t,a}}();function Mo(){}function He(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=t}m.templateSettings={escape:n0,evaluate:r0,interpolate:Wf,variable:"",imports:{_:m}},m.prototype=Mo.prototype,m.prototype.constructor=m,He.prototype=Nr(Mo.prototype),He.prototype.constructor=He;function mt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Hv(){var e=new mt(this.__wrapped__);return e.__actions__=be(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=be(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=be(this.__views__),e}function qv(){if(this.__filtered__){var e=new mt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Yv(){var e=this.__wrapped__.value(),r=this.__dir__,a=at(e),f=r<0,h=a?e.length:0,g=ry(0,h,this.__views__),_=g.start,y=g.end,S=y-_,L=f?y:_-1,R=this.__iteratees__,P=R.length,H=0,V=fe(S,this.__takeCount__);if(!a||!f&&h==S&&V==S)return rh(e,this.__actions__);var tt=[];t:for(;S--&&H<V;){L+=r;for(var lt=-1,et=e[L];++lt<P;){var dt=R[lt],_t=dt.iteratee,Re=dt.type,xe=_t(et);if(Re==st)et=xe;else if(!xe){if(Re==yt)continue t;break t}}tt[H++]=et}return tt}mt.prototype=Nr(Mo.prototype),mt.prototype.constructor=mt;function Kn(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var f=e[r];this.set(f[0],f[1])}}function Gv(){this.__data__=ii?ii(null):{},this.size=0}function Xv(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function $v(e){var r=this.__data__;if(ii){var a=r[e];return a===l?t:a}return Nt.call(r,e)?r[e]:t}function Vv(e){var r=this.__data__;return ii?r[e]!==t:Nt.call(r,e)}function Zv(e,r){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=ii&&r===t?l:r,this}Kn.prototype.clear=Gv,Kn.prototype.delete=Xv,Kn.prototype.get=$v,Kn.prototype.has=Vv,Kn.prototype.set=Zv;function mn(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var f=e[r];this.set(f[0],f[1])}}function Kv(){this.__data__=[],this.size=0}function Jv(e){var r=this.__data__,a=Co(r,e);if(a<0)return!1;var f=r.length-1;return a==f?r.pop():yo.call(r,a,1),--this.size,!0}function Qv(e){var r=this.__data__,a=Co(r,e);return a<0?t:r[a][1]}function tx(e){return Co(this.__data__,e)>-1}function ex(e,r){var a=this.__data__,f=Co(a,e);return f<0?(++this.size,a.push([e,r])):a[f][1]=r,this}mn.prototype.clear=Kv,mn.prototype.delete=Jv,mn.prototype.get=Qv,mn.prototype.has=tx,mn.prototype.set=ex;function gn(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var f=e[r];this.set(f[0],f[1])}}function nx(){this.size=0,this.__data__={hash:new Kn,map:new(ni||mn),string:new Kn}}function rx(e){var r=Bo(this,e).delete(e);return this.size-=r?1:0,r}function ix(e){return Bo(this,e).get(e)}function ox(e){return Bo(this,e).has(e)}function ax(e,r){var a=Bo(this,e),f=a.size;return a.set(e,r),this.size+=a.size==f?0:1,this}gn.prototype.clear=nx,gn.prototype.delete=rx,gn.prototype.get=ix,gn.prototype.has=ox,gn.prototype.set=ax;function Jn(e){var r=-1,a=e==null?0:e.length;for(this.__data__=new gn;++r<a;)this.add(e[r])}function sx(e){return this.__data__.set(e,l),this}function ux(e){return this.__data__.has(e)}Jn.prototype.add=Jn.prototype.push=sx,Jn.prototype.has=ux;function Je(e){var r=this.__data__=new mn(e);this.size=r.size}function lx(){this.__data__=new mn,this.size=0}function fx(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}function cx(e){return this.__data__.get(e)}function hx(e){return this.__data__.has(e)}function px(e,r){var a=this.__data__;if(a instanceof mn){var f=a.__data__;if(!ni||f.length<i-1)return f.push([e,r]),this.size=++a.size,this;a=this.__data__=new gn(f)}return a.set(e,r),this.size=a.size,this}Je.prototype.clear=lx,Je.prototype.delete=fx,Je.prototype.get=cx,Je.prototype.has=hx,Je.prototype.set=px;function Dc(e,r){var a=at(e),f=!a&&rr(e),h=!a&&!f&&zn(e),g=!a&&!f&&!h&&Rr(e),_=a||f||h||g,y=_?Ls(e.length,Sv):[],S=y.length;for(var L in e)(r||Nt.call(e,L))&&!(_&&(L=="length"||h&&(L=="offset"||L=="parent")||g&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||yn(L,S)))&&y.push(L);return y}function kc(e){var r=e.length;return r?e[$s(0,r-1)]:t}function dx(e,r){return Fo(be(e),Qn(r,0,e.length))}function mx(e){return Fo(be(e))}function zs(e,r,a){(a!==t&&!Qe(e[r],a)||a===t&&!(r in e))&&_n(e,r,a)}function ai(e,r,a){var f=e[r];(!(Nt.call(e,r)&&Qe(f,a))||a===t&&!(r in e))&&_n(e,r,a)}function Co(e,r){for(var a=e.length;a--;)if(Qe(e[a][0],r))return a;return-1}function gx(e,r,a,f){return Dn(e,function(h,g,_){r(f,h,a(h),_)}),f}function Pc(e,r){return e&&on(r,te(r),e)}function _x(e,r){return e&&on(r,Te(r),e)}function _n(e,r,a){r=="__proto__"&&wo?wo(e,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[r]=a}function Bs(e,r){for(var a=-1,f=r.length,h=M(f),g=e==null;++a<f;)h[a]=g?t:xu(e,r[a]);return h}function Qn(e,r,a){return e===e&&(a!==t&&(e=e<=a?e:a),r!==t&&(e=e>=r?e:r)),e}function qe(e,r,a,f,h,g){var _,y=r&d,S=r&v,L=r&w;if(a&&(_=h?a(e,f,h,g):a(e)),_!==t)return _;if(!Bt(e))return e;var R=at(e);if(R){if(_=oy(e),!y)return be(e,_)}else{var P=ce(e),H=P==nt||P==pt;if(zn(e))return ah(e,y);if(P==kt||P==zt||H&&!h){if(_=S||H?{}:Ah(e),!y)return S?$x(e,_x(_,e)):Xx(e,Pc(_,e))}else{if(!Dt[P])return h?e:{};_=ay(e,P,y)}}g||(g=new Je);var V=g.get(e);if(V)return V;g.set(e,_),tp(e)?e.forEach(function(et){_.add(qe(et,r,a,et,e,g))}):Jh(e)&&e.forEach(function(et,dt){_.set(dt,qe(et,r,a,dt,e,g))});var tt=L?S?ou:iu:S?Te:te,lt=R?t:tt(e);return Ue(lt||e,function(et,dt){lt&&(dt=et,et=e[dt]),ai(_,dt,qe(et,r,a,dt,e,g))}),_}function vx(e){var r=te(e);return function(a){return jc(a,e,r)}}function jc(e,r,a){var f=a.length;if(e==null)return!f;for(e=Rt(e);f--;){var h=a[f],g=r[h],_=e[h];if(_===t&&!(h in e)||!g(_))return!1}return!0}function zc(e,r,a){if(typeof e!="function")throw new We(s);return pi(function(){e.apply(t,a)},r)}function si(e,r,a,f){var h=-1,g=lo,_=!0,y=e.length,S=[],L=r.length;if(!y)return S;a&&(r=jt(r,Ie(a))),f?(g=As,_=!1):r.length>=i&&(g=ti,_=!1,r=new Jn(r));t:for(;++h<y;){var R=e[h],P=a==null?R:a(R);if(R=f||R!==0?R:0,_&&P===P){for(var H=L;H--;)if(r[H]===P)continue t;S.push(R)}else g(r,P,f)||S.push(R)}return S}var Dn=ch(rn),Bc=ch(Us,!0);function xx(e,r){var a=!0;return Dn(e,function(f,h,g){return a=!!r(f,h,g),a}),a}function Eo(e,r,a){for(var f=-1,h=e.length;++f<h;){var g=e[f],_=r(g);if(_!=null&&(y===t?_===_&&!Oe(_):a(_,y)))var y=_,S=g}return S}function yx(e,r,a,f){var h=e.length;for(a=ut(a),a<0&&(a=-a>h?0:h+a),f=f===t||f>h?h:ut(f),f<0&&(f+=h),f=a>f?0:np(f);a<f;)e[a++]=r;return e}function Fc(e,r){var a=[];return Dn(e,function(f,h,g){r(f,h,g)&&a.push(f)}),a}function ie(e,r,a,f,h){var g=-1,_=e.length;for(a||(a=uy),h||(h=[]);++g<_;){var y=e[g];r>0&&a(y)?r>1?ie(y,r-1,a,f,h):In(h,y):f||(h[h.length]=y)}return h}var Fs=hh(),Uc=hh(!0);function rn(e,r){return e&&Fs(e,r,te)}function Us(e,r){return e&&Uc(e,r,te)}function No(e,r){return Nn(r,function(a){return wn(e[a])})}function tr(e,r){r=Pn(r,e);for(var a=0,f=r.length;e!=null&&a<f;)e=e[an(r[a++])];return a&&a==f?e:t}function Wc(e,r,a){var f=r(e);return at(e)?f:In(f,a(e))}function _e(e){return e==null?e===t?V_:St:Zn&&Zn in Rt(e)?ny(e):my(e)}function Ws(e,r){return e>r}function wx(e,r){return e!=null&&Nt.call(e,r)}function bx(e,r){return e!=null&&r in Rt(e)}function Sx(e,r,a){return e>=fe(r,a)&&e<Zt(r,a)}function Hs(e,r,a){for(var f=a?As:lo,h=e[0].length,g=e.length,_=g,y=M(g),S=1/0,L=[];_--;){var R=e[_];_&&r&&(R=jt(R,Ie(r))),S=fe(R.length,S),y[_]=!a&&(r||h>=120&&R.length>=120)?new Jn(_&&R):t}R=e[0];var P=-1,H=y[0];t:for(;++P<h&&L.length<S;){var V=R[P],tt=r?r(V):V;if(V=a||V!==0?V:0,!(H?ti(H,tt):f(L,tt,a))){for(_=g;--_;){var lt=y[_];if(!(lt?ti(lt,tt):f(e[_],tt,a)))continue t}H&&H.push(tt),L.push(V)}}return L}function Tx(e,r,a,f){return rn(e,function(h,g,_){r(f,a(h),g,_)}),f}function ui(e,r,a){r=Pn(r,e),e=Nh(e,r);var f=e==null?e:e[an(Ge(r))];return f==null?t:Ne(f,e,a)}function Hc(e){return Ht(e)&&_e(e)==zt}function Ax(e){return Ht(e)&&_e(e)==Qr}function Mx(e){return Ht(e)&&_e(e)==xt}function li(e,r,a,f,h){return e===r?!0:e==null||r==null||!Ht(e)&&!Ht(r)?e!==e&&r!==r:Cx(e,r,a,f,li,h)}function Cx(e,r,a,f,h,g){var _=at(e),y=at(r),S=_?Et:ce(e),L=y?Et:ce(r);S=S==zt?kt:S,L=L==zt?kt:L;var R=S==kt,P=L==kt,H=S==L;if(H&&zn(e)){if(!zn(r))return!1;_=!0,R=!1}if(H&&!R)return g||(g=new Je),_||Rr(e)?bh(e,r,a,f,h,g):ty(e,r,S,a,f,h,g);if(!(a&x)){var V=R&&Nt.call(e,"__wrapped__"),tt=P&&Nt.call(r,"__wrapped__");if(V||tt){var lt=V?e.value():e,et=tt?r.value():r;return g||(g=new Je),h(lt,et,a,f,g)}}return H?(g||(g=new Je),ey(e,r,a,f,h,g)):!1}function Ex(e){return Ht(e)&&ce(e)==k}function qs(e,r,a,f){var h=a.length,g=h,_=!f;if(e==null)return!g;for(e=Rt(e);h--;){var y=a[h];if(_&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++h<g;){y=a[h];var S=y[0],L=e[S],R=y[1];if(_&&y[2]){if(L===t&&!(S in e))return!1}else{var P=new Je;if(f)var H=f(L,R,S,e,r,P);if(!(H===t?li(R,L,x|A,f,P):H))return!1}}return!0}function qc(e){if(!Bt(e)||fy(e))return!1;var r=wn(e)?Ev:v0;return r.test(nr(e))}function Nx(e){return Ht(e)&&_e(e)==Lt}function Ix(e){return Ht(e)&&ce(e)==re}function Lx(e){return Ht(e)&&Go(e.length)&&!!Pt[_e(e)]}function Yc(e){return typeof e=="function"?e:e==null?Ae:typeof e=="object"?at(e)?$c(e[0],e[1]):Xc(e):pp(e)}function Ys(e){if(!hi(e))return Dv(e);var r=[];for(var a in Rt(e))Nt.call(e,a)&&a!="constructor"&&r.push(a);return r}function Ox(e){if(!Bt(e))return dy(e);var r=hi(e),a=[];for(var f in e)f=="constructor"&&(r||!Nt.call(e,f))||a.push(f);return a}function Gs(e,r){return e<r}function Gc(e,r){var a=-1,f=Se(e)?M(e.length):[];return Dn(e,function(h,g,_){f[++a]=r(h,g,_)}),f}function Xc(e){var r=su(e);return r.length==1&&r[0][2]?Ch(r[0][0],r[0][1]):function(a){return a===e||qs(a,e,r)}}function $c(e,r){return lu(e)&&Mh(r)?Ch(an(e),r):function(a){var f=xu(a,e);return f===t&&f===r?yu(a,e):li(r,f,x|A)}}function Io(e,r,a,f,h){e!==r&&Fs(r,function(g,_){if(h||(h=new Je),Bt(g))Rx(e,r,_,a,Io,f,h);else{var y=f?f(cu(e,_),g,_+"",e,r,h):t;y===t&&(y=g),zs(e,_,y)}},Te)}function Rx(e,r,a,f,h,g,_){var y=cu(e,a),S=cu(r,a),L=_.get(S);if(L){zs(e,a,L);return}var R=g?g(y,S,a+"",e,r,_):t,P=R===t;if(P){var H=at(S),V=!H&&zn(S),tt=!H&&!V&&Rr(S);R=S,H||V||tt?at(y)?R=y:Yt(y)?R=be(y):V?(P=!1,R=ah(S,!0)):tt?(P=!1,R=sh(S,!0)):R=[]:di(S)||rr(S)?(R=y,rr(y)?R=rp(y):(!Bt(y)||wn(y))&&(R=Ah(S))):P=!1}P&&(_.set(S,R),h(R,S,f,g,_),_.delete(S)),zs(e,a,R)}function Vc(e,r){var a=e.length;if(!!a)return r+=r<0?a:0,yn(r,a)?e[r]:t}function Zc(e,r,a){r.length?r=jt(r,function(g){return at(g)?function(_){return tr(_,g.length===1?g[0]:g)}:g}):r=[Ae];var f=-1;r=jt(r,Ie(J()));var h=Gc(e,function(g,_,y){var S=jt(r,function(L){return L(g)});return{criteria:S,index:++f,value:g}});return av(h,function(g,_){return Gx(g,_,a)})}function Dx(e,r){return Kc(e,r,function(a,f){return yu(e,f)})}function Kc(e,r,a){for(var f=-1,h=r.length,g={};++f<h;){var _=r[f],y=tr(e,_);a(y,_)&&fi(g,Pn(_,e),y)}return g}function kx(e){return function(r){return tr(r,e)}}function Xs(e,r,a,f){var h=f?ov:Sr,g=-1,_=r.length,y=e;for(e===r&&(r=be(r)),a&&(y=jt(e,Ie(a)));++g<_;)for(var S=0,L=r[g],R=a?a(L):L;(S=h(y,R,S,f))>-1;)y!==e&&yo.call(y,S,1),yo.call(e,S,1);return e}function Jc(e,r){for(var a=e?r.length:0,f=a-1;a--;){var h=r[a];if(a==f||h!==g){var g=h;yn(h)?yo.call(e,h,1):Ks(e,h)}}return e}function $s(e,r){return e+So(Oc()*(r-e+1))}function Px(e,r,a,f){for(var h=-1,g=Zt(bo((r-e)/(a||1)),0),_=M(g);g--;)_[f?g:++h]=e,e+=a;return _}function Vs(e,r){var a="";if(!e||r<1||r>C)return a;do r%2&&(a+=e),r=So(r/2),r&&(e+=e);while(r);return a}function ct(e,r){return hu(Eh(e,r,Ae),e+"")}function jx(e){return kc(Dr(e))}function zx(e,r){var a=Dr(e);return Fo(a,Qn(r,0,a.length))}function fi(e,r,a,f){if(!Bt(e))return e;r=Pn(r,e);for(var h=-1,g=r.length,_=g-1,y=e;y!=null&&++h<g;){var S=an(r[h]),L=a;if(S==="__proto__"||S==="constructor"||S==="prototype")return e;if(h!=_){var R=y[S];L=f?f(R,S,y):t,L===t&&(L=Bt(R)?R:yn(r[h+1])?[]:{})}ai(y,S,L),y=y[S]}return e}var Qc=To?function(e,r){return To.set(e,r),e}:Ae,Bx=wo?function(e,r){return wo(e,"toString",{configurable:!0,enumerable:!1,value:bu(r),writable:!0})}:Ae;function Fx(e){return Fo(Dr(e))}function Ye(e,r,a){var f=-1,h=e.length;r<0&&(r=-r>h?0:h+r),a=a>h?h:a,a<0&&(a+=h),h=r>a?0:a-r>>>0,r>>>=0;for(var g=M(h);++f<h;)g[f]=e[f+r];return g}function Ux(e,r){var a;return Dn(e,function(f,h,g){return a=r(f,h,g),!a}),!!a}function Lo(e,r,a){var f=0,h=e==null?f:e.length;if(typeof r=="number"&&r===r&&h<=Q){for(;f<h;){var g=f+h>>>1,_=e[g];_!==null&&!Oe(_)&&(a?_<=r:_<r)?f=g+1:h=g}return h}return Zs(e,r,Ae,a)}function Zs(e,r,a,f){var h=0,g=e==null?0:e.length;if(g===0)return 0;r=a(r);for(var _=r!==r,y=r===null,S=Oe(r),L=r===t;h<g;){var R=So((h+g)/2),P=a(e[R]),H=P!==t,V=P===null,tt=P===P,lt=Oe(P);if(_)var et=f||tt;else L?et=tt&&(f||H):y?et=tt&&H&&(f||!V):S?et=tt&&H&&!V&&(f||!lt):V||lt?et=!1:et=f?P<=r:P<r;et?h=R+1:g=R}return fe(g,Z)}function th(e,r){for(var a=-1,f=e.length,h=0,g=[];++a<f;){var _=e[a],y=r?r(_):_;if(!a||!Qe(y,S)){var S=y;g[h++]=_===0?0:_}}return g}function eh(e){return typeof e=="number"?e:Oe(e)?$:+e}function Le(e){if(typeof e=="string")return e;if(at(e))return jt(e,Le)+"";if(Oe(e))return Rc?Rc.call(e):"";var r=e+"";return r=="0"&&1/e==-F?"-0":r}function kn(e,r,a){var f=-1,h=lo,g=e.length,_=!0,y=[],S=y;if(a)_=!1,h=As;else if(g>=i){var L=r?null:Jx(e);if(L)return co(L);_=!1,h=ti,S=new Jn}else S=r?[]:y;t:for(;++f<g;){var R=e[f],P=r?r(R):R;if(R=a||R!==0?R:0,_&&P===P){for(var H=S.length;H--;)if(S[H]===P)continue t;r&&S.push(P),y.push(R)}else h(S,P,a)||(S!==y&&S.push(P),y.push(R))}return y}function Ks(e,r){return r=Pn(r,e),e=Nh(e,r),e==null||delete e[an(Ge(r))]}function nh(e,r,a,f){return fi(e,r,a(tr(e,r)),f)}function Oo(e,r,a,f){for(var h=e.length,g=f?h:-1;(f?g--:++g<h)&&r(e[g],g,e););return a?Ye(e,f?0:g,f?g+1:h):Ye(e,f?g+1:0,f?h:g)}function rh(e,r){var a=e;return a instanceof mt&&(a=a.value()),Ms(r,function(f,h){return h.func.apply(h.thisArg,In([f],h.args))},a)}function Js(e,r,a){var f=e.length;if(f<2)return f?kn(e[0]):[];for(var h=-1,g=M(f);++h<f;)for(var _=e[h],y=-1;++y<f;)y!=h&&(g[h]=si(g[h]||_,e[y],r,a));return kn(ie(g,1),r,a)}function ih(e,r,a){for(var f=-1,h=e.length,g=r.length,_={};++f<h;){var y=f<g?r[f]:t;a(_,e[f],y)}return _}function Qs(e){return Yt(e)?e:[]}function tu(e){return typeof e=="function"?e:Ae}function Pn(e,r){return at(e)?e:lu(e,r)?[e]:Rh(Mt(e))}var Wx=ct;function jn(e,r,a){var f=e.length;return a=a===t?f:a,!r&&a>=f?e:Ye(e,r,a)}var oh=Nv||function(e){return Qt.clearTimeout(e)};function ah(e,r){if(r)return e.slice();var a=e.length,f=Cc?Cc(a):new e.constructor(a);return e.copy(f),f}function eu(e){var r=new e.constructor(e.byteLength);return new vo(r).set(new vo(e)),r}function Hx(e,r){var a=r?eu(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function qx(e){var r=new e.constructor(e.source,Hf.exec(e));return r.lastIndex=e.lastIndex,r}function Yx(e){return oi?Rt(oi.call(e)):{}}function sh(e,r){var a=r?eu(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function uh(e,r){if(e!==r){var a=e!==t,f=e===null,h=e===e,g=Oe(e),_=r!==t,y=r===null,S=r===r,L=Oe(r);if(!y&&!L&&!g&&e>r||g&&_&&S&&!y&&!L||f&&_&&S||!a&&S||!h)return 1;if(!f&&!g&&!L&&e<r||L&&a&&h&&!f&&!g||y&&a&&h||!_&&h||!S)return-1}return 0}function Gx(e,r,a){for(var f=-1,h=e.criteria,g=r.criteria,_=h.length,y=a.length;++f<_;){var S=uh(h[f],g[f]);if(S){if(f>=y)return S;var L=a[f];return S*(L=="desc"?-1:1)}}return e.index-r.index}function lh(e,r,a,f){for(var h=-1,g=e.length,_=a.length,y=-1,S=r.length,L=Zt(g-_,0),R=M(S+L),P=!f;++y<S;)R[y]=r[y];for(;++h<_;)(P||h<g)&&(R[a[h]]=e[h]);for(;L--;)R[y++]=e[h++];return R}function fh(e,r,a,f){for(var h=-1,g=e.length,_=-1,y=a.length,S=-1,L=r.length,R=Zt(g-y,0),P=M(R+L),H=!f;++h<R;)P[h]=e[h];for(var V=h;++S<L;)P[V+S]=r[S];for(;++_<y;)(H||h<g)&&(P[V+a[_]]=e[h++]);return P}function be(e,r){var a=-1,f=e.length;for(r||(r=M(f));++a<f;)r[a]=e[a];return r}function on(e,r,a,f){var h=!a;a||(a={});for(var g=-1,_=r.length;++g<_;){var y=r[g],S=f?f(a[y],e[y],y,a,e):t;S===t&&(S=e[y]),h?_n(a,y,S):ai(a,y,S)}return a}function Xx(e,r){return on(e,uu(e),r)}function $x(e,r){return on(e,Sh(e),r)}function Ro(e,r){return function(a,f){var h=at(a)?Q0:gx,g=r?r():{};return h(a,e,J(f,2),g)}}function Ir(e){return ct(function(r,a){var f=-1,h=a.length,g=h>1?a[h-1]:t,_=h>2?a[2]:t;for(g=e.length>3&&typeof g=="function"?(h--,g):t,_&&ve(a[0],a[1],_)&&(g=h<3?t:g,h=1),r=Rt(r);++f<h;){var y=a[f];y&&e(r,y,f,g)}return r})}function ch(e,r){return function(a,f){if(a==null)return a;if(!Se(a))return e(a,f);for(var h=a.length,g=r?h:-1,_=Rt(a);(r?g--:++g<h)&&f(_[g],g,_)!==!1;);return a}}function hh(e){return function(r,a,f){for(var h=-1,g=Rt(r),_=f(r),y=_.length;y--;){var S=_[e?y:++h];if(a(g[S],S,g)===!1)break}return r}}function Vx(e,r,a){var f=r&z,h=ci(e);function g(){var _=this&&this!==Qt&&this instanceof g?h:e;return _.apply(f?a:this,arguments)}return g}function ph(e){return function(r){r=Mt(r);var a=Tr(r)?Ke(r):t,f=a?a[0]:r.charAt(0),h=a?jn(a,1).join(""):r.slice(1);return f[e]()+h}}function Lr(e){return function(r){return Ms(cp(fp(r).replace(B0,"")),e,"")}}function ci(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var a=Nr(e.prototype),f=e.apply(a,r);return Bt(f)?f:a}}function Zx(e,r,a){var f=ci(e);function h(){for(var g=arguments.length,_=M(g),y=g,S=Or(h);y--;)_[y]=arguments[y];var L=g<3&&_[0]!==S&&_[g-1]!==S?[]:Ln(_,S);if(g-=L.length,g<a)return vh(e,r,Do,h.placeholder,t,_,L,t,t,a-g);var R=this&&this!==Qt&&this instanceof h?f:e;return Ne(R,this,_)}return h}function dh(e){return function(r,a,f){var h=Rt(r);if(!Se(r)){var g=J(a,3);r=te(r),a=function(y){return g(h[y],y,h)}}var _=e(r,a,f);return _>-1?h[g?r[_]:_]:t}}function mh(e){return xn(function(r){var a=r.length,f=a,h=He.prototype.thru;for(e&&r.reverse();f--;){var g=r[f];if(typeof g!="function")throw new We(s);if(h&&!_&&zo(g)=="wrapper")var _=new He([],!0)}for(f=_?f:a;++f<a;){g=r[f];var y=zo(g),S=y=="wrapper"?au(g):t;S&&fu(S[0])&&S[1]==(B|E|O|K)&&!S[4].length&&S[9]==1?_=_[zo(S[0])].apply(_,S[3]):_=g.length==1&&fu(g)?_[y]():_.thru(g)}return function(){var L=arguments,R=L[0];if(_&&L.length==1&&at(R))return _.plant(R).value();for(var P=0,H=a?r[P].apply(this,L):R;++P<a;)H=r[P].call(this,H);return H}})}function Do(e,r,a,f,h,g,_,y,S,L){var R=r&B,P=r&z,H=r&Y,V=r&(E|D),tt=r&ht,lt=H?t:ci(e);function et(){for(var dt=arguments.length,_t=M(dt),Re=dt;Re--;)_t[Re]=arguments[Re];if(V)var xe=Or(et),De=uv(_t,xe);if(f&&(_t=lh(_t,f,h,V)),g&&(_t=fh(_t,g,_,V)),dt-=De,V&&dt<L){var Gt=Ln(_t,xe);return vh(e,r,Do,et.placeholder,a,_t,Gt,y,S,L-dt)}var tn=P?a:this,Sn=H?tn[e]:e;return dt=_t.length,y?_t=gy(_t,y):tt&&dt>1&&_t.reverse(),R&&S<dt&&(_t.length=S),this&&this!==Qt&&this instanceof et&&(Sn=lt||ci(Sn)),Sn.apply(tn,_t)}return et}function gh(e,r){return function(a,f){return Tx(a,e,r(f),{})}}function ko(e,r){return function(a,f){var h;if(a===t&&f===t)return r;if(a!==t&&(h=a),f!==t){if(h===t)return f;typeof a=="string"||typeof f=="string"?(a=Le(a),f=Le(f)):(a=eh(a),f=eh(f)),h=e(a,f)}return h}}function nu(e){return xn(function(r){return r=jt(r,Ie(J())),ct(function(a){var f=this;return e(r,function(h){return Ne(h,f,a)})})})}function Po(e,r){r=r===t?" ":Le(r);var a=r.length;if(a<2)return a?Vs(r,e):r;var f=Vs(r,bo(e/Ar(r)));return Tr(r)?jn(Ke(f),0,e).join(""):f.slice(0,e)}function Kx(e,r,a,f){var h=r&z,g=ci(e);function _(){for(var y=-1,S=arguments.length,L=-1,R=f.length,P=M(R+S),H=this&&this!==Qt&&this instanceof _?g:e;++L<R;)P[L]=f[L];for(;S--;)P[L++]=arguments[++y];return Ne(H,h?a:this,P)}return _}function _h(e){return function(r,a,f){return f&&typeof f!="number"&&ve(r,a,f)&&(a=f=t),r=bn(r),a===t?(a=r,r=0):a=bn(a),f=f===t?r<a?1:-1:bn(f),Px(r,a,f,e)}}function jo(e){return function(r,a){return typeof r=="string"&&typeof a=="string"||(r=Xe(r),a=Xe(a)),e(r,a)}}function vh(e,r,a,f,h,g,_,y,S,L){var R=r&E,P=R?_:t,H=R?t:_,V=R?g:t,tt=R?t:g;r|=R?O:j,r&=~(R?j:O),r&I||(r&=~(z|Y));var lt=[e,r,h,V,P,tt,H,y,S,L],et=a.apply(t,lt);return fu(e)&&Ih(et,lt),et.placeholder=f,Lh(et,e,r)}function ru(e){var r=Vt[e];return function(a,f){if(a=Xe(a),f=f==null?0:fe(ut(f),292),f&&Lc(a)){var h=(Mt(a)+"e").split("e"),g=r(h[0]+"e"+(+h[1]+f));return h=(Mt(g)+"e").split("e"),+(h[0]+"e"+(+h[1]-f))}return r(a)}}var Jx=Cr&&1/co(new Cr([,-0]))[1]==F?function(e){return new Cr(e)}:Au;function xh(e){return function(r){var a=ce(r);return a==k?Rs(r):a==re?mv(r):sv(r,e(r))}}function vn(e,r,a,f,h,g,_,y){var S=r&Y;if(!S&&typeof e!="function")throw new We(s);var L=f?f.length:0;if(L||(r&=~(O|j),f=h=t),_=_===t?_:Zt(ut(_),0),y=y===t?y:ut(y),L-=h?h.length:0,r&j){var R=f,P=h;f=h=t}var H=S?t:au(e),V=[e,r,a,f,h,R,P,g,_,y];if(H&&py(V,H),e=V[0],r=V[1],a=V[2],f=V[3],h=V[4],y=V[9]=V[9]===t?S?0:e.length:Zt(V[9]-L,0),!y&&r&(E|D)&&(r&=~(E|D)),!r||r==z)var tt=Vx(e,r,a);else r==E||r==D?tt=Zx(e,r,y):(r==O||r==(z|O))&&!h.length?tt=Kx(e,r,a,f):tt=Do.apply(t,V);var lt=H?Qc:Ih;return Lh(lt(tt,V),e,r)}function yh(e,r,a,f){return e===t||Qe(e,Mr[a])&&!Nt.call(f,a)?r:e}function wh(e,r,a,f,h,g){return Bt(e)&&Bt(r)&&(g.set(r,e),Io(e,r,t,wh,g),g.delete(r)),e}function Qx(e){return di(e)?t:e}function bh(e,r,a,f,h,g){var _=a&x,y=e.length,S=r.length;if(y!=S&&!(_&&S>y))return!1;var L=g.get(e),R=g.get(r);if(L&&R)return L==r&&R==e;var P=-1,H=!0,V=a&A?new Jn:t;for(g.set(e,r),g.set(r,e);++P<y;){var tt=e[P],lt=r[P];if(f)var et=_?f(lt,tt,P,r,e,g):f(tt,lt,P,e,r,g);if(et!==t){if(et)continue;H=!1;break}if(V){if(!Cs(r,function(dt,_t){if(!ti(V,_t)&&(tt===dt||h(tt,dt,a,f,g)))return V.push(_t)})){H=!1;break}}else if(!(tt===lt||h(tt,lt,a,f,g))){H=!1;break}}return g.delete(e),g.delete(r),H}function ty(e,r,a,f,h,g,_){switch(a){case wr:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Qr:return!(e.byteLength!=r.byteLength||!g(new vo(e),new vo(r)));case Wt:case xt:case It:return Qe(+e,+r);case W:return e.name==r.name&&e.message==r.message;case Lt:case we:return e==r+"";case k:var y=Rs;case re:var S=f&x;if(y||(y=co),e.size!=r.size&&!S)return!1;var L=_.get(e);if(L)return L==r;f|=A,_.set(e,r);var R=bh(y(e),y(r),f,h,g,_);return _.delete(e),R;case oo:if(oi)return oi.call(e)==oi.call(r)}return!1}function ey(e,r,a,f,h,g){var _=a&x,y=iu(e),S=y.length,L=iu(r),R=L.length;if(S!=R&&!_)return!1;for(var P=S;P--;){var H=y[P];if(!(_?H in r:Nt.call(r,H)))return!1}var V=g.get(e),tt=g.get(r);if(V&&tt)return V==r&&tt==e;var lt=!0;g.set(e,r),g.set(r,e);for(var et=_;++P<S;){H=y[P];var dt=e[H],_t=r[H];if(f)var Re=_?f(_t,dt,H,r,e,g):f(dt,_t,H,e,r,g);if(!(Re===t?dt===_t||h(dt,_t,a,f,g):Re)){lt=!1;break}et||(et=H=="constructor")}if(lt&&!et){var xe=e.constructor,De=r.constructor;xe!=De&&"constructor"in e&&"constructor"in r&&!(typeof xe=="function"&&xe instanceof xe&&typeof De=="function"&&De instanceof De)&&(lt=!1)}return g.delete(e),g.delete(r),lt}function xn(e){return hu(Eh(e,t,jh),e+"")}function iu(e){return Wc(e,te,uu)}function ou(e){return Wc(e,Te,Sh)}var au=To?function(e){return To.get(e)}:Au;function zo(e){for(var r=e.name+"",a=Er[r],f=Nt.call(Er,r)?a.length:0;f--;){var h=a[f],g=h.func;if(g==null||g==e)return h.name}return r}function Or(e){var r=Nt.call(m,"placeholder")?m:e;return r.placeholder}function J(){var e=m.iteratee||Su;return e=e===Su?Yc:e,arguments.length?e(arguments[0],arguments[1]):e}function Bo(e,r){var a=e.__data__;return ly(r)?a[typeof r=="string"?"string":"hash"]:a.map}function su(e){for(var r=te(e),a=r.length;a--;){var f=r[a],h=e[f];r[a]=[f,h,Mh(h)]}return r}function er(e,r){var a=hv(e,r);return qc(a)?a:t}function ny(e){var r=Nt.call(e,Zn),a=e[Zn];try{e[Zn]=t;var f=!0}catch(g){}var h=go.call(e);return f&&(r?e[Zn]=a:delete e[Zn]),h}var uu=ks?function(e){return e==null?[]:(e=Rt(e),Nn(ks(e),function(r){return Nc.call(e,r)}))}:Mu,Sh=ks?function(e){for(var r=[];e;)In(r,uu(e)),e=xo(e);return r}:Mu,ce=_e;(Ps&&ce(new Ps(new ArrayBuffer(1)))!=wr||ni&&ce(new ni)!=k||js&&ce(js.resolve())!=Jt||Cr&&ce(new Cr)!=re||ri&&ce(new ri)!=Jr)&&(ce=function(e){var r=_e(e),a=r==kt?e.constructor:t,f=a?nr(a):"";if(f)switch(f){case zv:return wr;case Bv:return k;case Fv:return Jt;case Uv:return re;case Wv:return Jr}return r});function ry(e,r,a){for(var f=-1,h=a.length;++f<h;){var g=a[f],_=g.size;switch(g.type){case"drop":e+=_;break;case"dropRight":r-=_;break;case"take":r=fe(r,e+_);break;case"takeRight":e=Zt(e,r-_);break}}return{start:e,end:r}}function iy(e){var r=e.match(f0);return r?r[1].split(c0):[]}function Th(e,r,a){r=Pn(r,e);for(var f=-1,h=r.length,g=!1;++f<h;){var _=an(r[f]);if(!(g=e!=null&&a(e,_)))break;e=e[_]}return g||++f!=h?g:(h=e==null?0:e.length,!!h&&Go(h)&&yn(_,h)&&(at(e)||rr(e)))}function oy(e){var r=e.length,a=new e.constructor(r);return r&&typeof e[0]=="string"&&Nt.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Ah(e){return typeof e.constructor=="function"&&!hi(e)?Nr(xo(e)):{}}function ay(e,r,a){var f=e.constructor;switch(r){case Qr:return eu(e);case Wt:case xt:return new f(+e);case wr:return Hx(e,a);case ss:case us:case ls:case fs:case cs:case hs:case ps:case ds:case ms:return sh(e,a);case k:return new f;case It:case we:return new f(e);case Lt:return qx(e);case re:return new f;case oo:return Yx(e)}}function sy(e,r){var a=r.length;if(!a)return e;var f=a-1;return r[f]=(a>1?"& ":"")+r[f],r=r.join(a>2?", ":" "),e.replace(l0,`{
/* [wrapped with `+r+`] */
`)}function uy(e){return at(e)||rr(e)||!!(Ic&&e&&e[Ic])}function yn(e,r){var a=typeof e;return r=r==null?C:r,!!r&&(a=="number"||a!="symbol"&&y0.test(e))&&e>-1&&e%1==0&&e<r}function ve(e,r,a){if(!Bt(a))return!1;var f=typeof r;return(f=="number"?Se(a)&&yn(r,a.length):f=="string"&&r in a)?Qe(a[r],e):!1}function lu(e,r){if(at(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Oe(e)?!0:o0.test(e)||!i0.test(e)||r!=null&&e in Rt(r)}function ly(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function fu(e){var r=zo(e),a=m[r];if(typeof a!="function"||!(r in mt.prototype))return!1;if(e===a)return!0;var f=au(a);return!!f&&e===f[0]}function fy(e){return!!Mc&&Mc in e}var cy=po?wn:Cu;function hi(e){var r=e&&e.constructor,a=typeof r=="function"&&r.prototype||Mr;return e===a}function Mh(e){return e===e&&!Bt(e)}function Ch(e,r){return function(a){return a==null?!1:a[e]===r&&(r!==t||e in Rt(a))}}function hy(e){var r=qo(e,function(f){return a.size===c&&a.clear(),f}),a=r.cache;return r}function py(e,r){var a=e[1],f=r[1],h=a|f,g=h<(z|Y|B),_=f==B&&a==E||f==B&&a==K&&e[7].length<=r[8]||f==(B|K)&&r[7].length<=r[8]&&a==E;if(!(g||_))return e;f&z&&(e[2]=r[2],h|=a&z?0:I);var y=r[3];if(y){var S=e[3];e[3]=S?lh(S,y,r[4]):y,e[4]=S?Ln(e[3],p):r[4]}return y=r[5],y&&(S=e[5],e[5]=S?fh(S,y,r[6]):y,e[6]=S?Ln(e[5],p):r[6]),y=r[7],y&&(e[7]=y),f&B&&(e[8]=e[8]==null?r[8]:fe(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=h,e}function dy(e){var r=[];if(e!=null)for(var a in Rt(e))r.push(a);return r}function my(e){return go.call(e)}function Eh(e,r,a){return r=Zt(r===t?e.length-1:r,0),function(){for(var f=arguments,h=-1,g=Zt(f.length-r,0),_=M(g);++h<g;)_[h]=f[r+h];h=-1;for(var y=M(r+1);++h<r;)y[h]=f[h];return y[r]=a(_),Ne(e,this,y)}}function Nh(e,r){return r.length<2?e:tr(e,Ye(r,0,-1))}function gy(e,r){for(var a=e.length,f=fe(r.length,a),h=be(e);f--;){var g=r[f];e[f]=yn(g,a)?h[g]:t}return e}function cu(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var Ih=Oh(Qc),pi=Lv||function(e,r){return Qt.setTimeout(e,r)},hu=Oh(Bx);function Lh(e,r,a){var f=r+"";return hu(e,sy(f,_y(iy(f),a)))}function Oh(e){var r=0,a=0;return function(){var f=kv(),h=X-(f-a);if(a=f,h>0){if(++r>=gt)return arguments[0]}else r=0;return e.apply(t,arguments)}}function Fo(e,r){var a=-1,f=e.length,h=f-1;for(r=r===t?f:r;++a<r;){var g=$s(a,h),_=e[g];e[g]=e[a],e[a]=_}return e.length=r,e}var Rh=hy(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(a0,function(a,f,h,g){r.push(h?g.replace(d0,"$1"):f||a)}),r});function an(e){if(typeof e=="string"||Oe(e))return e;var r=e+"";return r=="0"&&1/e==-F?"-0":r}function nr(e){if(e!=null){try{return mo.call(e)}catch(r){}try{return e+""}catch(r){}}return""}function _y(e,r){return Ue(it,function(a){var f="_."+a[0];r&a[1]&&!lo(e,f)&&e.push(f)}),e.sort()}function Dh(e){if(e instanceof mt)return e.clone();var r=new He(e.__wrapped__,e.__chain__);return r.__actions__=be(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function vy(e,r,a){(a?ve(e,r,a):r===t)?r=1:r=Zt(ut(r),0);var f=e==null?0:e.length;if(!f||r<1)return[];for(var h=0,g=0,_=M(bo(f/r));h<f;)_[g++]=Ye(e,h,h+=r);return _}function xy(e){for(var r=-1,a=e==null?0:e.length,f=0,h=[];++r<a;){var g=e[r];g&&(h[f++]=g)}return h}function yy(){var e=arguments.length;if(!e)return[];for(var r=M(e-1),a=arguments[0],f=e;f--;)r[f-1]=arguments[f];return In(at(a)?be(a):[a],ie(r,1))}var wy=ct(function(e,r){return Yt(e)?si(e,ie(r,1,Yt,!0)):[]}),by=ct(function(e,r){var a=Ge(r);return Yt(a)&&(a=t),Yt(e)?si(e,ie(r,1,Yt,!0),J(a,2)):[]}),Sy=ct(function(e,r){var a=Ge(r);return Yt(a)&&(a=t),Yt(e)?si(e,ie(r,1,Yt,!0),t,a):[]});function Ty(e,r,a){var f=e==null?0:e.length;return f?(r=a||r===t?1:ut(r),Ye(e,r<0?0:r,f)):[]}function Ay(e,r,a){var f=e==null?0:e.length;return f?(r=a||r===t?1:ut(r),r=f-r,Ye(e,0,r<0?0:r)):[]}function My(e,r){return e&&e.length?Oo(e,J(r,3),!0,!0):[]}function Cy(e,r){return e&&e.length?Oo(e,J(r,3),!0):[]}function Ey(e,r,a,f){var h=e==null?0:e.length;return h?(a&&typeof a!="number"&&ve(e,r,a)&&(a=0,f=h),yx(e,r,a,f)):[]}function kh(e,r,a){var f=e==null?0:e.length;if(!f)return-1;var h=a==null?0:ut(a);return h<0&&(h=Zt(f+h,0)),fo(e,J(r,3),h)}function Ph(e,r,a){var f=e==null?0:e.length;if(!f)return-1;var h=f-1;return a!==t&&(h=ut(a),h=a<0?Zt(f+h,0):fe(h,f-1)),fo(e,J(r,3),h,!0)}function jh(e){var r=e==null?0:e.length;return r?ie(e,1):[]}function Ny(e){var r=e==null?0:e.length;return r?ie(e,F):[]}function Iy(e,r){var a=e==null?0:e.length;return a?(r=r===t?1:ut(r),ie(e,r)):[]}function Ly(e){for(var r=-1,a=e==null?0:e.length,f={};++r<a;){var h=e[r];f[h[0]]=h[1]}return f}function zh(e){return e&&e.length?e[0]:t}function Oy(e,r,a){var f=e==null?0:e.length;if(!f)return-1;var h=a==null?0:ut(a);return h<0&&(h=Zt(f+h,0)),Sr(e,r,h)}function Ry(e){var r=e==null?0:e.length;return r?Ye(e,0,-1):[]}var Dy=ct(function(e){var r=jt(e,Qs);return r.length&&r[0]===e[0]?Hs(r):[]}),ky=ct(function(e){var r=Ge(e),a=jt(e,Qs);return r===Ge(a)?r=t:a.pop(),a.length&&a[0]===e[0]?Hs(a,J(r,2)):[]}),Py=ct(function(e){var r=Ge(e),a=jt(e,Qs);return r=typeof r=="function"?r:t,r&&a.pop(),a.length&&a[0]===e[0]?Hs(a,t,r):[]});function jy(e,r){return e==null?"":Rv.call(e,r)}function Ge(e){var r=e==null?0:e.length;return r?e[r-1]:t}function zy(e,r,a){var f=e==null?0:e.length;if(!f)return-1;var h=f;return a!==t&&(h=ut(a),h=h<0?Zt(f+h,0):fe(h,f-1)),r===r?_v(e,r,h):fo(e,vc,h,!0)}function By(e,r){return e&&e.length?Vc(e,ut(r)):t}var Fy=ct(Bh);function Bh(e,r){return e&&e.length&&r&&r.length?Xs(e,r):e}function Uy(e,r,a){return e&&e.length&&r&&r.length?Xs(e,r,J(a,2)):e}function Wy(e,r,a){return e&&e.length&&r&&r.length?Xs(e,r,t,a):e}var Hy=xn(function(e,r){var a=e==null?0:e.length,f=Bs(e,r);return Jc(e,jt(r,function(h){return yn(h,a)?+h:h}).sort(uh)),f});function qy(e,r){var a=[];if(!(e&&e.length))return a;var f=-1,h=[],g=e.length;for(r=J(r,3);++f<g;){var _=e[f];r(_,f,e)&&(a.push(_),h.push(f))}return Jc(e,h),a}function pu(e){return e==null?e:jv.call(e)}function Yy(e,r,a){var f=e==null?0:e.length;return f?(a&&typeof a!="number"&&ve(e,r,a)?(r=0,a=f):(r=r==null?0:ut(r),a=a===t?f:ut(a)),Ye(e,r,a)):[]}function Gy(e,r){return Lo(e,r)}function Xy(e,r,a){return Zs(e,r,J(a,2))}function $y(e,r){var a=e==null?0:e.length;if(a){var f=Lo(e,r);if(f<a&&Qe(e[f],r))return f}return-1}function Vy(e,r){return Lo(e,r,!0)}function Zy(e,r,a){return Zs(e,r,J(a,2),!0)}function Ky(e,r){var a=e==null?0:e.length;if(a){var f=Lo(e,r,!0)-1;if(Qe(e[f],r))return f}return-1}function Jy(e){return e&&e.length?th(e):[]}function Qy(e,r){return e&&e.length?th(e,J(r,2)):[]}function t1(e){var r=e==null?0:e.length;return r?Ye(e,1,r):[]}function e1(e,r,a){return e&&e.length?(r=a||r===t?1:ut(r),Ye(e,0,r<0?0:r)):[]}function n1(e,r,a){var f=e==null?0:e.length;return f?(r=a||r===t?1:ut(r),r=f-r,Ye(e,r<0?0:r,f)):[]}function r1(e,r){return e&&e.length?Oo(e,J(r,3),!1,!0):[]}function i1(e,r){return e&&e.length?Oo(e,J(r,3)):[]}var o1=ct(function(e){return kn(ie(e,1,Yt,!0))}),a1=ct(function(e){var r=Ge(e);return Yt(r)&&(r=t),kn(ie(e,1,Yt,!0),J(r,2))}),s1=ct(function(e){var r=Ge(e);return r=typeof r=="function"?r:t,kn(ie(e,1,Yt,!0),t,r)});function u1(e){return e&&e.length?kn(e):[]}function l1(e,r){return e&&e.length?kn(e,J(r,2)):[]}function f1(e,r){return r=typeof r=="function"?r:t,e&&e.length?kn(e,t,r):[]}function du(e){if(!(e&&e.length))return[];var r=0;return e=Nn(e,function(a){if(Yt(a))return r=Zt(a.length,r),!0}),Ls(r,function(a){return jt(e,Es(a))})}function Fh(e,r){if(!(e&&e.length))return[];var a=du(e);return r==null?a:jt(a,function(f){return Ne(r,t,f)})}var c1=ct(function(e,r){return Yt(e)?si(e,r):[]}),h1=ct(function(e){return Js(Nn(e,Yt))}),p1=ct(function(e){var r=Ge(e);return Yt(r)&&(r=t),Js(Nn(e,Yt),J(r,2))}),d1=ct(function(e){var r=Ge(e);return r=typeof r=="function"?r:t,Js(Nn(e,Yt),t,r)}),m1=ct(du);function g1(e,r){return ih(e||[],r||[],ai)}function _1(e,r){return ih(e||[],r||[],fi)}var v1=ct(function(e){var r=e.length,a=r>1?e[r-1]:t;return a=typeof a=="function"?(e.pop(),a):t,Fh(e,a)});function Uh(e){var r=m(e);return r.__chain__=!0,r}function x1(e,r){return r(e),e}function Uo(e,r){return r(e)}var y1=xn(function(e){var r=e.length,a=r?e[0]:0,f=this.__wrapped__,h=function(g){return Bs(g,e)};return r>1||this.__actions__.length||!(f instanceof mt)||!yn(a)?this.thru(h):(f=f.slice(a,+a+(r?1:0)),f.__actions__.push({func:Uo,args:[h],thisArg:t}),new He(f,this.__chain__).thru(function(g){return r&&!g.length&&g.push(t),g}))});function w1(){return Uh(this)}function b1(){return new He(this.value(),this.__chain__)}function S1(){this.__values__===t&&(this.__values__=ep(this.value()));var e=this.__index__>=this.__values__.length,r=e?t:this.__values__[this.__index__++];return{done:e,value:r}}function T1(){return this}function A1(e){for(var r,a=this;a instanceof Mo;){var f=Dh(a);f.__index__=0,f.__values__=t,r?h.__wrapped__=f:r=f;var h=f;a=a.__wrapped__}return h.__wrapped__=e,r}function M1(){var e=this.__wrapped__;if(e instanceof mt){var r=e;return this.__actions__.length&&(r=new mt(this)),r=r.reverse(),r.__actions__.push({func:Uo,args:[pu],thisArg:t}),new He(r,this.__chain__)}return this.thru(pu)}function C1(){return rh(this.__wrapped__,this.__actions__)}var E1=Ro(function(e,r,a){Nt.call(e,a)?++e[a]:_n(e,a,1)});function N1(e,r,a){var f=at(e)?gc:xx;return a&&ve(e,r,a)&&(r=t),f(e,J(r,3))}function I1(e,r){var a=at(e)?Nn:Fc;return a(e,J(r,3))}var L1=dh(kh),O1=dh(Ph);function R1(e,r){return ie(Wo(e,r),1)}function D1(e,r){return ie(Wo(e,r),F)}function k1(e,r,a){return a=a===t?1:ut(a),ie(Wo(e,r),a)}function Wh(e,r){var a=at(e)?Ue:Dn;return a(e,J(r,3))}function Hh(e,r){var a=at(e)?tv:Bc;return a(e,J(r,3))}var P1=Ro(function(e,r,a){Nt.call(e,a)?e[a].push(r):_n(e,a,[r])});function j1(e,r,a,f){e=Se(e)?e:Dr(e),a=a&&!f?ut(a):0;var h=e.length;return a<0&&(a=Zt(h+a,0)),Xo(e)?a<=h&&e.indexOf(r,a)>-1:!!h&&Sr(e,r,a)>-1}var z1=ct(function(e,r,a){var f=-1,h=typeof r=="function",g=Se(e)?M(e.length):[];return Dn(e,function(_){g[++f]=h?Ne(r,_,a):ui(_,r,a)}),g}),B1=Ro(function(e,r,a){_n(e,a,r)});function Wo(e,r){var a=at(e)?jt:Gc;return a(e,J(r,3))}function F1(e,r,a,f){return e==null?[]:(at(r)||(r=r==null?[]:[r]),a=f?t:a,at(a)||(a=a==null?[]:[a]),Zc(e,r,a))}var U1=Ro(function(e,r,a){e[a?0:1].push(r)},function(){return[[],[]]});function W1(e,r,a){var f=at(e)?Ms:yc,h=arguments.length<3;return f(e,J(r,4),a,h,Dn)}function H1(e,r,a){var f=at(e)?ev:yc,h=arguments.length<3;return f(e,J(r,4),a,h,Bc)}function q1(e,r){var a=at(e)?Nn:Fc;return a(e,Yo(J(r,3)))}function Y1(e){var r=at(e)?kc:jx;return r(e)}function G1(e,r,a){(a?ve(e,r,a):r===t)?r=1:r=ut(r);var f=at(e)?dx:zx;return f(e,r)}function X1(e){var r=at(e)?mx:Fx;return r(e)}function $1(e){if(e==null)return 0;if(Se(e))return Xo(e)?Ar(e):e.length;var r=ce(e);return r==k||r==re?e.size:Ys(e).length}function V1(e,r,a){var f=at(e)?Cs:Ux;return a&&ve(e,r,a)&&(r=t),f(e,J(r,3))}var Z1=ct(function(e,r){if(e==null)return[];var a=r.length;return a>1&&ve(e,r[0],r[1])?r=[]:a>2&&ve(r[0],r[1],r[2])&&(r=[r[0]]),Zc(e,ie(r,1),[])}),Ho=Iv||function(){return Qt.Date.now()};function K1(e,r){if(typeof r!="function")throw new We(s);return e=ut(e),function(){if(--e<1)return r.apply(this,arguments)}}function qh(e,r,a){return r=a?t:r,r=e&&r==null?e.length:r,vn(e,B,t,t,t,t,r)}function Yh(e,r){var a;if(typeof r!="function")throw new We(s);return e=ut(e),function(){return--e>0&&(a=r.apply(this,arguments)),e<=1&&(r=t),a}}var mu=ct(function(e,r,a){var f=z;if(a.length){var h=Ln(a,Or(mu));f|=O}return vn(e,f,r,a,h)}),Gh=ct(function(e,r,a){var f=z|Y;if(a.length){var h=Ln(a,Or(Gh));f|=O}return vn(r,f,e,a,h)});function Xh(e,r,a){r=a?t:r;var f=vn(e,E,t,t,t,t,t,r);return f.placeholder=Xh.placeholder,f}function $h(e,r,a){r=a?t:r;var f=vn(e,D,t,t,t,t,t,r);return f.placeholder=$h.placeholder,f}function Vh(e,r,a){var f,h,g,_,y,S,L=0,R=!1,P=!1,H=!0;if(typeof e!="function")throw new We(s);r=Xe(r)||0,Bt(a)&&(R=!!a.leading,P="maxWait"in a,g=P?Zt(Xe(a.maxWait)||0,r):g,H="trailing"in a?!!a.trailing:H);function V(Gt){var tn=f,Sn=h;return f=h=t,L=Gt,_=e.apply(Sn,tn),_}function tt(Gt){return L=Gt,y=pi(dt,r),R?V(Gt):_}function lt(Gt){var tn=Gt-S,Sn=Gt-L,dp=r-tn;return P?fe(dp,g-Sn):dp}function et(Gt){var tn=Gt-S,Sn=Gt-L;return S===t||tn>=r||tn<0||P&&Sn>=g}function dt(){var Gt=Ho();if(et(Gt))return _t(Gt);y=pi(dt,lt(Gt))}function _t(Gt){return y=t,H&&f?V(Gt):(f=h=t,_)}function Re(){y!==t&&oh(y),L=0,f=S=h=y=t}function xe(){return y===t?_:_t(Ho())}function De(){var Gt=Ho(),tn=et(Gt);if(f=arguments,h=this,S=Gt,tn){if(y===t)return tt(S);if(P)return oh(y),y=pi(dt,r),V(S)}return y===t&&(y=pi(dt,r)),_}return De.cancel=Re,De.flush=xe,De}var J1=ct(function(e,r){return zc(e,1,r)}),Q1=ct(function(e,r,a){return zc(e,Xe(r)||0,a)});function tw(e){return vn(e,ht)}function qo(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new We(s);var a=function(){var f=arguments,h=r?r.apply(this,f):f[0],g=a.cache;if(g.has(h))return g.get(h);var _=e.apply(this,f);return a.cache=g.set(h,_)||g,_};return a.cache=new(qo.Cache||gn),a}qo.Cache=gn;function Yo(e){if(typeof e!="function")throw new We(s);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function ew(e){return Yh(2,e)}var nw=Wx(function(e,r){r=r.length==1&&at(r[0])?jt(r[0],Ie(J())):jt(ie(r,1),Ie(J()));var a=r.length;return ct(function(f){for(var h=-1,g=fe(f.length,a);++h<g;)f[h]=r[h].call(this,f[h]);return Ne(e,this,f)})}),gu=ct(function(e,r){var a=Ln(r,Or(gu));return vn(e,O,t,r,a)}),Zh=ct(function(e,r){var a=Ln(r,Or(Zh));return vn(e,j,t,r,a)}),rw=xn(function(e,r){return vn(e,K,t,t,t,r)});function iw(e,r){if(typeof e!="function")throw new We(s);return r=r===t?r:ut(r),ct(e,r)}function ow(e,r){if(typeof e!="function")throw new We(s);return r=r==null?0:Zt(ut(r),0),ct(function(a){var f=a[r],h=jn(a,0,r);return f&&In(h,f),Ne(e,this,h)})}function aw(e,r,a){var f=!0,h=!0;if(typeof e!="function")throw new We(s);return Bt(a)&&(f="leading"in a?!!a.leading:f,h="trailing"in a?!!a.trailing:h),Vh(e,r,{leading:f,maxWait:r,trailing:h})}function sw(e){return qh(e,1)}function uw(e,r){return gu(tu(r),e)}function lw(){if(!arguments.length)return[];var e=arguments[0];return at(e)?e:[e]}function fw(e){return qe(e,w)}function cw(e,r){return r=typeof r=="function"?r:t,qe(e,w,r)}function hw(e){return qe(e,d|w)}function pw(e,r){return r=typeof r=="function"?r:t,qe(e,d|w,r)}function dw(e,r){return r==null||jc(e,r,te(r))}function Qe(e,r){return e===r||e!==e&&r!==r}var mw=jo(Ws),gw=jo(function(e,r){return e>=r}),rr=Hc(function(){return arguments}())?Hc:function(e){return Ht(e)&&Nt.call(e,"callee")&&!Nc.call(e,"callee")},at=M.isArray,_w=fc?Ie(fc):Ax;function Se(e){return e!=null&&Go(e.length)&&!wn(e)}function Yt(e){return Ht(e)&&Se(e)}function vw(e){return e===!0||e===!1||Ht(e)&&_e(e)==Wt}var zn=Ov||Cu,xw=cc?Ie(cc):Mx;function yw(e){return Ht(e)&&e.nodeType===1&&!di(e)}function ww(e){if(e==null)return!0;if(Se(e)&&(at(e)||typeof e=="string"||typeof e.splice=="function"||zn(e)||Rr(e)||rr(e)))return!e.length;var r=ce(e);if(r==k||r==re)return!e.size;if(hi(e))return!Ys(e).length;for(var a in e)if(Nt.call(e,a))return!1;return!0}function bw(e,r){return li(e,r)}function Sw(e,r,a){a=typeof a=="function"?a:t;var f=a?a(e,r):t;return f===t?li(e,r,t,a):!!f}function _u(e){if(!Ht(e))return!1;var r=_e(e);return r==W||r==le||typeof e.message=="string"&&typeof e.name=="string"&&!di(e)}function Tw(e){return typeof e=="number"&&Lc(e)}function wn(e){if(!Bt(e))return!1;var r=_e(e);return r==nt||r==pt||r==Xt||r==rt}function Kh(e){return typeof e=="number"&&e==ut(e)}function Go(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=C}function Bt(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function Ht(e){return e!=null&&typeof e=="object"}var Jh=hc?Ie(hc):Ex;function Aw(e,r){return e===r||qs(e,r,su(r))}function Mw(e,r,a){return a=typeof a=="function"?a:t,qs(e,r,su(r),a)}function Cw(e){return Qh(e)&&e!=+e}function Ew(e){if(cy(e))throw new ot(o);return qc(e)}function Nw(e){return e===null}function Iw(e){return e==null}function Qh(e){return typeof e=="number"||Ht(e)&&_e(e)==It}function di(e){if(!Ht(e)||_e(e)!=kt)return!1;var r=xo(e);if(r===null)return!0;var a=Nt.call(r,"constructor")&&r.constructor;return typeof a=="function"&&a instanceof a&&mo.call(a)==Mv}var vu=pc?Ie(pc):Nx;function Lw(e){return Kh(e)&&e>=-C&&e<=C}var tp=dc?Ie(dc):Ix;function Xo(e){return typeof e=="string"||!at(e)&&Ht(e)&&_e(e)==we}function Oe(e){return typeof e=="symbol"||Ht(e)&&_e(e)==oo}var Rr=mc?Ie(mc):Lx;function Ow(e){return e===t}function Rw(e){return Ht(e)&&ce(e)==Jr}function Dw(e){return Ht(e)&&_e(e)==Z_}var kw=jo(Gs),Pw=jo(function(e,r){return e<=r});function ep(e){if(!e)return[];if(Se(e))return Xo(e)?Ke(e):be(e);if(ei&&e[ei])return dv(e[ei]());var r=ce(e),a=r==k?Rs:r==re?co:Dr;return a(e)}function bn(e){if(!e)return e===0?e:0;if(e=Xe(e),e===F||e===-F){var r=e<0?-1:1;return r*q}return e===e?e:0}function ut(e){var r=bn(e),a=r%1;return r===r?a?r-a:r:0}function np(e){return e?Qn(ut(e),0,U):0}function Xe(e){if(typeof e=="number")return e;if(Oe(e))return $;if(Bt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Bt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=wc(e);var a=_0.test(e);return a||x0.test(e)?K0(e.slice(2),a?2:8):g0.test(e)?$:+e}function rp(e){return on(e,Te(e))}function jw(e){return e?Qn(ut(e),-C,C):e===0?e:0}function Mt(e){return e==null?"":Le(e)}var zw=Ir(function(e,r){if(hi(r)||Se(r)){on(r,te(r),e);return}for(var a in r)Nt.call(r,a)&&ai(e,a,r[a])}),ip=Ir(function(e,r){on(r,Te(r),e)}),$o=Ir(function(e,r,a,f){on(r,Te(r),e,f)}),Bw=Ir(function(e,r,a,f){on(r,te(r),e,f)}),Fw=xn(Bs);function Uw(e,r){var a=Nr(e);return r==null?a:Pc(a,r)}var Ww=ct(function(e,r){e=Rt(e);var a=-1,f=r.length,h=f>2?r[2]:t;for(h&&ve(r[0],r[1],h)&&(f=1);++a<f;)for(var g=r[a],_=Te(g),y=-1,S=_.length;++y<S;){var L=_[y],R=e[L];(R===t||Qe(R,Mr[L])&&!Nt.call(e,L))&&(e[L]=g[L])}return e}),Hw=ct(function(e){return e.push(t,wh),Ne(op,t,e)});function qw(e,r){return _c(e,J(r,3),rn)}function Yw(e,r){return _c(e,J(r,3),Us)}function Gw(e,r){return e==null?e:Fs(e,J(r,3),Te)}function Xw(e,r){return e==null?e:Uc(e,J(r,3),Te)}function $w(e,r){return e&&rn(e,J(r,3))}function Vw(e,r){return e&&Us(e,J(r,3))}function Zw(e){return e==null?[]:No(e,te(e))}function Kw(e){return e==null?[]:No(e,Te(e))}function xu(e,r,a){var f=e==null?t:tr(e,r);return f===t?a:f}function Jw(e,r){return e!=null&&Th(e,r,wx)}function yu(e,r){return e!=null&&Th(e,r,bx)}var Qw=gh(function(e,r,a){r!=null&&typeof r.toString!="function"&&(r=go.call(r)),e[r]=a},bu(Ae)),tb=gh(function(e,r,a){r!=null&&typeof r.toString!="function"&&(r=go.call(r)),Nt.call(e,r)?e[r].push(a):e[r]=[a]},J),eb=ct(ui);function te(e){return Se(e)?Dc(e):Ys(e)}function Te(e){return Se(e)?Dc(e,!0):Ox(e)}function nb(e,r){var a={};return r=J(r,3),rn(e,function(f,h,g){_n(a,r(f,h,g),f)}),a}function rb(e,r){var a={};return r=J(r,3),rn(e,function(f,h,g){_n(a,h,r(f,h,g))}),a}var ib=Ir(function(e,r,a){Io(e,r,a)}),op=Ir(function(e,r,a,f){Io(e,r,a,f)}),ob=xn(function(e,r){var a={};if(e==null)return a;var f=!1;r=jt(r,function(g){return g=Pn(g,e),f||(f=g.length>1),g}),on(e,ou(e),a),f&&(a=qe(a,d|v|w,Qx));for(var h=r.length;h--;)Ks(a,r[h]);return a});function ab(e,r){return ap(e,Yo(J(r)))}var sb=xn(function(e,r){return e==null?{}:Dx(e,r)});function ap(e,r){if(e==null)return{};var a=jt(ou(e),function(f){return[f]});return r=J(r),Kc(e,a,function(f,h){return r(f,h[0])})}function ub(e,r,a){r=Pn(r,e);var f=-1,h=r.length;for(h||(h=1,e=t);++f<h;){var g=e==null?t:e[an(r[f])];g===t&&(f=h,g=a),e=wn(g)?g.call(e):g}return e}function lb(e,r,a){return e==null?e:fi(e,r,a)}function fb(e,r,a,f){return f=typeof f=="function"?f:t,e==null?e:fi(e,r,a,f)}var sp=xh(te),up=xh(Te);function cb(e,r,a){var f=at(e),h=f||zn(e)||Rr(e);if(r=J(r,4),a==null){var g=e&&e.constructor;h?a=f?new g:[]:Bt(e)?a=wn(g)?Nr(xo(e)):{}:a={}}return(h?Ue:rn)(e,function(_,y,S){return r(a,_,y,S)}),a}function hb(e,r){return e==null?!0:Ks(e,r)}function pb(e,r,a){return e==null?e:nh(e,r,tu(a))}function db(e,r,a,f){return f=typeof f=="function"?f:t,e==null?e:nh(e,r,tu(a),f)}function Dr(e){return e==null?[]:Os(e,te(e))}function mb(e){return e==null?[]:Os(e,Te(e))}function gb(e,r,a){return a===t&&(a=r,r=t),a!==t&&(a=Xe(a),a=a===a?a:0),r!==t&&(r=Xe(r),r=r===r?r:0),Qn(Xe(e),r,a)}function _b(e,r,a){return r=bn(r),a===t?(a=r,r=0):a=bn(a),e=Xe(e),Sx(e,r,a)}function vb(e,r,a){if(a&&typeof a!="boolean"&&ve(e,r,a)&&(r=a=t),a===t&&(typeof r=="boolean"?(a=r,r=t):typeof e=="boolean"&&(a=e,e=t)),e===t&&r===t?(e=0,r=1):(e=bn(e),r===t?(r=e,e=0):r=bn(r)),e>r){var f=e;e=r,r=f}if(a||e%1||r%1){var h=Oc();return fe(e+h*(r-e+Z0("1e-"+((h+"").length-1))),r)}return $s(e,r)}var xb=Lr(function(e,r,a){return r=r.toLowerCase(),e+(a?lp(r):r)});function lp(e){return wu(Mt(e).toLowerCase())}function fp(e){return e=Mt(e),e&&e.replace(w0,lv).replace(F0,"")}function yb(e,r,a){e=Mt(e),r=Le(r);var f=e.length;a=a===t?f:Qn(ut(a),0,f);var h=a;return a-=r.length,a>=0&&e.slice(a,h)==r}function wb(e){return e=Mt(e),e&&e0.test(e)?e.replace(Uf,fv):e}function bb(e){return e=Mt(e),e&&s0.test(e)?e.replace(gs,"\\$&"):e}var Sb=Lr(function(e,r,a){return e+(a?"-":"")+r.toLowerCase()}),Tb=Lr(function(e,r,a){return e+(a?" ":"")+r.toLowerCase()}),Ab=ph("toLowerCase");function Mb(e,r,a){e=Mt(e),r=ut(r);var f=r?Ar(e):0;if(!r||f>=r)return e;var h=(r-f)/2;return Po(So(h),a)+e+Po(bo(h),a)}function Cb(e,r,a){e=Mt(e),r=ut(r);var f=r?Ar(e):0;return r&&f<r?e+Po(r-f,a):e}function Eb(e,r,a){e=Mt(e),r=ut(r);var f=r?Ar(e):0;return r&&f<r?Po(r-f,a)+e:e}function Nb(e,r,a){return a||r==null?r=0:r&&(r=+r),Pv(Mt(e).replace(_s,""),r||0)}function Ib(e,r,a){return(a?ve(e,r,a):r===t)?r=1:r=ut(r),Vs(Mt(e),r)}function Lb(){var e=arguments,r=Mt(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var Ob=Lr(function(e,r,a){return e+(a?"_":"")+r.toLowerCase()});function Rb(e,r,a){return a&&typeof a!="number"&&ve(e,r,a)&&(r=a=t),a=a===t?U:a>>>0,a?(e=Mt(e),e&&(typeof r=="string"||r!=null&&!vu(r))&&(r=Le(r),!r&&Tr(e))?jn(Ke(e),0,a):e.split(r,a)):[]}var Db=Lr(function(e,r,a){return e+(a?" ":"")+wu(r)});function kb(e,r,a){return e=Mt(e),a=a==null?0:Qn(ut(a),0,e.length),r=Le(r),e.slice(a,a+r.length)==r}function Pb(e,r,a){var f=m.templateSettings;a&&ve(e,r,a)&&(r=t),e=Mt(e),r=$o({},r,f,yh);var h=$o({},r.imports,f.imports,yh),g=te(h),_=Os(h,g),y,S,L=0,R=r.interpolate||ao,P="__p += '",H=Ds((r.escape||ao).source+"|"+R.source+"|"+(R===Wf?m0:ao).source+"|"+(r.evaluate||ao).source+"|$","g"),V="//# sourceURL="+(Nt.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Y0+"]")+`
`;e.replace(H,function(et,dt,_t,Re,xe,De){return _t||(_t=Re),P+=e.slice(L,De).replace(b0,cv),dt&&(y=!0,P+=`' +
__e(`+dt+`) +
'`),xe&&(S=!0,P+=`';
`+xe+`;
__p += '`),_t&&(P+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),L=De+et.length,et}),P+=`';
`;var tt=Nt.call(r,"variable")&&r.variable;if(!tt)P=`with (obj) {
`+P+`
}
`;else if(p0.test(tt))throw new ot(u);P=(S?P.replace(K_,""):P).replace(J_,"$1").replace(Q_,"$1;"),P="function("+(tt||"obj")+`) {
`+(tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var lt=hp(function(){return Tt(g,V+"return "+P).apply(t,_)});if(lt.source=P,_u(lt))throw lt;return lt}function jb(e){return Mt(e).toLowerCase()}function zb(e){return Mt(e).toUpperCase()}function Bb(e,r,a){if(e=Mt(e),e&&(a||r===t))return wc(e);if(!e||!(r=Le(r)))return e;var f=Ke(e),h=Ke(r),g=bc(f,h),_=Sc(f,h)+1;return jn(f,g,_).join("")}function Fb(e,r,a){if(e=Mt(e),e&&(a||r===t))return e.slice(0,Ac(e)+1);if(!e||!(r=Le(r)))return e;var f=Ke(e),h=Sc(f,Ke(r))+1;return jn(f,0,h).join("")}function Ub(e,r,a){if(e=Mt(e),e&&(a||r===t))return e.replace(_s,"");if(!e||!(r=Le(r)))return e;var f=Ke(e),h=bc(f,Ke(r));return jn(f,h).join("")}function Wb(e,r){var a=ft,f=Ot;if(Bt(r)){var h="separator"in r?r.separator:h;a="length"in r?ut(r.length):a,f="omission"in r?Le(r.omission):f}e=Mt(e);var g=e.length;if(Tr(e)){var _=Ke(e);g=_.length}if(a>=g)return e;var y=a-Ar(f);if(y<1)return f;var S=_?jn(_,0,y).join(""):e.slice(0,y);if(h===t)return S+f;if(_&&(y+=S.length-y),vu(h)){if(e.slice(y).search(h)){var L,R=S;for(h.global||(h=Ds(h.source,Mt(Hf.exec(h))+"g")),h.lastIndex=0;L=h.exec(R);)var P=L.index;S=S.slice(0,P===t?y:P)}}else if(e.indexOf(Le(h),y)!=y){var H=S.lastIndexOf(h);H>-1&&(S=S.slice(0,H))}return S+f}function Hb(e){return e=Mt(e),e&&t0.test(e)?e.replace(Ff,vv):e}var qb=Lr(function(e,r,a){return e+(a?" ":"")+r.toUpperCase()}),wu=ph("toUpperCase");function cp(e,r,a){return e=Mt(e),r=a?t:r,r===t?pv(e)?wv(e):iv(e):e.match(r)||[]}var hp=ct(function(e,r){try{return Ne(e,t,r)}catch(a){return _u(a)?a:new ot(a)}}),Yb=xn(function(e,r){return Ue(r,function(a){a=an(a),_n(e,a,mu(e[a],e))}),e});function Gb(e){var r=e==null?0:e.length,a=J();return e=r?jt(e,function(f){if(typeof f[1]!="function")throw new We(s);return[a(f[0]),f[1]]}):[],ct(function(f){for(var h=-1;++h<r;){var g=e[h];if(Ne(g[0],this,f))return Ne(g[1],this,f)}})}function Xb(e){return vx(qe(e,d))}function bu(e){return function(){return e}}function $b(e,r){return e==null||e!==e?r:e}var Vb=mh(),Zb=mh(!0);function Ae(e){return e}function Su(e){return Yc(typeof e=="function"?e:qe(e,d))}function Kb(e){return Xc(qe(e,d))}function Jb(e,r){return $c(e,qe(r,d))}var Qb=ct(function(e,r){return function(a){return ui(a,e,r)}}),t2=ct(function(e,r){return function(a){return ui(e,a,r)}});function Tu(e,r,a){var f=te(r),h=No(r,f);a==null&&!(Bt(r)&&(h.length||!f.length))&&(a=r,r=e,e=this,h=No(r,te(r)));var g=!(Bt(a)&&"chain"in a)||!!a.chain,_=wn(e);return Ue(h,function(y){var S=r[y];e[y]=S,_&&(e.prototype[y]=function(){var L=this.__chain__;if(g||L){var R=e(this.__wrapped__),P=R.__actions__=be(this.__actions__);return P.push({func:S,args:arguments,thisArg:e}),R.__chain__=L,R}return S.apply(e,In([this.value()],arguments))})}),e}function e2(){return Qt._===this&&(Qt._=Cv),this}function Au(){}function n2(e){return e=ut(e),ct(function(r){return Vc(r,e)})}var r2=nu(jt),i2=nu(gc),o2=nu(Cs);function pp(e){return lu(e)?Es(an(e)):kx(e)}function a2(e){return function(r){return e==null?t:tr(e,r)}}var s2=_h(),u2=_h(!0);function Mu(){return[]}function Cu(){return!1}function l2(){return{}}function f2(){return""}function c2(){return!0}function h2(e,r){if(e=ut(e),e<1||e>C)return[];var a=U,f=fe(e,U);r=J(r),e-=U;for(var h=Ls(f,r);++a<e;)r(a);return h}function p2(e){return at(e)?jt(e,an):Oe(e)?[e]:be(Rh(Mt(e)))}function d2(e){var r=++Av;return Mt(e)+r}var m2=ko(function(e,r){return e+r},0),g2=ru("ceil"),_2=ko(function(e,r){return e/r},1),v2=ru("floor");function x2(e){return e&&e.length?Eo(e,Ae,Ws):t}function y2(e,r){return e&&e.length?Eo(e,J(r,2),Ws):t}function w2(e){return xc(e,Ae)}function b2(e,r){return xc(e,J(r,2))}function S2(e){return e&&e.length?Eo(e,Ae,Gs):t}function T2(e,r){return e&&e.length?Eo(e,J(r,2),Gs):t}var A2=ko(function(e,r){return e*r},1),M2=ru("round"),C2=ko(function(e,r){return e-r},0);function E2(e){return e&&e.length?Is(e,Ae):0}function N2(e,r){return e&&e.length?Is(e,J(r,2)):0}return m.after=K1,m.ary=qh,m.assign=zw,m.assignIn=ip,m.assignInWith=$o,m.assignWith=Bw,m.at=Fw,m.before=Yh,m.bind=mu,m.bindAll=Yb,m.bindKey=Gh,m.castArray=lw,m.chain=Uh,m.chunk=vy,m.compact=xy,m.concat=yy,m.cond=Gb,m.conforms=Xb,m.constant=bu,m.countBy=E1,m.create=Uw,m.curry=Xh,m.curryRight=$h,m.debounce=Vh,m.defaults=Ww,m.defaultsDeep=Hw,m.defer=J1,m.delay=Q1,m.difference=wy,m.differenceBy=by,m.differenceWith=Sy,m.drop=Ty,m.dropRight=Ay,m.dropRightWhile=My,m.dropWhile=Cy,m.fill=Ey,m.filter=I1,m.flatMap=R1,m.flatMapDeep=D1,m.flatMapDepth=k1,m.flatten=jh,m.flattenDeep=Ny,m.flattenDepth=Iy,m.flip=tw,m.flow=Vb,m.flowRight=Zb,m.fromPairs=Ly,m.functions=Zw,m.functionsIn=Kw,m.groupBy=P1,m.initial=Ry,m.intersection=Dy,m.intersectionBy=ky,m.intersectionWith=Py,m.invert=Qw,m.invertBy=tb,m.invokeMap=z1,m.iteratee=Su,m.keyBy=B1,m.keys=te,m.keysIn=Te,m.map=Wo,m.mapKeys=nb,m.mapValues=rb,m.matches=Kb,m.matchesProperty=Jb,m.memoize=qo,m.merge=ib,m.mergeWith=op,m.method=Qb,m.methodOf=t2,m.mixin=Tu,m.negate=Yo,m.nthArg=n2,m.omit=ob,m.omitBy=ab,m.once=ew,m.orderBy=F1,m.over=r2,m.overArgs=nw,m.overEvery=i2,m.overSome=o2,m.partial=gu,m.partialRight=Zh,m.partition=U1,m.pick=sb,m.pickBy=ap,m.property=pp,m.propertyOf=a2,m.pull=Fy,m.pullAll=Bh,m.pullAllBy=Uy,m.pullAllWith=Wy,m.pullAt=Hy,m.range=s2,m.rangeRight=u2,m.rearg=rw,m.reject=q1,m.remove=qy,m.rest=iw,m.reverse=pu,m.sampleSize=G1,m.set=lb,m.setWith=fb,m.shuffle=X1,m.slice=Yy,m.sortBy=Z1,m.sortedUniq=Jy,m.sortedUniqBy=Qy,m.split=Rb,m.spread=ow,m.tail=t1,m.take=e1,m.takeRight=n1,m.takeRightWhile=r1,m.takeWhile=i1,m.tap=x1,m.throttle=aw,m.thru=Uo,m.toArray=ep,m.toPairs=sp,m.toPairsIn=up,m.toPath=p2,m.toPlainObject=rp,m.transform=cb,m.unary=sw,m.union=o1,m.unionBy=a1,m.unionWith=s1,m.uniq=u1,m.uniqBy=l1,m.uniqWith=f1,m.unset=hb,m.unzip=du,m.unzipWith=Fh,m.update=pb,m.updateWith=db,m.values=Dr,m.valuesIn=mb,m.without=c1,m.words=cp,m.wrap=uw,m.xor=h1,m.xorBy=p1,m.xorWith=d1,m.zip=m1,m.zipObject=g1,m.zipObjectDeep=_1,m.zipWith=v1,m.entries=sp,m.entriesIn=up,m.extend=ip,m.extendWith=$o,Tu(m,m),m.add=m2,m.attempt=hp,m.camelCase=xb,m.capitalize=lp,m.ceil=g2,m.clamp=gb,m.clone=fw,m.cloneDeep=hw,m.cloneDeepWith=pw,m.cloneWith=cw,m.conformsTo=dw,m.deburr=fp,m.defaultTo=$b,m.divide=_2,m.endsWith=yb,m.eq=Qe,m.escape=wb,m.escapeRegExp=bb,m.every=N1,m.find=L1,m.findIndex=kh,m.findKey=qw,m.findLast=O1,m.findLastIndex=Ph,m.findLastKey=Yw,m.floor=v2,m.forEach=Wh,m.forEachRight=Hh,m.forIn=Gw,m.forInRight=Xw,m.forOwn=$w,m.forOwnRight=Vw,m.get=xu,m.gt=mw,m.gte=gw,m.has=Jw,m.hasIn=yu,m.head=zh,m.identity=Ae,m.includes=j1,m.indexOf=Oy,m.inRange=_b,m.invoke=eb,m.isArguments=rr,m.isArray=at,m.isArrayBuffer=_w,m.isArrayLike=Se,m.isArrayLikeObject=Yt,m.isBoolean=vw,m.isBuffer=zn,m.isDate=xw,m.isElement=yw,m.isEmpty=ww,m.isEqual=bw,m.isEqualWith=Sw,m.isError=_u,m.isFinite=Tw,m.isFunction=wn,m.isInteger=Kh,m.isLength=Go,m.isMap=Jh,m.isMatch=Aw,m.isMatchWith=Mw,m.isNaN=Cw,m.isNative=Ew,m.isNil=Iw,m.isNull=Nw,m.isNumber=Qh,m.isObject=Bt,m.isObjectLike=Ht,m.isPlainObject=di,m.isRegExp=vu,m.isSafeInteger=Lw,m.isSet=tp,m.isString=Xo,m.isSymbol=Oe,m.isTypedArray=Rr,m.isUndefined=Ow,m.isWeakMap=Rw,m.isWeakSet=Dw,m.join=jy,m.kebabCase=Sb,m.last=Ge,m.lastIndexOf=zy,m.lowerCase=Tb,m.lowerFirst=Ab,m.lt=kw,m.lte=Pw,m.max=x2,m.maxBy=y2,m.mean=w2,m.meanBy=b2,m.min=S2,m.minBy=T2,m.stubArray=Mu,m.stubFalse=Cu,m.stubObject=l2,m.stubString=f2,m.stubTrue=c2,m.multiply=A2,m.nth=By,m.noConflict=e2,m.noop=Au,m.now=Ho,m.pad=Mb,m.padEnd=Cb,m.padStart=Eb,m.parseInt=Nb,m.random=vb,m.reduce=W1,m.reduceRight=H1,m.repeat=Ib,m.replace=Lb,m.result=ub,m.round=M2,m.runInContext=b,m.sample=Y1,m.size=$1,m.snakeCase=Ob,m.some=V1,m.sortedIndex=Gy,m.sortedIndexBy=Xy,m.sortedIndexOf=$y,m.sortedLastIndex=Vy,m.sortedLastIndexBy=Zy,m.sortedLastIndexOf=Ky,m.startCase=Db,m.startsWith=kb,m.subtract=C2,m.sum=E2,m.sumBy=N2,m.template=Pb,m.times=h2,m.toFinite=bn,m.toInteger=ut,m.toLength=np,m.toLower=jb,m.toNumber=Xe,m.toSafeInteger=jw,m.toString=Mt,m.toUpper=zb,m.trim=Bb,m.trimEnd=Fb,m.trimStart=Ub,m.truncate=Wb,m.unescape=Hb,m.uniqueId=d2,m.upperCase=qb,m.upperFirst=wu,m.each=Wh,m.eachRight=Hh,m.first=zh,Tu(m,function(){var e={};return rn(m,function(r,a){Nt.call(m.prototype,a)||(e[a]=r)}),e}(),{chain:!1}),m.VERSION=n,Ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),Ue(["drop","take"],function(e,r){mt.prototype[e]=function(a){a=a===t?1:Zt(ut(a),0);var f=this.__filtered__&&!r?new mt(this):this.clone();return f.__filtered__?f.__takeCount__=fe(a,f.__takeCount__):f.__views__.push({size:fe(a,U),type:e+(f.__dir__<0?"Right":"")}),f},mt.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),Ue(["filter","map","takeWhile"],function(e,r){var a=r+1,f=a==yt||a==T;mt.prototype[e]=function(h){var g=this.clone();return g.__iteratees__.push({iteratee:J(h,3),type:a}),g.__filtered__=g.__filtered__||f,g}}),Ue(["head","last"],function(e,r){var a="take"+(r?"Right":"");mt.prototype[e]=function(){return this[a](1).value()[0]}}),Ue(["initial","tail"],function(e,r){var a="drop"+(r?"":"Right");mt.prototype[e]=function(){return this.__filtered__?new mt(this):this[a](1)}}),mt.prototype.compact=function(){return this.filter(Ae)},mt.prototype.find=function(e){return this.filter(e).head()},mt.prototype.findLast=function(e){return this.reverse().find(e)},mt.prototype.invokeMap=ct(function(e,r){return typeof e=="function"?new mt(this):this.map(function(a){return ui(a,e,r)})}),mt.prototype.reject=function(e){return this.filter(Yo(J(e)))},mt.prototype.slice=function(e,r){e=ut(e);var a=this;return a.__filtered__&&(e>0||r<0)?new mt(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),r!==t&&(r=ut(r),a=r<0?a.dropRight(-r):a.take(r-e)),a)},mt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},mt.prototype.toArray=function(){return this.take(U)},rn(mt.prototype,function(e,r){var a=/^(?:filter|find|map|reject)|While$/.test(r),f=/^(?:head|last)$/.test(r),h=m[f?"take"+(r=="last"?"Right":""):r],g=f||/^find/.test(r);!h||(m.prototype[r]=function(){var _=this.__wrapped__,y=f?[1]:arguments,S=_ instanceof mt,L=y[0],R=S||at(_),P=function(dt){var _t=h.apply(m,In([dt],y));return f&&H?_t[0]:_t};R&&a&&typeof L=="function"&&L.length!=1&&(S=R=!1);var H=this.__chain__,V=!!this.__actions__.length,tt=g&&!H,lt=S&&!V;if(!g&&R){_=lt?_:new mt(this);var et=e.apply(_,y);return et.__actions__.push({func:Uo,args:[P],thisArg:t}),new He(et,H)}return tt&&lt?e.apply(this,y):(et=this.thru(P),tt?f?et.value()[0]:et.value():et)})}),Ue(["pop","push","shift","sort","splice","unshift"],function(e){var r=ho[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",f=/^(?:pop|shift)$/.test(e);m.prototype[e]=function(){var h=arguments;if(f&&!this.__chain__){var g=this.value();return r.apply(at(g)?g:[],h)}return this[a](function(_){return r.apply(at(_)?_:[],h)})}}),rn(mt.prototype,function(e,r){var a=m[r];if(a){var f=a.name+"";Nt.call(Er,f)||(Er[f]=[]),Er[f].push({name:r,func:a})}}),Er[Do(t,Y).name]=[{name:"wrapper",func:t}],mt.prototype.clone=Hv,mt.prototype.reverse=qv,mt.prototype.value=Yv,m.prototype.at=y1,m.prototype.chain=w1,m.prototype.commit=b1,m.prototype.next=S1,m.prototype.plant=A1,m.prototype.reverse=M1,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=C1,m.prototype.first=m.prototype.head,ei&&(m.prototype[ei]=T1),m},On=bv();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Qt._=On,define(function(){return On})):Vn?((Vn.exports=On)._=On,Ss._=On):Qt._=On}).call(Kr)});sn(exports,{default:()=>Bf});var $_=Zo(require("obsidian"));function Ko(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Eu(t){let n=t,i=t;t.length===1&&(n=(l,c)=>t(l)-c,i=j2(t));function o(l,c,p,d){for(p==null&&(p=0),d==null&&(d=l.length);p<d;){let v=p+d>>>1;i(l[v],c)<0?p=v+1:d=v}return p}function s(l,c,p,d){for(p==null&&(p=0),d==null&&(d=l.length);p<d;){let v=p+d>>>1;i(l[v],c)>0?d=v:p=v+1}return p}function u(l,c,p,d){p==null&&(p=0),d==null&&(d=l.length);let v=o(l,c,p,d-1);return v>p&&n(l[v-1],c)>-n(l[v],c)?v-1:v}return{left:o,center:u,right:s}}function j2(t){return(n,i)=>Ko(t(n),i)}function _p(t){return t===null?NaN:+t}var vp=Eu(Ko),xp=vp.right,z2=vp.left,B2=Eu(_p).center,Nu=xp;var Iu=Math.sqrt(50),Lu=Math.sqrt(10),Ou=Math.sqrt(2);function Ru(t,n,i){var o,s=-1,u,l,c;if(n=+n,t=+t,i=+i,t===n&&i>0)return[t];if((o=n<t)&&(u=t,t=n,n=u),(c=Jo(t,n,i))===0||!isFinite(c))return[];if(c>0){let p=Math.round(t/c),d=Math.round(n/c);for(p*c<t&&++p,d*c>n&&--d,l=new Array(u=d-p+1);++s<u;)l[s]=(p+s)*c}else{c=-c;let p=Math.round(t*c),d=Math.round(n*c);for(p/c<t&&++p,d/c>n&&--d,l=new Array(u=d-p+1);++s<u;)l[s]=(p+s)/c}return o&&l.reverse(),l}function Jo(t,n,i){var o=(n-t)/Math.max(0,i),s=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,s);return s>=0?(u>=Iu?10:u>=Lu?5:u>=Ou?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=Iu?10:u>=Lu?5:u>=Ou?2:1)}function Du(t,n,i){var o=Math.abs(n-t)/Math.max(0,i),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=Iu?s*=10:u>=Lu?s*=5:u>=Ou&&(s*=2),n<t?-s:s}function Qo(t,n){let i;if(n===void 0)for(let o of t)o!=null&&(i<o||i===void 0&&o>=o)&&(i=o);else{let o=-1;for(let s of t)(s=n(s,++o,t))!=null&&(i<s||i===void 0&&s>=s)&&(i=s)}return i}var ta=Array.prototype.slice;function yp(t){return t}var ea=1,ku=2,wp=3,na=4,bp=1e-6;function F2(t){return"translate("+t+",0)"}function U2(t){return"translate(0,"+t+")"}function W2(t){return n=>+t(n)}function H2(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),i=>+t(i)+n}function q2(){return!this.__axis}function Y2(t,n){var i=[],o=null,s=null,u=6,l=6,c=3,p=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,d=t===ea||t===na?-1:1,v=t===na||t===ku?"x":"y",w=t===ea||t===wp?F2:U2;function x(A){var z=o==null?n.ticks?n.ticks.apply(n,i):n.domain():o,Y=s==null?n.tickFormat?n.tickFormat.apply(n,i):yp:s,I=Math.max(u,0)+c,E=n.range(),D=+E[0]+p,O=+E[E.length-1]+p,j=(n.bandwidth?H2:W2)(n.copy(),p),B=A.selection?A.selection():A,K=B.selectAll(".domain").data([null]),ht=B.selectAll(".tick").data(z,n).order(),ft=ht.exit(),Ot=ht.enter().append("g").attr("class","tick"),gt=ht.select("line"),X=ht.select("text");K=K.merge(K.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ht=ht.merge(Ot),gt=gt.merge(Ot.append("line").attr("stroke","currentColor").attr(v+"2",d*u)),X=X.merge(Ot.append("text").attr("fill","currentColor").attr(v,d*I).attr("dy",t===ea?"0em":t===wp?"0.71em":"0.32em")),A!==B&&(K=K.transition(A),ht=ht.transition(A),gt=gt.transition(A),X=X.transition(A),ft=ft.transition(A).attr("opacity",bp).attr("transform",function(yt){return isFinite(yt=j(yt))?w(yt+p):this.getAttribute("transform")}),Ot.attr("opacity",bp).attr("transform",function(yt){var st=this.parentNode.__axis;return w((st&&isFinite(st=st(yt))?st:j(yt))+p)})),ft.remove(),K.attr("d",t===na||t===ku?l?"M"+d*l+","+D+"H"+p+"V"+O+"H"+d*l:"M"+p+","+D+"V"+O:l?"M"+D+","+d*l+"V"+p+"H"+O+"V"+d*l:"M"+D+","+p+"H"+O),ht.attr("opacity",1).attr("transform",function(yt){return w(j(yt)+p)}),gt.attr(v+"2",d*u),X.attr(v,d*I).text(Y),B.filter(q2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ku?"start":t===na?"end":"middle"),B.each(function(){this.__axis=j})}return x.scale=function(A){return arguments.length?(n=A,x):n},x.ticks=function(){return i=ta.call(arguments),x},x.tickArguments=function(A){return arguments.length?(i=A==null?[]:ta.call(A),x):i.slice()},x.tickValues=function(A){return arguments.length?(o=A==null?null:ta.call(A),x):o&&o.slice()},x.tickFormat=function(A){return arguments.length?(s=A,x):s},x.tickSize=function(A){return arguments.length?(u=l=+A,x):u},x.tickSizeInner=function(A){return arguments.length?(u=+A,x):u},x.tickSizeOuter=function(A){return arguments.length?(l=+A,x):l},x.tickPadding=function(A){return arguments.length?(c=+A,x):c},x.offset=function(A){return arguments.length?(p=+A,x):p},x}function Pu(t){return Y2(ea,t)}var G2={value:()=>{}};function Sp(){for(var t=0,n=arguments.length,i={},o;t<n;++t){if(!(o=arguments[t]+"")||o in i||/[\s.]/.test(o))throw new Error("illegal type: "+o);i[o]=[]}return new ra(i)}function ra(t){this._=t}function X2(t,n){return t.trim().split(/^|\s+/).map(function(i){var o="",s=i.indexOf(".");if(s>=0&&(o=i.slice(s+1),i=i.slice(0,s)),i&&!n.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:o}})}ra.prototype=Sp.prototype={constructor:ra,on:function(t,n){var i=this._,o=X2(t+"",i),s,u=-1,l=o.length;if(arguments.length<2){for(;++u<l;)if((s=(t=o[u]).type)&&(s=$2(i[s],t.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++u<l;)if(s=(t=o[u]).type)i[s]=Tp(i[s],t.name,n);else if(n==null)for(s in i)i[s]=Tp(i[s],t.name,null);return this},copy:function(){var t={},n=this._;for(var i in n)t[i]=n[i].slice();return new ra(t)},call:function(t,n){if((s=arguments.length-2)>0)for(var i=new Array(s),o=0,s,u;o<s;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],o=0,s=u.length;o<s;++o)u[o].value.apply(n,i)},apply:function(t,n,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],s=0,u=o.length;s<u;++s)o[s].value.apply(n,i)}};function $2(t,n){for(var i=0,o=t.length,s;i<o;++i)if((s=t[i]).name===n)return s.value}function Tp(t,n,i){for(var o=0,s=t.length;o<s;++o)if(t[o].name===n){t[o]=G2,t=t.slice(0,o).concat(t.slice(o+1));break}return i!=null&&t.push({name:n,value:i}),t}var ir=Sp;var ia="http://www.w3.org/1999/xhtml",ju={svg:"http://www.w3.org/2000/svg",xhtml:ia,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tn(t){var n=t+="",i=n.indexOf(":");return i>=0&&(n=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),ju.hasOwnProperty(n)?{space:ju[n],local:t}:t}function V2(t){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===ia&&n.documentElement.namespaceURI===ia?n.createElement(t):n.createElementNS(i,t)}}function Z2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function kr(t){var n=Tn(t);return(n.local?Z2:V2)(n)}function K2(){}function or(t){return t==null?K2:function(){return this.querySelector(t)}}function Ap(t){typeof t!="function"&&(t=or(t));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var u=n[s],l=u.length,c=o[s]=new Array(l),p,d,v=0;v<l;++v)(p=u[v])&&(d=t.call(p,p.__data__,v,u))&&("__data__"in p&&(d.__data__=p.__data__),c[v]=d);return new Ft(o,this._parents)}function oa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function J2(){return[]}function mi(t){return t==null?J2:function(){return this.querySelectorAll(t)}}function Q2(t){return function(){var n=t.apply(this,arguments);return n==null?[]:oa(n)}}function Mp(t){typeof t=="function"?t=Q2(t):t=mi(t);for(var n=this._groups,i=n.length,o=[],s=[],u=0;u<i;++u)for(var l=n[u],c=l.length,p,d=0;d<c;++d)(p=l[d])&&(o.push(t.call(p,p.__data__,d,l)),s.push(p));return new Ft(o,s)}function gi(t){return function(){return this.matches(t)}}function aa(t){return function(n){return n.matches(t)}}var tS=Array.prototype.find;function eS(t){return function(){return tS.call(this.children,t)}}function nS(){return this.firstElementChild}function Cp(t){return this.select(t==null?nS:eS(typeof t=="function"?t:aa(t)))}var rS=Array.prototype.filter;function iS(){return this.children}function oS(t){return function(){return rS.call(this.children,t)}}function Ep(t){return this.selectAll(t==null?iS:oS(typeof t=="function"?t:aa(t)))}function Np(t){typeof t!="function"&&(t=gi(t));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var u=n[s],l=u.length,c=o[s]=[],p,d=0;d<l;++d)(p=u[d])&&t.call(p,p.__data__,d,u)&&c.push(p);return new Ft(o,this._parents)}function sa(t){return new Array(t.length)}function Ip(){return new Ft(this._enter||this._groups.map(sa),this._parents)}function _i(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}_i.prototype={constructor:_i,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Lp(t){return function(){return t}}function aS(t,n,i,o,s,u){for(var l=0,c,p=n.length,d=u.length;l<d;++l)(c=n[l])?(c.__data__=u[l],o[l]=c):i[l]=new _i(t,u[l]);for(;l<p;++l)(c=n[l])&&(s[l]=c)}function sS(t,n,i,o,s,u,l){var c,p,d=new Map,v=n.length,w=u.length,x=new Array(v),A;for(c=0;c<v;++c)(p=n[c])&&(x[c]=A=l.call(p,p.__data__,c,n)+"",d.has(A)?s[c]=p:d.set(A,p));for(c=0;c<w;++c)A=l.call(t,u[c],c,u)+"",(p=d.get(A))?(o[c]=p,p.__data__=u[c],d.delete(A)):i[c]=new _i(t,u[c]);for(c=0;c<v;++c)(p=n[c])&&d.get(x[c])===p&&(s[c]=p)}function uS(t){return t.__data__}function Op(t,n){if(!arguments.length)return Array.from(this,uS);var i=n?sS:aS,o=this._parents,s=this._groups;typeof t!="function"&&(t=Lp(t));for(var u=s.length,l=new Array(u),c=new Array(u),p=new Array(u),d=0;d<u;++d){var v=o[d],w=s[d],x=w.length,A=oa(t.call(v,v&&v.__data__,d,o)),z=A.length,Y=c[d]=new Array(z),I=l[d]=new Array(z),E=p[d]=new Array(x);i(v,w,Y,I,E,A,n);for(var D=0,O=0,j,B;D<z;++D)if(j=Y[D]){for(D>=O&&(O=D+1);!(B=I[O])&&++O<z;);j._next=B||null}}return l=new Ft(l,o),l._enter=c,l._exit=p,l}function Rp(){return new Ft(this._exit||this._groups.map(sa),this._parents)}function Dp(t,n,i){var o=this.enter(),s=this,u=this.exit();return o=typeof t=="function"?t(o):o.append(t+""),n!=null&&(s=n(s)),i==null?u.remove():i(u),o&&s?o.merge(s).order():s}function kp(t){if(!(t instanceof Ft))throw new Error("invalid merge");for(var n=this._groups,i=t._groups,o=n.length,s=i.length,u=Math.min(o,s),l=new Array(o),c=0;c<u;++c)for(var p=n[c],d=i[c],v=p.length,w=l[c]=new Array(v),x,A=0;A<v;++A)(x=p[A]||d[A])&&(w[A]=x);for(;c<o;++c)l[c]=n[c];return new Ft(l,this._parents)}function Pp(){for(var t=this._groups,n=-1,i=t.length;++n<i;)for(var o=t[n],s=o.length-1,u=o[s],l;--s>=0;)(l=o[s])&&(u&&l.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(l,u),u=l);return this}function jp(t){t||(t=lS);function n(w,x){return w&&x?t(w.__data__,x.__data__):!w-!x}for(var i=this._groups,o=i.length,s=new Array(o),u=0;u<o;++u){for(var l=i[u],c=l.length,p=s[u]=new Array(c),d,v=0;v<c;++v)(d=l[v])&&(p[v]=d);p.sort(n)}return new Ft(s,this._parents).order()}function lS(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function zp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Bp(){return Array.from(this)}function Fp(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],s=0,u=o.length;s<u;++s){var l=o[s];if(l)return l}return null}function Up(){let t=0;for(let n of this)++t;return t}function Wp(){return!this.node()}function Hp(t){for(var n=this._groups,i=0,o=n.length;i<o;++i)for(var s=n[i],u=0,l=s.length,c;u<l;++u)(c=s[u])&&t.call(c,c.__data__,u,s);return this}function fS(t){return function(){this.removeAttribute(t)}}function cS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hS(t,n){return function(){this.setAttribute(t,n)}}function pS(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function dS(t,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function mS(t,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function qp(t,n){var i=Tn(t);if(arguments.length<2){var o=this.node();return i.local?o.getAttributeNS(i.space,i.local):o.getAttribute(i)}return this.each((n==null?i.local?cS:fS:typeof n=="function"?i.local?mS:dS:i.local?pS:hS)(i,n))}function ua(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function gS(t){return function(){this.style.removeProperty(t)}}function _S(t,n,i){return function(){this.style.setProperty(t,n,i)}}function vS(t,n,i){return function(){var o=n.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,i)}}function Yp(t,n,i){return arguments.length>1?this.each((n==null?gS:typeof n=="function"?vS:_S)(t,n,i==null?"":i)):Bn(this.node(),t)}function Bn(t,n){return t.style.getPropertyValue(n)||ua(t).getComputedStyle(t,null).getPropertyValue(n)}function xS(t){return function(){delete this[t]}}function yS(t,n){return function(){this[t]=n}}function wS(t,n){return function(){var i=n.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function Gp(t,n){return arguments.length>1?this.each((n==null?xS:typeof n=="function"?wS:yS)(t,n)):this.node()[t]}function Xp(t){return t.trim().split(/^|\s+/)}function zu(t){return t.classList||new $p(t)}function $p(t){this._node=t,this._names=Xp(t.getAttribute("class")||"")}$p.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Vp(t,n){for(var i=zu(t),o=-1,s=n.length;++o<s;)i.add(n[o])}function Zp(t,n){for(var i=zu(t),o=-1,s=n.length;++o<s;)i.remove(n[o])}function bS(t){return function(){Vp(this,t)}}function SS(t){return function(){Zp(this,t)}}function TS(t,n){return function(){(n.apply(this,arguments)?Vp:Zp)(this,t)}}function Kp(t,n){var i=Xp(t+"");if(arguments.length<2){for(var o=zu(this.node()),s=-1,u=i.length;++s<u;)if(!o.contains(i[s]))return!1;return!0}return this.each((typeof n=="function"?TS:n?bS:SS)(i,n))}function AS(){this.textContent=""}function MS(t){return function(){this.textContent=t}}function CS(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function Jp(t){return arguments.length?this.each(t==null?AS:(typeof t=="function"?CS:MS)(t)):this.node().textContent}function ES(){this.innerHTML=""}function NS(t){return function(){this.innerHTML=t}}function IS(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function Qp(t){return arguments.length?this.each(t==null?ES:(typeof t=="function"?IS:NS)(t)):this.node().innerHTML}function LS(){this.nextSibling&&this.parentNode.appendChild(this)}function td(){return this.each(LS)}function OS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ed(){return this.each(OS)}function nd(t){var n=typeof t=="function"?t:kr(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function RS(){return null}function rd(t,n){var i=typeof t=="function"?t:kr(t),o=n==null?RS:typeof n=="function"?n:or(n);return this.select(function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)})}function DS(){var t=this.parentNode;t&&t.removeChild(this)}function id(){return this.each(DS)}function kS(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function PS(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function od(t){return this.select(t?PS:kS)}function ad(t){return arguments.length?this.property("__data__",t):this.node().__data__}function jS(t){return function(n){t.call(this,n,this.__data__)}}function zS(t){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");return o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),{type:n,name:i}})}function BS(t){return function(){var n=this.__on;if(!!n){for(var i=0,o=-1,s=n.length,u;i<s;++i)u=n[i],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):n[++o]=u;++o?n.length=o:delete this.__on}}}function FS(t,n,i){return function(){var o=this.__on,s,u=jS(n);if(o){for(var l=0,c=o.length;l<c;++l)if((s=o[l]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=u,s.options=i),s.value=n;return}}this.addEventListener(t.type,u,i),s={type:t.type,name:t.name,value:n,listener:u,options:i},o?o.push(s):this.__on=[s]}}function sd(t,n,i){var o=zS(t+""),s,u=o.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var p=0,d=c.length,v;p<d;++p)for(s=0,v=c[p];s<u;++s)if((l=o[s]).type===v.type&&l.name===v.name)return v.value}return}for(c=n?FS:BS,s=0;s<u;++s)this.each(c(o[s],n,i));return this}function ud(t,n,i){var o=ua(t),s=o.CustomEvent;typeof s=="function"?s=new s(n,i):(s=o.document.createEvent("Event"),i?(s.initEvent(n,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(n,!1,!1)),t.dispatchEvent(s)}function US(t,n){return function(){return ud(this,t,n)}}function WS(t,n){return function(){return ud(this,t,n.apply(this,arguments))}}function ld(t,n){return this.each((typeof n=="function"?WS:US)(t,n))}function*fd(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],s=0,u=o.length,l;s<u;++s)(l=o[s])&&(yield l)}var Bu=[null];function Ft(t,n){this._groups=t,this._parents=n}function cd(){return new Ft([[document.documentElement]],Bu)}function HS(){return this}Ft.prototype=cd.prototype={constructor:Ft,select:Ap,selectAll:Mp,selectChild:Cp,selectChildren:Ep,filter:Np,data:Op,enter:Ip,exit:Rp,join:Dp,merge:kp,selection:HS,order:Pp,sort:jp,call:zp,nodes:Bp,node:Fp,size:Up,empty:Wp,each:Hp,attr:qp,style:Yp,property:Gp,classed:Kp,text:Jp,html:Qp,raise:td,lower:ed,append:nd,insert:rd,remove:id,clone:od,datum:ad,on:sd,dispatch:ld,[Symbol.iterator]:fd};var An=cd;function vt(t){return typeof t=="string"?new Ft([[document.querySelector(t)]],[document.documentElement]):new Ft([[t]],Bu)}function Fu(t){return vt(kr(t).call(document.documentElement))}function hd(t){let n;for(;n=t.sourceEvent;)t=n;return t}function $e(t,n){if(t=hd(t),n===void 0&&(n=t.currentTarget),n){var i=n.ownerSVGElement||n;if(i.createSVGPoint){var o=i.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[t.clientX-s.left-n.clientLeft,t.clientY-s.top-n.clientTop]}}return[t.pageX,t.pageY]}function la(t){t.preventDefault(),t.stopImmediatePropagation()}function vi(t){var n=t.document.documentElement,i=vt(t).on("dragstart.drag",la,!0);"onselectstart"in n?i.on("selectstart.drag",la,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function xi(t,n){var i=t.document.documentElement,o=vt(t).on("dragstart.drag",null);n&&(o.on("click.drag",la,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function fa(t,n,i){t.prototype=n.prototype=i,i.constructor=t}function Uu(t,n){var i=Object.create(t.prototype);for(var o in n)i[o]=n[o];return i}function yi(){}var wi=.7,ca=1/wi,Pr="\\s*([+-]?\\d+)\\s*",bi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qS=/^#([0-9a-f]{3,8})$/,YS=new RegExp("^rgb\\("+[Pr,Pr,Pr]+"\\)$"),GS=new RegExp("^rgb\\("+[un,un,un]+"\\)$"),XS=new RegExp("^rgba\\("+[Pr,Pr,Pr,bi]+"\\)$"),$S=new RegExp("^rgba\\("+[un,un,un,bi]+"\\)$"),VS=new RegExp("^hsl\\("+[bi,un,un]+"\\)$"),ZS=new RegExp("^hsla\\("+[bi,un,un,bi]+"\\)$"),pd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fa(yi,en,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:dd,formatHex:dd,formatHsl:KS,formatRgb:md,toString:md});function dd(){return this.rgb().formatHex()}function KS(){return yd(this).formatHsl()}function md(){return this.rgb().formatRgb()}function en(t){var n,i;return t=(t+"").trim().toLowerCase(),(n=qS.exec(t))?(i=n[1].length,n=parseInt(n[1],16),i===6?gd(n):i===3?new ke(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):i===8?ha(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):i===4?ha(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=YS.exec(t))?new ke(n[1],n[2],n[3],1):(n=GS.exec(t))?new ke(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=XS.exec(t))?ha(n[1],n[2],n[3],n[4]):(n=$S.exec(t))?ha(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=VS.exec(t))?xd(n[1],n[2]/100,n[3]/100,1):(n=ZS.exec(t))?xd(n[1],n[2]/100,n[3]/100,n[4]):pd.hasOwnProperty(t)?gd(pd[t]):t==="transparent"?new ke(NaN,NaN,NaN,0):null}function gd(t){return new ke(t>>16&255,t>>8&255,t&255,1)}function ha(t,n,i,o){return o<=0&&(t=n=i=NaN),new ke(t,n,i,o)}function JS(t){return t instanceof yi||(t=en(t)),t?(t=t.rgb(),new ke(t.r,t.g,t.b,t.opacity)):new ke}function jr(t,n,i,o){return arguments.length===1?JS(t):new ke(t,n,i,o==null?1:o)}function ke(t,n,i,o){this.r=+t,this.g=+n,this.b=+i,this.opacity=+o}fa(ke,jr,Uu(yi,{brighter:function(t){return t=t==null?ca:Math.pow(ca,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?wi:Math.pow(wi,t),new ke(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_d,formatHex:_d,formatRgb:vd,toString:vd}));function _d(){return"#"+Wu(this.r)+Wu(this.g)+Wu(this.b)}function vd(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Wu(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function xd(t,n,i,o){return o<=0?t=n=i=NaN:i<=0||i>=1?t=n=NaN:n<=0&&(t=NaN),new ln(t,n,i,o)}function yd(t){if(t instanceof ln)return new ln(t.h,t.s,t.l,t.opacity);if(t instanceof yi||(t=en(t)),!t)return new ln;if(t instanceof ln)return t;t=t.rgb();var n=t.r/255,i=t.g/255,o=t.b/255,s=Math.min(n,i,o),u=Math.max(n,i,o),l=NaN,c=u-s,p=(u+s)/2;return c?(n===u?l=(i-o)/c+(i<o)*6:i===u?l=(o-n)/c+2:l=(n-i)/c+4,c/=p<.5?u+s:2-u-s,l*=60):c=p>0&&p<1?0:l,new ln(l,c,p,t.opacity)}function wd(t,n,i,o){return arguments.length===1?yd(t):new ln(t,n,i,o==null?1:o)}function ln(t,n,i,o){this.h=+t,this.s=+n,this.l=+i,this.opacity=+o}fa(ln,wd,Uu(yi,{brighter:function(t){return t=t==null?ca:Math.pow(ca,t),new ln(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?wi:Math.pow(wi,t),new ln(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,o=i+(i<.5?i:1-i)*n,s=2*i-o;return new ke(Hu(t>=240?t-240:t+120,s,o),Hu(t,s,o),Hu(t<120?t+240:t-120,s,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Hu(t,n,i){return(t<60?n+(i-n)*t/60:t<180?i:t<240?n+(i-n)*(240-t)/60:n)*255}function qu(t,n,i,o,s){var u=t*t,l=u*t;return((1-3*t+3*u-l)*n+(4-6*u+3*l)*i+(1+3*t+3*u-3*l)*o+l*s)/6}function bd(t){var n=t.length-1;return function(i){var o=i<=0?i=0:i>=1?(i=1,n-1):Math.floor(i*n),s=t[o],u=t[o+1],l=o>0?t[o-1]:2*s-u,c=o<n-1?t[o+2]:2*u-s;return qu((i-o/n)*n,l,s,u,c)}}function Sd(t){var n=t.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*n),s=t[(o+n-1)%n],u=t[o%n],l=t[(o+1)%n],c=t[(o+2)%n];return qu((i-o/n)*n,s,u,l,c)}}var Si=t=>()=>t;function QS(t,n){return function(i){return t+i*n}}function tT(t,n,i){return t=Math.pow(t,i),n=Math.pow(n,i)-t,i=1/i,function(o){return Math.pow(t+o*n,i)}}function Td(t){return(t=+t)==1?pa:function(n,i){return i-n?tT(n,i,t):Si(isNaN(n)?i:n)}}function pa(t,n){var i=n-t;return i?QS(t,i):Si(isNaN(t)?n:t)}var ar=function t(n){var i=Td(n);function o(s,u){var l=i((s=jr(s)).r,(u=jr(u)).r),c=i(s.g,u.g),p=i(s.b,u.b),d=pa(s.opacity,u.opacity);return function(v){return s.r=l(v),s.g=c(v),s.b=p(v),s.opacity=d(v),s+""}}return o.gamma=t,o}(1);function Ad(t){return function(n){var i=n.length,o=new Array(i),s=new Array(i),u=new Array(i),l,c;for(l=0;l<i;++l)c=jr(n[l]),o[l]=c.r||0,s[l]=c.g||0,u[l]=c.b||0;return o=t(o),s=t(s),u=t(u),c.opacity=1,function(p){return c.r=o(p),c.g=s(p),c.b=u(p),c+""}}}var eT=Ad(bd),nT=Ad(Sd);function Md(t,n){n||(n=[]);var i=t?Math.min(n.length,t.length):0,o=n.slice(),s;return function(u){for(s=0;s<i;++s)o[s]=t[s]*(1-u)+n[s]*u;return o}}function Cd(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ed(t,n){var i=n?n.length:0,o=t?Math.min(i,t.length):0,s=new Array(o),u=new Array(i),l;for(l=0;l<o;++l)s[l]=Mn(t[l],n[l]);for(;l<i;++l)u[l]=n[l];return function(c){for(l=0;l<o;++l)u[l]=s[l](c);return u}}function Nd(t,n){var i=new Date;return t=+t,n=+n,function(o){return i.setTime(t*(1-o)+n*o),i}}function oe(t,n){return t=+t,n=+n,function(i){return t*(1-i)+n*i}}function Id(t,n){var i={},o={},s;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(s in n)s in t?i[s]=Mn(t[s],n[s]):o[s]=n[s];return function(u){for(s in i)o[s]=i[s](u);return o}}var Yu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gu=new RegExp(Yu.source,"g");function rT(t){return function(){return t}}function iT(t){return function(n){return t(n)+""}}function Ti(t,n){var i=Yu.lastIndex=Gu.lastIndex=0,o,s,u,l=-1,c=[],p=[];for(t=t+"",n=n+"";(o=Yu.exec(t))&&(s=Gu.exec(n));)(u=s.index)>i&&(u=n.slice(i,u),c[l]?c[l]+=u:c[++l]=u),(o=o[0])===(s=s[0])?c[l]?c[l]+=s:c[++l]=s:(c[++l]=null,p.push({i:l,x:oe(o,s)})),i=Gu.lastIndex;return i<n.length&&(u=n.slice(i),c[l]?c[l]+=u:c[++l]=u),c.length<2?p[0]?iT(p[0].x):rT(n):(n=p.length,function(d){for(var v=0,w;v<n;++v)c[(w=p[v]).i]=w.x(d);return c.join("")})}function Mn(t,n){var i=typeof n,o;return n==null||i==="boolean"?Si(n):(i==="number"?oe:i==="string"?(o=en(n))?(n=o,ar):Ti:n instanceof en?ar:n instanceof Date?Nd:Cd(n)?Md:Array.isArray(n)?Ed:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Id:oe)(t,n)}function Xu(t,n){return t=+t,n=+n,function(i){return Math.round(t*(1-i)+n*i)}}var Ld=180/Math.PI,da={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $u(t,n,i,o,s,u){var l,c,p;return(l=Math.sqrt(t*t+n*n))&&(t/=l,n/=l),(p=t*i+n*o)&&(i-=t*p,o-=n*p),(c=Math.sqrt(i*i+o*o))&&(i/=c,o/=c,p/=c),t*o<n*i&&(t=-t,n=-n,p=-p,l=-l),{translateX:s,translateY:u,rotate:Math.atan2(n,t)*Ld,skewX:Math.atan(p)*Ld,scaleX:l,scaleY:c}}var ma;function Od(t){let n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?da:$u(n.a,n.b,n.c,n.d,n.e,n.f)}function Rd(t){return t==null?da:(ma||(ma=document.createElementNS("http://www.w3.org/2000/svg","g")),ma.setAttribute("transform",t),(t=ma.transform.baseVal.consolidate())?(t=t.matrix,$u(t.a,t.b,t.c,t.d,t.e,t.f)):da)}function Dd(t,n,i,o){function s(d){return d.length?d.pop()+" ":""}function u(d,v,w,x,A,z){if(d!==w||v!==x){var Y=A.push("translate(",null,n,null,i);z.push({i:Y-4,x:oe(d,w)},{i:Y-2,x:oe(v,x)})}else(w||x)&&A.push("translate("+w+n+x+i)}function l(d,v,w,x){d!==v?(d-v>180?v+=360:v-d>180&&(d+=360),x.push({i:w.push(s(w)+"rotate(",null,o)-2,x:oe(d,v)})):v&&w.push(s(w)+"rotate("+v+o)}function c(d,v,w,x){d!==v?x.push({i:w.push(s(w)+"skewX(",null,o)-2,x:oe(d,v)}):v&&w.push(s(w)+"skewX("+v+o)}function p(d,v,w,x,A,z){if(d!==w||v!==x){var Y=A.push(s(A)+"scale(",null,",",null,")");z.push({i:Y-4,x:oe(d,w)},{i:Y-2,x:oe(v,x)})}else(w!==1||x!==1)&&A.push(s(A)+"scale("+w+","+x+")")}return function(d,v){var w=[],x=[];return d=t(d),v=t(v),u(d.translateX,d.translateY,v.translateX,v.translateY,w,x),l(d.rotate,v.rotate,w,x),c(d.skewX,v.skewX,w,x),p(d.scaleX,d.scaleY,v.scaleX,v.scaleY,w,x),d=v=null,function(A){for(var z=-1,Y=x.length,I;++z<Y;)w[(I=x[z]).i]=I.x(A);return w.join("")}}}var Vu=Dd(Od,"px, ","px)","deg)"),Zu=Dd(Rd,", ",")",")");var oT=1e-12;function kd(t){return((t=Math.exp(t))+1/t)/2}function aT(t){return((t=Math.exp(t))-1/t)/2}function sT(t){return((t=Math.exp(2*t))-1)/(t+1)}var Ku=function t(n,i,o){function s(u,l){var c=u[0],p=u[1],d=u[2],v=l[0],w=l[1],x=l[2],A=v-c,z=w-p,Y=A*A+z*z,I,E;if(Y<oT)E=Math.log(x/d)/n,I=function(ht){return[c+ht*A,p+ht*z,d*Math.exp(n*ht*E)]};else{var D=Math.sqrt(Y),O=(x*x-d*d+o*Y)/(2*d*i*D),j=(x*x-d*d-o*Y)/(2*x*i*D),B=Math.log(Math.sqrt(O*O+1)-O),K=Math.log(Math.sqrt(j*j+1)-j);E=(K-B)/n,I=function(ht){var ft=ht*E,Ot=kd(B),gt=d/(i*D)*(Ot*sT(n*ft+B)-aT(B));return[c+gt*A,p+gt*z,d*Ot/kd(n*ft+B)]}}return I.duration=E*1e3*n/Math.SQRT2,I}return s.rho=function(u){var l=Math.max(.001,+u),c=l*l,p=c*c;return t(l,c,p)},s}(Math.SQRT2,2,4);var zr=0,Ai=0,Mi=0,Pd=1e3,ga,Ci,_a=0,sr=0,va=0,Ei=typeof performance=="object"&&performance.now?performance:Date,jd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ni(){return sr||(jd(uT),sr=Ei.now()+va)}function uT(){sr=0}function Ii(){this._call=this._time=this._next=null}Ii.prototype=xa.prototype={constructor:Ii,restart:function(t,n,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?Ni():+i)+(n==null?0:+n),!this._next&&Ci!==this&&(Ci?Ci._next=this:ga=this,Ci=this),this._call=t,this._time=i,Ju()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ju())}};function xa(t,n,i){var o=new Ii;return o.restart(t,n,i),o}function zd(){Ni(),++zr;for(var t=ga,n;t;)(n=sr-t._time)>=0&&t._call.call(null,n),t=t._next;--zr}function Bd(){sr=(_a=Ei.now())+va,zr=Ai=0;try{zd()}finally{zr=0,fT(),sr=0}}function lT(){var t=Ei.now(),n=t-_a;n>Pd&&(va-=n,_a=t)}function fT(){for(var t,n=ga,i,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(i=n._next,n._next=null,n=t?t._next=i:ga=i);Ci=t,Ju(o)}function Ju(t){if(!zr){Ai&&(Ai=clearTimeout(Ai));var n=t-sr;n>24?(t<1/0&&(Ai=setTimeout(Bd,t-Ei.now()-va)),Mi&&(Mi=clearInterval(Mi))):(Mi||(_a=Ei.now(),Mi=setInterval(lT,Pd)),zr=1,jd(Bd))}}function ya(t,n,i){var o=new Ii;return n=n==null?0:+n,o.restart(s=>{o.stop(),t(s+n)},n,i),o}var cT=ir("start","end","cancel","interrupt"),hT=[],Fd=0,Qu=1,wa=2,ba=3,Ud=4,Sa=5,Li=6;function Fn(t,n,i,o,s,u){var l=t.__transition;if(!l)t.__transition={};else if(i in l)return;pT(t,i,{name:n,index:o,group:s,on:cT,tween:hT,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Fd})}function Oi(t,n){var i=Kt(t,n);if(i.state>Fd)throw new Error("too late; already scheduled");return i}function ae(t,n){var i=Kt(t,n);if(i.state>ba)throw new Error("too late; already running");return i}function Kt(t,n){var i=t.__transition;if(!i||!(i=i[n]))throw new Error("transition not found");return i}function pT(t,n,i){var o=t.__transition,s;o[n]=i,i.timer=xa(u,0,i.time);function u(d){i.state=Qu,i.timer.restart(l,i.delay,i.time),i.delay<=d&&l(d-i.delay)}function l(d){var v,w,x,A;if(i.state!==Qu)return p();for(v in o)if(A=o[v],A.name===i.name){if(A.state===ba)return ya(l);A.state===Ud?(A.state=Li,A.timer.stop(),A.on.call("interrupt",t,t.__data__,A.index,A.group),delete o[v]):+v<n&&(A.state=Li,A.timer.stop(),A.on.call("cancel",t,t.__data__,A.index,A.group),delete o[v])}if(ya(function(){i.state===ba&&(i.state=Ud,i.timer.restart(c,i.delay,i.time),c(d))}),i.state=wa,i.on.call("start",t,t.__data__,i.index,i.group),i.state===wa){for(i.state=ba,s=new Array(x=i.tween.length),v=0,w=-1;v<x;++v)(A=i.tween[v].value.call(t,t.__data__,i.index,i.group))&&(s[++w]=A);s.length=w+1}}function c(d){for(var v=d<i.duration?i.ease.call(null,d/i.duration):(i.timer.restart(p),i.state=Sa,1),w=-1,x=s.length;++w<x;)s[w].call(t,v);i.state===Sa&&(i.on.call("end",t,t.__data__,i.index,i.group),p())}function p(){i.state=Li,i.timer.stop(),delete o[n];for(var d in o)return;delete t.__transition}}function fn(t,n){var i=t.__transition,o,s,u=!0,l;if(!!i){n=n==null?null:n+"";for(l in i){if((o=i[l]).name!==n){u=!1;continue}s=o.state>wa&&o.state<Sa,o.state=Li,o.timer.stop(),o.on.call(s?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete i[l]}u&&delete t.__transition}}function Wd(t){return this.each(function(){fn(this,t)})}function dT(t,n){var i,o;return function(){var s=ae(this,t),u=s.tween;if(u!==i){o=i=u;for(var l=0,c=o.length;l<c;++l)if(o[l].name===n){o=o.slice(),o.splice(l,1);break}}s.tween=o}}function mT(t,n,i){var o,s;if(typeof i!="function")throw new Error;return function(){var u=ae(this,t),l=u.tween;if(l!==o){s=(o=l).slice();for(var c={name:n,value:i},p=0,d=s.length;p<d;++p)if(s[p].name===n){s[p]=c;break}p===d&&s.push(c)}u.tween=s}}function Hd(t,n){var i=this._id;if(t+="",arguments.length<2){for(var o=Kt(this.node(),i).tween,s=0,u=o.length,l;s<u;++s)if((l=o[s]).name===t)return l.value;return null}return this.each((n==null?dT:mT)(i,t,n))}function Br(t,n,i){var o=t._id;return t.each(function(){var s=ae(this,o);(s.value||(s.value={}))[n]=i.apply(this,arguments)}),function(s){return Kt(s,o).value[n]}}function Ta(t,n){var i;return(typeof n=="number"?oe:n instanceof en?ar:(i=en(n))?(n=i,ar):Ti)(t,n)}function gT(t){return function(){this.removeAttribute(t)}}function _T(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vT(t,n,i){var o,s=i+"",u;return function(){var l=this.getAttribute(t);return l===s?null:l===o?u:u=n(o=l,i)}}function xT(t,n,i){var o,s=i+"",u;return function(){var l=this.getAttributeNS(t.space,t.local);return l===s?null:l===o?u:u=n(o=l,i)}}function yT(t,n,i){var o,s,u;return function(){var l,c=i(this),p;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),p=c+"",l===p?null:l===o&&p===s?u:(s=p,u=n(o=l,c)))}}function wT(t,n,i){var o,s,u;return function(){var l,c=i(this),p;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),p=c+"",l===p?null:l===o&&p===s?u:(s=p,u=n(o=l,c)))}}function qd(t,n){var i=Tn(t),o=i==="transform"?Zu:Ta;return this.attrTween(t,typeof n=="function"?(i.local?wT:yT)(i,o,Br(this,"attr."+t,n)):n==null?(i.local?_T:gT)(i):(i.local?xT:vT)(i,o,n))}function bT(t,n){return function(i){this.setAttribute(t,n.call(this,i))}}function ST(t,n){return function(i){this.setAttributeNS(t.space,t.local,n.call(this,i))}}function TT(t,n){var i,o;function s(){var u=n.apply(this,arguments);return u!==o&&(i=(o=u)&&ST(t,u)),i}return s._value=n,s}function AT(t,n){var i,o;function s(){var u=n.apply(this,arguments);return u!==o&&(i=(o=u)&&bT(t,u)),i}return s._value=n,s}function Yd(t,n){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;var o=Tn(t);return this.tween(i,(o.local?TT:AT)(o,n))}function MT(t,n){return function(){Oi(this,t).delay=+n.apply(this,arguments)}}function CT(t,n){return n=+n,function(){Oi(this,t).delay=n}}function Gd(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?MT:CT)(n,t)):Kt(this.node(),n).delay}function ET(t,n){return function(){ae(this,t).duration=+n.apply(this,arguments)}}function NT(t,n){return n=+n,function(){ae(this,t).duration=n}}function Xd(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ET:NT)(n,t)):Kt(this.node(),n).duration}function IT(t,n){if(typeof n!="function")throw new Error;return function(){ae(this,t).ease=n}}function $d(t){var n=this._id;return arguments.length?this.each(IT(n,t)):Kt(this.node(),n).ease}function LT(t,n){return function(){var i=n.apply(this,arguments);if(typeof i!="function")throw new Error;ae(this,t).ease=i}}function Vd(t){if(typeof t!="function")throw new Error;return this.each(LT(this._id,t))}function Zd(t){typeof t!="function"&&(t=gi(t));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var u=n[s],l=u.length,c=o[s]=[],p,d=0;d<l;++d)(p=u[d])&&t.call(p,p.__data__,d,u)&&c.push(p);return new he(o,this._parents,this._name,this._id)}function Kd(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,i=t._groups,o=n.length,s=i.length,u=Math.min(o,s),l=new Array(o),c=0;c<u;++c)for(var p=n[c],d=i[c],v=p.length,w=l[c]=new Array(v),x,A=0;A<v;++A)(x=p[A]||d[A])&&(w[A]=x);for(;c<o;++c)l[c]=n[c];return new he(l,this._parents,this._name,this._id)}function OT(t){return(t+"").trim().split(/^|\s+/).every(function(n){var i=n.indexOf(".");return i>=0&&(n=n.slice(0,i)),!n||n==="start"})}function RT(t,n,i){var o,s,u=OT(n)?Oi:ae;return function(){var l=u(this,t),c=l.on;c!==o&&(s=(o=c).copy()).on(n,i),l.on=s}}function Jd(t,n){var i=this._id;return arguments.length<2?Kt(this.node(),i).on.on(t):this.each(RT(i,t,n))}function DT(t){return function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==t)return;n&&n.removeChild(this)}}function Qd(){return this.on("end.remove",DT(this._id))}function tm(t){var n=this._name,i=this._id;typeof t!="function"&&(t=or(t));for(var o=this._groups,s=o.length,u=new Array(s),l=0;l<s;++l)for(var c=o[l],p=c.length,d=u[l]=new Array(p),v,w,x=0;x<p;++x)(v=c[x])&&(w=t.call(v,v.__data__,x,c))&&("__data__"in v&&(w.__data__=v.__data__),d[x]=w,Fn(d[x],n,i,x,d,Kt(v,i)));return new he(u,this._parents,n,i)}function em(t){var n=this._name,i=this._id;typeof t!="function"&&(t=mi(t));for(var o=this._groups,s=o.length,u=[],l=[],c=0;c<s;++c)for(var p=o[c],d=p.length,v,w=0;w<d;++w)if(v=p[w]){for(var x=t.call(v,v.__data__,w,p),A,z=Kt(v,i),Y=0,I=x.length;Y<I;++Y)(A=x[Y])&&Fn(A,n,i,Y,x,z);u.push(x),l.push(v)}return new he(u,l,n,i)}var kT=An.prototype.constructor;function nm(){return new kT(this._groups,this._parents)}function PT(t,n){var i,o,s;return function(){var u=Bn(this,t),l=(this.style.removeProperty(t),Bn(this,t));return u===l?null:u===i&&l===o?s:s=n(i=u,o=l)}}function rm(t){return function(){this.style.removeProperty(t)}}function jT(t,n,i){var o,s=i+"",u;return function(){var l=Bn(this,t);return l===s?null:l===o?u:u=n(o=l,i)}}function zT(t,n,i){var o,s,u;return function(){var l=Bn(this,t),c=i(this),p=c+"";return c==null&&(p=c=(this.style.removeProperty(t),Bn(this,t))),l===p?null:l===o&&p===s?u:(s=p,u=n(o=l,c))}}function BT(t,n){var i,o,s,u="style."+n,l="end."+u,c;return function(){var p=ae(this,t),d=p.on,v=p.value[u]==null?c||(c=rm(n)):void 0;(d!==i||s!==v)&&(o=(i=d).copy()).on(l,s=v),p.on=o}}function im(t,n,i){var o=(t+="")==="transform"?Vu:Ta;return n==null?this.styleTween(t,PT(t,o)).on("end.style."+t,rm(t)):typeof n=="function"?this.styleTween(t,zT(t,o,Br(this,"style."+t,n))).each(BT(this._id,t)):this.styleTween(t,jT(t,o,n),i).on("end.style."+t,null)}function FT(t,n,i){return function(o){this.style.setProperty(t,n.call(this,o),i)}}function UT(t,n,i){var o,s;function u(){var l=n.apply(this,arguments);return l!==s&&(o=(s=l)&&FT(t,l,i)),o}return u._value=n,u}function om(t,n,i){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,UT(t,n,i==null?"":i))}function WT(t){return function(){this.textContent=t}}function HT(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function am(t){return this.tween("text",typeof t=="function"?HT(Br(this,"text",t)):WT(t==null?"":t+""))}function qT(t){return function(n){this.textContent=t.call(this,n)}}function YT(t){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&qT(s)),n}return o._value=t,o}function sm(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,YT(t))}function um(){for(var t=this._name,n=this._id,i=Aa(),o=this._groups,s=o.length,u=0;u<s;++u)for(var l=o[u],c=l.length,p,d=0;d<c;++d)if(p=l[d]){var v=Kt(p,n);Fn(p,t,i,d,l,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new he(o,this._parents,t,i)}function lm(){var t,n,i=this,o=i._id,s=i.size();return new Promise(function(u,l){var c={value:l},p={value:function(){--s==0&&u()}};i.each(function(){var d=ae(this,o),v=d.on;v!==t&&(n=(t=v).copy(),n._.cancel.push(c),n._.interrupt.push(c),n._.end.push(p)),d.on=n}),s===0&&u()})}var GT=0;function he(t,n,i,o){this._groups=t,this._parents=n,this._name=i,this._id=o}function tl(t){return An().transition(t)}function Aa(){return++GT}var ur=An.prototype;he.prototype=tl.prototype={constructor:he,select:tm,selectAll:em,filter:Zd,merge:Kd,selection:nm,transition:um,call:ur.call,nodes:ur.nodes,node:ur.node,size:ur.size,empty:ur.empty,each:ur.each,on:Jd,attr:qd,attrTween:Yd,style:im,styleTween:om,text:am,textTween:sm,remove:Qd,tween:Hd,delay:Gd,duration:Xd,ease:$d,easeVarying:Vd,end:lm,[Symbol.iterator]:ur[Symbol.iterator]};function Ma(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var XT={time:null,delay:0,duration:250,ease:Ma};function $T(t,n){for(var i;!(i=t.__transition)||!(i=i[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return i}function fm(t){var n,i;t instanceof he?(n=t._id,t=t._name):(n=Aa(),(i=XT).time=Ni(),t=t==null?null:t+"");for(var o=this._groups,s=o.length,u=0;u<s;++u)for(var l=o[u],c=l.length,p,d=0;d<c;++d)(p=l[d])&&Fn(p,t,n,d,l,i||$T(p,n));return new he(o,this._parents,t,n)}An.prototype.interrupt=Wd;An.prototype.transition=fm;var Ca=t=>()=>t;function el(t,{sourceEvent:n,target:i,selection:o,mode:s,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},selection:{value:o,enumerable:!0,configurable:!0},mode:{value:s,enumerable:!0,configurable:!0},_:{value:u}})}function cm(t){t.stopImmediatePropagation()}function Ea(t){t.preventDefault(),t.stopImmediatePropagation()}var hm={name:"drag"},nl={name:"space"},Fr={name:"handle"},Ur={name:"center"},{abs:pm,max:pe,min:de}=Math;function dm(t){return[+t[0],+t[1]]}function rl(t){return[dm(t[0]),dm(t[1])]}var il={name:"x",handles:["w","e"].map(Ri),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ol={name:"y",handles:["n","s"].map(Ri),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},VT={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ri),input:function(t){return t==null?null:rl(t)},output:function(t){return t}},Cn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mm={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},gm={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ZT={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},KT={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ri(t){return{type:t}}function JT(t){return!t.ctrlKey&&!t.button}function QT(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function tA(){return navigator.maxTouchPoints||"ontouchstart"in this}function al(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function eA(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function sl(){return nA(VT)}function nA(t){var n=QT,i=JT,o=tA,s=!0,u=ir("start","brush","end"),l=6,c;function p(I){var E=I.property("__brush",Y).selectAll(".overlay").data([Ri("overlay")]);E.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Cn.overlay).merge(E).each(function(){var O=al(this).extent;vt(this).attr("x",O[0][0]).attr("y",O[0][1]).attr("width",O[1][0]-O[0][0]).attr("height",O[1][1]-O[0][1])}),I.selectAll(".selection").data([Ri("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Cn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var D=I.selectAll(".handle").data(t.handles,function(O){return O.type});D.exit().remove(),D.enter().append("rect").attr("class",function(O){return"handle handle--"+O.type}).attr("cursor",function(O){return Cn[O.type]}),I.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",x).filter(o).on("touchstart.brush",x).on("touchmove.brush",A).on("touchend.brush touchcancel.brush",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.move=function(I,E){I.tween?I.on("start.brush",function(D){v(this,arguments).beforestart().start(D)}).on("interrupt.brush end.brush",function(D){v(this,arguments).end(D)}).tween("brush",function(){var D=this,O=D.__brush,j=v(D,arguments),B=O.selection,K=t.input(typeof E=="function"?E.apply(this,arguments):E,O.extent),ht=Mn(B,K);function ft(Ot){O.selection=Ot===1&&K===null?null:ht(Ot),d.call(D),j.brush()}return B!==null&&K!==null?ft:ft(1)}):I.each(function(){var D=this,O=arguments,j=D.__brush,B=t.input(typeof E=="function"?E.apply(D,O):E,j.extent),K=v(D,O).beforestart();fn(D),j.selection=B===null?null:B,d.call(D),K.start().brush().end()})},p.clear=function(I){p.move(I,null)};function d(){var I=vt(this),E=al(this).selection;E?(I.selectAll(".selection").style("display",null).attr("x",E[0][0]).attr("y",E[0][1]).attr("width",E[1][0]-E[0][0]).attr("height",E[1][1]-E[0][1]),I.selectAll(".handle").style("display",null).attr("x",function(D){return D.type[D.type.length-1]==="e"?E[1][0]-l/2:E[0][0]-l/2}).attr("y",function(D){return D.type[0]==="s"?E[1][1]-l/2:E[0][1]-l/2}).attr("width",function(D){return D.type==="n"||D.type==="s"?E[1][0]-E[0][0]+l:l}).attr("height",function(D){return D.type==="e"||D.type==="w"?E[1][1]-E[0][1]+l:l})):I.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function v(I,E,D){var O=I.__brush.emitter;return O&&(!D||!O.clean)?O:new w(I,E,D)}function w(I,E,D){this.that=I,this.args=E,this.state=I.__brush,this.active=0,this.clean=D}w.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(I,E){return this.starting?(this.starting=!1,this.emit("start",I,E)):this.emit("brush",I),this},brush:function(I,E){return this.emit("brush",I,E),this},end:function(I,E){return--this.active==0&&(delete this.state.emitter,this.emit("end",I,E)),this},emit:function(I,E,D){var O=vt(this.that).datum();u.call(I,this.that,new el(I,{sourceEvent:E,target:p,selection:t.output(this.state.selection),mode:D,dispatch:u}),O)}};function x(I){if(c&&!I.touches||!i.apply(this,arguments))return;var E=this,D=I.target.__data__.type,O=(s&&I.metaKey?D="overlay":D)==="selection"?hm:s&&I.altKey?Ur:Fr,j=t===ol?null:ZT[D],B=t===il?null:KT[D],K=al(E),ht=K.extent,ft=K.selection,Ot=ht[0][0],gt,X,yt=ht[0][1],st,T,F=ht[1][0],C,q,$=ht[1][1],U,Z,Q=0,it=0,zt,Et=j&&B&&s&&I.shiftKey,Xt,Wt,xt=Array.from(I.touches||[I],rt=>{let Lt=rt.identifier;return rt=$e(rt,E),rt.point0=rt.slice(),rt.identifier=Lt,rt});if(D==="overlay"){ft&&(zt=!0);let rt=[xt[0],xt[1]||xt[0]];K.selection=ft=[[gt=t===ol?Ot:de(rt[0][0],rt[1][0]),st=t===il?yt:de(rt[0][1],rt[1][1])],[C=t===ol?F:pe(rt[0][0],rt[1][0]),U=t===il?$:pe(rt[0][1],rt[1][1])]],xt.length>1&&It()}else gt=ft[0][0],st=ft[0][1],C=ft[1][0],U=ft[1][1];X=gt,T=st,q=C,Z=U;var le=vt(E).attr("pointer-events","none"),W=le.selectAll(".overlay").attr("cursor",Cn[D]);fn(E);var nt=v(E,arguments,!0).beforestart();if(I.touches)nt.moved=k,nt.ended=St;else{var pt=vt(I.view).on("mousemove.brush",k,!0).on("mouseup.brush",St,!0);s&&pt.on("keydown.brush",kt,!0).on("keyup.brush",Jt,!0),vi(I.view)}d.call(E),nt.start(I,O.name);function k(rt){for(let Lt of rt.changedTouches||[rt])for(let re of xt)re.identifier===Lt.identifier&&(re.cur=$e(Lt,E));if(Et&&!Xt&&!Wt&&xt.length===1){let Lt=xt[0];pm(Lt.cur[0]-Lt[0])>pm(Lt.cur[1]-Lt[1])?Wt=!0:Xt=!0}for(let Lt of xt)Lt.cur&&(Lt[0]=Lt.cur[0],Lt[1]=Lt.cur[1]);zt=!0,Ea(rt),It(rt)}function It(rt){let Lt=xt[0],re=Lt.point0;var we;switch(Q=Lt[0]-re[0],it=Lt[1]-re[1],O){case nl:case hm:{j&&(Q=pe(Ot-gt,de(F-C,Q)),X=gt+Q,q=C+Q),B&&(it=pe(yt-st,de($-U,it)),T=st+it,Z=U+it);break}case Fr:{xt[1]?(j&&(X=pe(Ot,de(F,xt[0][0])),q=pe(Ot,de(F,xt[1][0])),j=1),B&&(T=pe(yt,de($,xt[0][1])),Z=pe(yt,de($,xt[1][1])),B=1)):(j<0?(Q=pe(Ot-gt,de(F-gt,Q)),X=gt+Q,q=C):j>0&&(Q=pe(Ot-C,de(F-C,Q)),X=gt,q=C+Q),B<0?(it=pe(yt-st,de($-st,it)),T=st+it,Z=U):B>0&&(it=pe(yt-U,de($-U,it)),T=st,Z=U+it));break}case Ur:{j&&(X=pe(Ot,de(F,gt-Q*j)),q=pe(Ot,de(F,C+Q*j))),B&&(T=pe(yt,de($,st-it*B)),Z=pe(yt,de($,U+it*B)));break}}q<X&&(j*=-1,we=gt,gt=C,C=we,we=X,X=q,q=we,D in mm&&W.attr("cursor",Cn[D=mm[D]])),Z<T&&(B*=-1,we=st,st=U,U=we,we=T,T=Z,Z=we,D in gm&&W.attr("cursor",Cn[D=gm[D]])),K.selection&&(ft=K.selection),Xt&&(X=ft[0][0],q=ft[1][0]),Wt&&(T=ft[0][1],Z=ft[1][1]),(ft[0][0]!==X||ft[0][1]!==T||ft[1][0]!==q||ft[1][1]!==Z)&&(K.selection=[[X,T],[q,Z]],d.call(E),nt.brush(rt,O.name))}function St(rt){if(cm(rt),rt.touches){if(rt.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500)}else xi(rt.view,zt),pt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);le.attr("pointer-events","all"),W.attr("cursor",Cn.overlay),K.selection&&(ft=K.selection),eA(ft)&&(K.selection=null,d.call(E)),nt.end(rt,O.name)}function kt(rt){switch(rt.keyCode){case 16:{Et=j&&B;break}case 18:{O===Fr&&(j&&(C=q-Q*j,gt=X+Q*j),B&&(U=Z-it*B,st=T+it*B),O=Ur,It());break}case 32:{(O===Fr||O===Ur)&&(j<0?C=q-Q:j>0&&(gt=X-Q),B<0?U=Z-it:B>0&&(st=T-it),O=nl,W.attr("cursor",Cn.selection),It());break}default:return}Ea(rt)}function Jt(rt){switch(rt.keyCode){case 16:{Et&&(Xt=Wt=Et=!1,It());break}case 18:{O===Ur&&(j<0?C=q:j>0&&(gt=X),B<0?U=Z:B>0&&(st=T),O=Fr,It());break}case 32:{O===nl&&(rt.altKey?(j&&(C=q-Q*j,gt=X+Q*j),B&&(U=Z-it*B,st=T+it*B),O=Ur):(j<0?C=q:j>0&&(gt=X),B<0?U=Z:B>0&&(st=T),O=Fr),W.attr("cursor",Cn[D]),It());break}default:return}Ea(rt)}}function A(I){v(this,arguments).moved(I)}function z(I){v(this,arguments).ended(I)}function Y(){var I=this.__brush||{selection:null};return I.extent=rl(n.apply(this,arguments)),I.dim=t,I}return p.extent=function(I){return arguments.length?(n=typeof I=="function"?I:Ca(rl(I)),p):n},p.filter=function(I){return arguments.length?(i=typeof I=="function"?I:Ca(!!I),p):i},p.touchable=function(I){return arguments.length?(o=typeof I=="function"?I:Ca(!!I),p):o},p.handleSize=function(I){return arguments.length?(l=+I,p):l},p.keyModifiers=function(I){return arguments.length?(s=!!I,p):s},p.on=function(){var I=u.on.apply(u,arguments);return I===u?p:I},p}var ul=Math.PI,ll=2*ul,lr=1e-6,rA=ll-lr;function fl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _m(){return new fl}fl.prototype=_m.prototype={constructor:fl,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,i,o){this._+="Q"+ +t+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},bezierCurveTo:function(t,n,i,o,s,u){this._+="C"+ +t+","+ +n+","+ +i+","+ +o+","+(this._x1=+s)+","+(this._y1=+u)},arcTo:function(t,n,i,o,s){t=+t,n=+n,i=+i,o=+o,s=+s;var u=this._x1,l=this._y1,c=i-t,p=o-n,d=u-t,v=l-n,w=d*d+v*v;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(w>lr)if(!(Math.abs(v*c-p*d)>lr)||!s)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var x=i-u,A=o-l,z=c*c+p*p,Y=x*x+A*A,I=Math.sqrt(z),E=Math.sqrt(w),D=s*Math.tan((ul-Math.acos((z+w-Y)/(2*I*E)))/2),O=D/E,j=D/I;Math.abs(O-1)>lr&&(this._+="L"+(t+O*d)+","+(n+O*v)),this._+="A"+s+","+s+",0,0,"+ +(v*x>d*A)+","+(this._x1=t+j*c)+","+(this._y1=n+j*p)}},arc:function(t,n,i,o,s,u){t=+t,n=+n,i=+i,u=!!u;var l=i*Math.cos(o),c=i*Math.sin(o),p=t+l,d=n+c,v=1^u,w=u?o-s:s-o;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+p+","+d:(Math.abs(this._x1-p)>lr||Math.abs(this._y1-d)>lr)&&(this._+="L"+p+","+d),!!i&&(w<0&&(w=w%ll+ll),w>rA?this._+="A"+i+","+i+",0,1,"+v+","+(t-l)+","+(n-c)+"A"+i+","+i+",0,1,"+v+","+(this._x1=p)+","+(this._y1=d):w>lr&&(this._+="A"+i+","+i+",0,"+ +(w>=ul)+","+v+","+(this._x1=t+i*Math.cos(s))+","+(this._y1=n+i*Math.sin(s))))},rect:function(t,n,i,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +i+"v"+ +o+"h"+-i+"Z"},toString:function(){return this._}};var cl=_m;function vm(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fr(t,n){if((i=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var i,o=t.slice(0,i);return[o.length>1?o[0]+o.slice(2):o,+t.slice(i+1)]}function cn(t){return t=fr(Math.abs(t)),t?t[1]:NaN}function xm(t,n){return function(i,o){for(var s=i.length,u=[],l=0,c=t[0],p=0;s>0&&c>0&&(p+c+1>o&&(c=Math.max(1,o-p)),u.push(i.substring(s-=c,s+c)),!((p+=c+1)>o));)c=t[l=(l+1)%t.length];return u.reverse().join(n)}}function ym(t){return function(n){return n.replace(/[0-9]/g,function(i){return t[+i]})}}var iA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Un(t){if(!(n=iA.exec(t)))throw new Error("invalid format: "+t);var n;return new Na({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Un.prototype=Na.prototype;function Na(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Na.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wm(t){t:for(var n=t.length,i=1,o=-1,s;i<n;++i)switch(t[i]){case".":o=s=i;break;case"0":o===0&&(o=i),s=i;break;default:if(!+t[i])break t;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(s+1):t}var hl;function bm(t,n){var i=fr(t,n);if(!i)return t+"";var o=i[0],s=i[1],u=s-(hl=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=o.length;return u===l?o:u>l?o+new Array(u-l+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+fr(t,Math.max(0,n+u-1))[0]}function pl(t,n){var i=fr(t,n);if(!i)return t+"";var o=i[0],s=i[1];return s<0?"0."+new Array(-s).join("0")+o:o.length>s+1?o.slice(0,s+1)+"."+o.slice(s+1):o+new Array(s-o.length+2).join("0")}var dl={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vm,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>pl(t*100,n),r:pl,s:bm,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ml(t){return t}var Sm=Array.prototype.map,Tm=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Am(t){var n=t.grouping===void 0||t.thousands===void 0?ml:xm(Sm.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?ml:ym(Sm.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"\u2212":t.minus+"",p=t.nan===void 0?"NaN":t.nan+"";function d(w){w=Un(w);var x=w.fill,A=w.align,z=w.sign,Y=w.symbol,I=w.zero,E=w.width,D=w.comma,O=w.precision,j=w.trim,B=w.type;B==="n"?(D=!0,B="g"):dl[B]||(O===void 0&&(O=12),j=!0,B="g"),(I||x==="0"&&A==="=")&&(I=!0,x="0",A="=");var K=Y==="$"?i:Y==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",ht=Y==="$"?o:/[%p]/.test(B)?l:"",ft=dl[B],Ot=/[defgprs%]/.test(B);O=O===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function gt(X){var yt=K,st=ht,T,F,C;if(B==="c")st=ft(X)+st,X="";else{X=+X;var q=X<0||1/X<0;if(X=isNaN(X)?p:ft(Math.abs(X),O),j&&(X=wm(X)),q&&+X==0&&z!=="+"&&(q=!1),yt=(q?z==="("?z:c:z==="-"||z==="("?"":z)+yt,st=(B==="s"?Tm[8+hl/3]:"")+st+(q&&z==="("?")":""),Ot){for(T=-1,F=X.length;++T<F;)if(C=X.charCodeAt(T),48>C||C>57){st=(C===46?s+X.slice(T+1):X.slice(T))+st,X=X.slice(0,T);break}}}D&&!I&&(X=n(X,1/0));var $=yt.length+X.length+st.length,U=$<E?new Array(E-$+1).join(x):"";switch(D&&I&&(X=n(U+X,U.length?E-st.length:1/0),U=""),A){case"<":X=yt+X+st+U;break;case"=":X=yt+U+X+st;break;case"^":X=U.slice(0,$=U.length>>1)+yt+X+st+U.slice($);break;default:X=U+yt+X+st;break}return u(X)}return gt.toString=function(){return w+""},gt}function v(w,x){var A=d((w=Un(w),w.type="f",w)),z=Math.max(-8,Math.min(8,Math.floor(cn(x)/3)))*3,Y=Math.pow(10,-z),I=Tm[8+z/3];return function(E){return A(Y*E)+I}}return{format:d,formatPrefix:v}}var Ia,Wr,La;gl({thousands:",",grouping:[3],currency:["$",""]});function gl(t){return Ia=Am(t),Wr=Ia.format,La=Ia.formatPrefix,Ia}function _l(t){return Math.max(0,-cn(Math.abs(t)))}function vl(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cn(n)/3)))*3-cn(Math.abs(t)))}function xl(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,cn(n)-cn(t))+1}function oA(t){var n=0,i=t.children,o=i&&i.length;if(!o)n=1;else for(;--o>=0;)n+=i[o].value;t.value=n}function Mm(){return this.eachAfter(oA)}function Cm(t,n){let i=-1;for(let o of this)t.call(n,o,++i,this);return this}function Em(t,n){for(var i=this,o=[i],s,u,l=-1;i=o.pop();)if(t.call(n,i,++l,this),s=i.children)for(u=s.length-1;u>=0;--u)o.push(s[u]);return this}function Nm(t,n){for(var i=this,o=[i],s=[],u,l,c,p=-1;i=o.pop();)if(s.push(i),u=i.children)for(l=0,c=u.length;l<c;++l)o.push(u[l]);for(;i=s.pop();)t.call(n,i,++p,this);return this}function Im(t,n){let i=-1;for(let o of this)if(t.call(n,o,++i,this))return o}function Lm(t){return this.eachAfter(function(n){for(var i=+t(n.data)||0,o=n.children,s=o&&o.length;--s>=0;)i+=o[s].value;n.value=i})}function Om(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function Rm(t){for(var n=this,i=aA(n,t),o=[n];n!==i;)n=n.parent,o.push(n);for(var s=o.length;t!==i;)o.splice(s,0,t),t=t.parent;return o}function aA(t,n){if(t===n)return t;var i=t.ancestors(),o=n.ancestors(),s=null;for(t=i.pop(),n=o.pop();t===n;)s=t,t=i.pop(),n=o.pop();return s}function Dm(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function km(){return Array.from(this)}function Pm(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function jm(){var t=this,n=[];return t.each(function(i){i!==t&&n.push({source:i.parent,target:i})}),n}function*zm(){var t=this,n,i=[t],o,s,u;do for(n=i.reverse(),i=[];t=n.pop();)if(yield t,o=t.children)for(s=0,u=o.length;s<u;++s)i.push(o[s]);while(i.length)}function Ve(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=lA)):n===void 0&&(n=uA);for(var i=new Oa(t),o,s=[i],u,l,c,p;o=s.pop();)if((l=n(o.data))&&(p=(l=Array.from(l)).length))for(o.children=l,c=p-1;c>=0;--c)s.push(u=l[c]=new Oa(l[c])),u.parent=o,u.depth=o.depth+1;return i.eachBefore(cA)}function sA(){return Ve(this).eachBefore(fA)}function uA(t){return t.children}function lA(t){return Array.isArray(t)?t[1]:null}function fA(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function cA(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Oa(t){this.data=t,this.depth=this.height=0,this.parent=null}Oa.prototype=Ve.prototype={constructor:Oa,count:Mm,each:Cm,eachAfter:Nm,eachBefore:Em,find:Im,sum:Lm,sort:Om,path:Rm,ancestors:Dm,descendants:km,leaves:Pm,links:jm,copy:sA,[Symbol.iterator]:zm};function Bm(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function yl(t){return function(){return t}}function wl(t){return+t}var Fm=[0,1];function Hr(t){return t}function bl(t,n){return(n-=t=+t)?function(i){return(i-t)/n}:yl(isNaN(n)?NaN:.5)}function hA(t,n){var i;return t>n&&(i=t,t=n,n=i),function(o){return Math.max(t,Math.min(n,o))}}function pA(t,n,i){var o=t[0],s=t[1],u=n[0],l=n[1];return s<o?(o=bl(s,o),u=i(l,u)):(o=bl(o,s),u=i(u,l)),function(c){return u(o(c))}}function dA(t,n,i){var o=Math.min(t.length,n.length)-1,s=new Array(o),u=new Array(o),l=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++l<o;)s[l]=bl(t[l],t[l+1]),u[l]=i(n[l],n[l+1]);return function(c){var p=Nu(t,c,1,o)-1;return u[p](s[p](c))}}function Um(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mA(){var t=Fm,n=Fm,i=Mn,o,s,u,l=Hr,c,p,d;function v(){var x=Math.min(t.length,n.length);return l!==Hr&&(l=hA(t[0],t[x-1])),c=x>2?dA:pA,p=d=null,w}function w(x){return x==null||isNaN(x=+x)?u:(p||(p=c(t.map(o),n,i)))(o(l(x)))}return w.invert=function(x){return l(s((d||(d=c(n,t.map(o),oe)))(x)))},w.domain=function(x){return arguments.length?(t=Array.from(x,wl),v()):t.slice()},w.range=function(x){return arguments.length?(n=Array.from(x),v()):n.slice()},w.rangeRound=function(x){return n=Array.from(x),i=Xu,v()},w.clamp=function(x){return arguments.length?(l=x?!0:Hr,v()):l!==Hr},w.interpolate=function(x){return arguments.length?(i=x,v()):i},w.unknown=function(x){return arguments.length?(u=x,w):u},function(x,A){return o=x,s=A,v()}}function Sl(){return mA()(Hr,Hr)}function Tl(t,n,i,o){var s=Du(t,n,i),u;switch(o=Un(o==null?",f":o),o.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(n));return o.precision==null&&!isNaN(u=vl(s,l))&&(o.precision=u),La(o,l)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(u=xl(s,Math.max(Math.abs(t),Math.abs(n))))&&(o.precision=u-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(u=_l(s))&&(o.precision=u-(o.type==="%")*2);break}}return Wr(o)}function gA(t){var n=t.domain;return t.ticks=function(i){var o=n();return Ru(o[0],o[o.length-1],i==null?10:i)},t.tickFormat=function(i,o){var s=n();return Tl(s[0],s[s.length-1],i==null?10:i,o)},t.nice=function(i){i==null&&(i=10);var o=n(),s=0,u=o.length-1,l=o[s],c=o[u],p,d,v=10;for(c<l&&(d=l,l=c,c=d,d=s,s=u,u=d);v-- >0;){if(d=Jo(l,c,i),d===p)return o[s]=l,o[u]=c,n(o);if(d>0)l=Math.floor(l/d)*d,c=Math.ceil(c/d)*d;else if(d<0)l=Math.ceil(l*d)/d,c=Math.floor(c*d)/d;else break;p=d}return t},t}function Di(){var t=Sl();return t.copy=function(){return Um(t,Di())},Bm.apply(t,arguments),gA(t)}var Al=new Date,Ml=new Date;function me(t,n,i,o){function s(u){return t(u=arguments.length===0?new Date:new Date(+u)),u}return s.floor=function(u){return t(u=new Date(+u)),u},s.ceil=function(u){return t(u=new Date(u-1)),n(u,1),t(u),u},s.round=function(u){var l=s(u),c=s.ceil(u);return u-l<c-u?l:c},s.offset=function(u,l){return n(u=new Date(+u),l==null?1:Math.floor(l)),u},s.range=function(u,l,c){var p=[],d;if(u=s.ceil(u),c=c==null?1:Math.floor(c),!(u<l)||!(c>0))return p;do p.push(d=new Date(+u)),n(u,c),t(u);while(d<u&&u<l);return p},s.filter=function(u){return me(function(l){if(l>=l)for(;t(l),!u(l);)l.setTime(l-1)},function(l,c){if(l>=l)if(c<0)for(;++c<=0;)for(;n(l,-1),!u(l););else for(;--c>=0;)for(;n(l,1),!u(l););})},i&&(s.count=function(u,l){return Al.setTime(+u),Ml.setTime(+l),t(Al),t(Ml),Math.floor(i(Al,Ml))},s.every=function(u){return u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?s.filter(o?function(l){return o(l)%u==0}:function(l){return s.count(0,l)%u==0}):s}),s}var _A=1e3,ki=_A*60,vA=ki*60,cr=vA*24,Ra=cr*7,rP=cr*30,iP=cr*365;var Wm=me(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ki)/cr,t=>t.getDate()-1),Da=Wm,xA=Wm.range;function hr(t){return me(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,i){n.setDate(n.getDate()+i*7)},function(n,i){return(i-n-(i.getTimezoneOffset()-n.getTimezoneOffset())*ki)/Ra})}var Pi=hr(0),qr=hr(1),Hm=hr(2),qm=hr(3),Wn=hr(4),Ym=hr(5),Gm=hr(6),Xm=Pi.range,yA=qr.range,wA=Hm.range,bA=qm.range,SA=Wn.range,TA=Ym.range,AA=Gm.range;var Cl=me(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Cl.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:me(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,i){n.setFullYear(n.getFullYear()+i*t)})};var pr=Cl,MA=Cl.range;var $m=me(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/cr},function(t){return t.getUTCDate()-1}),ka=$m,CA=$m.range;function dr(t){return me(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,i){n.setUTCDate(n.getUTCDate()+i*7)},function(n,i){return(i-n)/Ra})}var ji=dr(0),Yr=dr(1),Vm=dr(2),Zm=dr(3),Hn=dr(4),Km=dr(5),Jm=dr(6),Qm=ji.range,EA=Yr.range,NA=Vm.range,IA=Zm.range,LA=Hn.range,OA=Km.range,RA=Jm.range;var El=me(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});El.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:me(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,i){n.setUTCFullYear(n.getUTCFullYear()+i*t)})};var mr=El,DA=El.range;function Nl(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Il(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zi(t,n,i){return{y:t,m:n,d:i,H:0,M:0,S:0,L:0}}function Ll(t){var n=t.dateTime,i=t.date,o=t.time,s=t.periods,u=t.days,l=t.shortDays,c=t.months,p=t.shortMonths,d=Bi(s),v=Fi(s),w=Bi(u),x=Fi(u),A=Bi(l),z=Fi(l),Y=Bi(c),I=Fi(c),E=Bi(p),D=Fi(p),O={a:q,A:$,b:U,B:Z,c:null,d:og,e:og,f:rM,g:pM,G:mM,H:tM,I:eM,j:nM,L:ag,m:iM,M:oM,p:Q,q:it,Q:hg,s:pg,S:aM,u:sM,U:uM,V:lM,w:fM,W:cM,x:null,X:null,y:hM,Y:dM,Z:gM,"%":cg},j={a:zt,A:Et,b:Xt,B:Wt,c:null,d:ug,e:ug,f:yM,g:IM,G:OM,H:_M,I:vM,j:xM,L:lg,m:wM,M:bM,p:xt,q:le,Q:hg,s:pg,S:SM,u:TM,U:AM,V:MM,w:CM,W:EM,x:null,X:null,y:NM,Y:LM,Z:RM,"%":cg},B={a:gt,A:X,b:yt,B:st,c:T,d:rg,e:rg,f:ZA,g:ng,G:eg,H:ig,I:ig,j:GA,L:VA,m:YA,M:XA,p:Ot,q:qA,Q:JA,s:QA,S:$A,u:BA,U:FA,V:UA,w:zA,W:WA,x:F,X:C,y:ng,Y:eg,Z:HA,"%":KA};O.x=K(i,O),O.X=K(o,O),O.c=K(n,O),j.x=K(i,j),j.X=K(o,j),j.c=K(n,j);function K(W,nt){return function(pt){var k=[],It=-1,St=0,kt=W.length,Jt,rt,Lt;for(pt instanceof Date||(pt=new Date(+pt));++It<kt;)W.charCodeAt(It)===37&&(k.push(W.slice(St,It)),(rt=tg[Jt=W.charAt(++It)])!=null?Jt=W.charAt(++It):rt=Jt==="e"?" ":"0",(Lt=nt[Jt])&&(Jt=Lt(pt,rt)),k.push(Jt),St=It+1);return k.push(W.slice(St,It)),k.join("")}}function ht(W,nt){return function(pt){var k=zi(1900,void 0,1),It=ft(k,W,pt+="",0),St,kt;if(It!=pt.length)return null;if("Q"in k)return new Date(k.Q);if("s"in k)return new Date(k.s*1e3+("L"in k?k.L:0));if(nt&&!("Z"in k)&&(k.Z=0),"p"in k&&(k.H=k.H%12+k.p*12),k.m===void 0&&(k.m="q"in k?k.q:0),"V"in k){if(k.V<1||k.V>53)return null;"w"in k||(k.w=1),"Z"in k?(St=Il(zi(k.y,0,1)),kt=St.getUTCDay(),St=kt>4||kt===0?Yr.ceil(St):Yr(St),St=ka.offset(St,(k.V-1)*7),k.y=St.getUTCFullYear(),k.m=St.getUTCMonth(),k.d=St.getUTCDate()+(k.w+6)%7):(St=Nl(zi(k.y,0,1)),kt=St.getDay(),St=kt>4||kt===0?qr.ceil(St):qr(St),St=Da.offset(St,(k.V-1)*7),k.y=St.getFullYear(),k.m=St.getMonth(),k.d=St.getDate()+(k.w+6)%7)}else("W"in k||"U"in k)&&("w"in k||(k.w="u"in k?k.u%7:"W"in k?1:0),kt="Z"in k?Il(zi(k.y,0,1)).getUTCDay():Nl(zi(k.y,0,1)).getDay(),k.m=0,k.d="W"in k?(k.w+6)%7+k.W*7-(kt+5)%7:k.w+k.U*7-(kt+6)%7);return"Z"in k?(k.H+=k.Z/100|0,k.M+=k.Z%100,Il(k)):Nl(k)}}function ft(W,nt,pt,k){for(var It=0,St=nt.length,kt=pt.length,Jt,rt;It<St;){if(k>=kt)return-1;if(Jt=nt.charCodeAt(It++),Jt===37){if(Jt=nt.charAt(It++),rt=B[Jt in tg?nt.charAt(It++):Jt],!rt||(k=rt(W,pt,k))<0)return-1}else if(Jt!=pt.charCodeAt(k++))return-1}return k}function Ot(W,nt,pt){var k=d.exec(nt.slice(pt));return k?(W.p=v.get(k[0].toLowerCase()),pt+k[0].length):-1}function gt(W,nt,pt){var k=A.exec(nt.slice(pt));return k?(W.w=z.get(k[0].toLowerCase()),pt+k[0].length):-1}function X(W,nt,pt){var k=w.exec(nt.slice(pt));return k?(W.w=x.get(k[0].toLowerCase()),pt+k[0].length):-1}function yt(W,nt,pt){var k=E.exec(nt.slice(pt));return k?(W.m=D.get(k[0].toLowerCase()),pt+k[0].length):-1}function st(W,nt,pt){var k=Y.exec(nt.slice(pt));return k?(W.m=I.get(k[0].toLowerCase()),pt+k[0].length):-1}function T(W,nt,pt){return ft(W,n,nt,pt)}function F(W,nt,pt){return ft(W,i,nt,pt)}function C(W,nt,pt){return ft(W,o,nt,pt)}function q(W){return l[W.getDay()]}function $(W){return u[W.getDay()]}function U(W){return p[W.getMonth()]}function Z(W){return c[W.getMonth()]}function Q(W){return s[+(W.getHours()>=12)]}function it(W){return 1+~~(W.getMonth()/3)}function zt(W){return l[W.getUTCDay()]}function Et(W){return u[W.getUTCDay()]}function Xt(W){return p[W.getUTCMonth()]}function Wt(W){return c[W.getUTCMonth()]}function xt(W){return s[+(W.getUTCHours()>=12)]}function le(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var nt=K(W+="",O);return nt.toString=function(){return W},nt},parse:function(W){var nt=ht(W+="",!1);return nt.toString=function(){return W},nt},utcFormat:function(W){var nt=K(W+="",j);return nt.toString=function(){return W},nt},utcParse:function(W){var nt=ht(W+="",!0);return nt.toString=function(){return W},nt}}}var tg={"-":"",_:" ","0":"0"},ee=/^\s*\d+/,kA=/^%/,PA=/[\\^$*+?|[\]().{}]/g;function wt(t,n,i){var o=t<0?"-":"",s=(o?-t:t)+"",u=s.length;return o+(u<i?new Array(i-u+1).join(n)+s:s)}function jA(t){return t.replace(PA,"\\$&")}function Bi(t){return new RegExp("^(?:"+t.map(jA).join("|")+")","i")}function Fi(t){return new Map(t.map((n,i)=>[n.toLowerCase(),i]))}function zA(t,n,i){var o=ee.exec(n.slice(i,i+1));return o?(t.w=+o[0],i+o[0].length):-1}function BA(t,n,i){var o=ee.exec(n.slice(i,i+1));return o?(t.u=+o[0],i+o[0].length):-1}function FA(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.U=+o[0],i+o[0].length):-1}function UA(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.V=+o[0],i+o[0].length):-1}function WA(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.W=+o[0],i+o[0].length):-1}function eg(t,n,i){var o=ee.exec(n.slice(i,i+4));return o?(t.y=+o[0],i+o[0].length):-1}function ng(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),i+o[0].length):-1}function HA(t,n,i){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(i,i+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),i+o[0].length):-1}function qA(t,n,i){var o=ee.exec(n.slice(i,i+1));return o?(t.q=o[0]*3-3,i+o[0].length):-1}function YA(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.m=o[0]-1,i+o[0].length):-1}function rg(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.d=+o[0],i+o[0].length):-1}function GA(t,n,i){var o=ee.exec(n.slice(i,i+3));return o?(t.m=0,t.d=+o[0],i+o[0].length):-1}function ig(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.H=+o[0],i+o[0].length):-1}function XA(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.M=+o[0],i+o[0].length):-1}function $A(t,n,i){var o=ee.exec(n.slice(i,i+2));return o?(t.S=+o[0],i+o[0].length):-1}function VA(t,n,i){var o=ee.exec(n.slice(i,i+3));return o?(t.L=+o[0],i+o[0].length):-1}function ZA(t,n,i){var o=ee.exec(n.slice(i,i+6));return o?(t.L=Math.floor(o[0]/1e3),i+o[0].length):-1}function KA(t,n,i){var o=kA.exec(n.slice(i,i+1));return o?i+o[0].length:-1}function JA(t,n,i){var o=ee.exec(n.slice(i));return o?(t.Q=+o[0],i+o[0].length):-1}function QA(t,n,i){var o=ee.exec(n.slice(i));return o?(t.s=+o[0],i+o[0].length):-1}function og(t,n){return wt(t.getDate(),n,2)}function tM(t,n){return wt(t.getHours(),n,2)}function eM(t,n){return wt(t.getHours()%12||12,n,2)}function nM(t,n){return wt(1+Da.count(pr(t),t),n,3)}function ag(t,n){return wt(t.getMilliseconds(),n,3)}function rM(t,n){return ag(t,n)+"000"}function iM(t,n){return wt(t.getMonth()+1,n,2)}function oM(t,n){return wt(t.getMinutes(),n,2)}function aM(t,n){return wt(t.getSeconds(),n,2)}function sM(t){var n=t.getDay();return n===0?7:n}function uM(t,n){return wt(Pi.count(pr(t)-1,t),n,2)}function sg(t){var n=t.getDay();return n>=4||n===0?Wn(t):Wn.ceil(t)}function lM(t,n){return t=sg(t),wt(Wn.count(pr(t),t)+(pr(t).getDay()===4),n,2)}function fM(t){return t.getDay()}function cM(t,n){return wt(qr.count(pr(t)-1,t),n,2)}function hM(t,n){return wt(t.getFullYear()%100,n,2)}function pM(t,n){return t=sg(t),wt(t.getFullYear()%100,n,2)}function dM(t,n){return wt(t.getFullYear()%1e4,n,4)}function mM(t,n){var i=t.getDay();return t=i>=4||i===0?Wn(t):Wn.ceil(t),wt(t.getFullYear()%1e4,n,4)}function gM(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+wt(n/60|0,"0",2)+wt(n%60,"0",2)}function ug(t,n){return wt(t.getUTCDate(),n,2)}function _M(t,n){return wt(t.getUTCHours(),n,2)}function vM(t,n){return wt(t.getUTCHours()%12||12,n,2)}function xM(t,n){return wt(1+ka.count(mr(t),t),n,3)}function lg(t,n){return wt(t.getUTCMilliseconds(),n,3)}function yM(t,n){return lg(t,n)+"000"}function wM(t,n){return wt(t.getUTCMonth()+1,n,2)}function bM(t,n){return wt(t.getUTCMinutes(),n,2)}function SM(t,n){return wt(t.getUTCSeconds(),n,2)}function TM(t){var n=t.getUTCDay();return n===0?7:n}function AM(t,n){return wt(ji.count(mr(t)-1,t),n,2)}function fg(t){var n=t.getUTCDay();return n>=4||n===0?Hn(t):Hn.ceil(t)}function MM(t,n){return t=fg(t),wt(Hn.count(mr(t),t)+(mr(t).getUTCDay()===4),n,2)}function CM(t){return t.getUTCDay()}function EM(t,n){return wt(Yr.count(mr(t)-1,t),n,2)}function NM(t,n){return wt(t.getUTCFullYear()%100,n,2)}function IM(t,n){return t=fg(t),wt(t.getUTCFullYear()%100,n,2)}function LM(t,n){return wt(t.getUTCFullYear()%1e4,n,4)}function OM(t,n){var i=t.getUTCDay();return t=i>=4||i===0?Hn(t):Hn.ceil(t),wt(t.getUTCFullYear()%1e4,n,4)}function RM(){return"+0000"}function cg(){return"%"}function hg(t){return+t}function pg(t){return Math.floor(+t/1e3)}var Gr,dg,Pa,mg,gg;Ol({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ol(t){return Gr=Ll(t),dg=Gr.format,Pa=Gr.parse,mg=Gr.utcFormat,gg=Gr.utcParse,Gr}function gr(t){return function(){return t}}var zP=Array.prototype.slice;function _g(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vg(t){this._context=t}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function xg(t){return new vg(t)}function yg(t){return t[0]}function wg(t){return t[1]}function Xr(t,n){var i=gr(!0),o=null,s=xg,u=null;t=typeof t=="function"?t:t===void 0?yg:gr(t),n=typeof n=="function"?n:n===void 0?wg:gr(n);function l(c){var p,d=(c=_g(c)).length,v,w=!1,x;for(o==null&&(u=s(x=cl())),p=0;p<=d;++p)!(p<d&&i(v=c[p],p,c))===w&&((w=!w)?u.lineStart():u.lineEnd()),w&&u.point(+t(v,p,c),+n(v,p,c));if(x)return u=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:gr(+c),l):t},l.y=function(c){return arguments.length?(n=typeof c=="function"?c:gr(+c),l):n},l.defined=function(c){return arguments.length?(i=typeof c=="function"?c:gr(!!c),l):i},l.curve=function(c){return arguments.length?(s=c,o!=null&&(u=s(o)),l):s},l.context=function(c){return arguments.length?(c==null?o=u=null:u=s(o=c),l):o},l}function bg(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function Sg(t){this._context=t}Sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bg(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function ja(t){return new Sg(t)}function Tg(t,n){this._context=t,this._t=n}Tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,n)}break}}this._x=t,this._y=n}};function Rl(t){return new Tg(t,0)}var Ui=t=>()=>t;function Dl(t,{sourceEvent:n,target:i,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function hn(t,n,i){this.k=t,this.x=n,this.y=i}hn.prototype={constructor:hn,scale:function(t){return t===1?this:new hn(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new hn(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wi=new hn(1,0,0);kl.prototype=hn.prototype;function kl(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Wi;return t.__zoom}function za(t){t.stopImmediatePropagation()}function $r(t){t.preventDefault(),t.stopImmediatePropagation()}function DM(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function kM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ag(){return this.__zoom||Wi}function PM(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function jM(){return navigator.maxTouchPoints||"ontouchstart"in this}function zM(t,n,i){var o=t.invertX(n[0][0])-i[0][0],s=t.invertX(n[1][0])-i[1][0],u=t.invertY(n[0][1])-i[0][1],l=t.invertY(n[1][1])-i[1][1];return t.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),l>u?(u+l)/2:Math.min(0,u)||Math.max(0,l))}function Pl(){var t=DM,n=kM,i=zM,o=PM,s=jM,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,p=Ku,d=ir("start","zoom","end"),v,w,x,A=500,z=150,Y=0,I=10;function E(T){T.property("__zoom",Ag).on("wheel.zoom",ft).on("mousedown.zoom",Ot).on("dblclick.zoom",gt).filter(s).on("touchstart.zoom",X).on("touchmove.zoom",yt).on("touchend.zoom touchcancel.zoom",st).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(T,F,C,q){var $=T.selection?T.selection():T;$.property("__zoom",Ag),T!==$?B(T,F,C,q):$.interrupt().each(function(){K(this,arguments).event(q).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},E.scaleBy=function(T,F,C,q){E.scaleTo(T,function(){var $=this.__zoom.k,U=typeof F=="function"?F.apply(this,arguments):F;return $*U},C,q)},E.scaleTo=function(T,F,C,q){E.transform(T,function(){var $=n.apply(this,arguments),U=this.__zoom,Z=C==null?j($):typeof C=="function"?C.apply(this,arguments):C,Q=U.invert(Z),it=typeof F=="function"?F.apply(this,arguments):F;return i(O(D(U,it),Z,Q),$,l)},C,q)},E.translateBy=function(T,F,C,q){E.transform(T,function(){return i(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof C=="function"?C.apply(this,arguments):C),n.apply(this,arguments),l)},null,q)},E.translateTo=function(T,F,C,q,$){E.transform(T,function(){var U=n.apply(this,arguments),Z=this.__zoom,Q=q==null?j(U):typeof q=="function"?q.apply(this,arguments):q;return i(Wi.translate(Q[0],Q[1]).scale(Z.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof C=="function"?-C.apply(this,arguments):-C),U,l)},q,$)};function D(T,F){return F=Math.max(u[0],Math.min(u[1],F)),F===T.k?T:new hn(F,T.x,T.y)}function O(T,F,C){var q=F[0]-C[0]*T.k,$=F[1]-C[1]*T.k;return q===T.x&&$===T.y?T:new hn(T.k,q,$)}function j(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function B(T,F,C,q){T.on("start.zoom",function(){K(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){K(this,arguments).event(q).end()}).tween("zoom",function(){var $=this,U=arguments,Z=K($,U).event(q),Q=n.apply($,U),it=C==null?j(Q):typeof C=="function"?C.apply($,U):C,zt=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),Et=$.__zoom,Xt=typeof F=="function"?F.apply($,U):F,Wt=p(Et.invert(it).concat(zt/Et.k),Xt.invert(it).concat(zt/Xt.k));return function(xt){if(xt===1)xt=Xt;else{var le=Wt(xt),W=zt/le[2];xt=new hn(W,it[0]-le[0]*W,it[1]-le[1]*W)}Z.zoom(null,xt)}})}function K(T,F,C){return!C&&T.__zooming||new ht(T,F)}function ht(T,F){this.that=T,this.args=F,this.active=0,this.sourceEvent=null,this.extent=n.apply(T,F),this.taps=0}ht.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,F){return this.mouse&&T!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var F=vt(this.that).datum();d.call(T,this.that,new Dl(T,{sourceEvent:this.sourceEvent,target:E,type:T,transform:this.that.__zoom,dispatch:d}),F)}};function ft(T,...F){if(!t.apply(this,arguments))return;var C=K(this,F).event(T),q=this.__zoom,$=Math.max(u[0],Math.min(u[1],q.k*Math.pow(2,o.apply(this,arguments)))),U=$e(T);if(C.wheel)(C.mouse[0][0]!==U[0]||C.mouse[0][1]!==U[1])&&(C.mouse[1]=q.invert(C.mouse[0]=U)),clearTimeout(C.wheel);else{if(q.k===$)return;C.mouse=[U,q.invert(U)],fn(this),C.start()}$r(T),C.wheel=setTimeout(Z,z),C.zoom("mouse",i(O(D(q,$),C.mouse[0],C.mouse[1]),C.extent,l));function Z(){C.wheel=null,C.end()}}function Ot(T,...F){if(x||!t.apply(this,arguments))return;var C=K(this,F,!0).event(T),q=vt(T.view).on("mousemove.zoom",it,!0).on("mouseup.zoom",zt,!0),$=$e(T,U),U=T.currentTarget,Z=T.clientX,Q=T.clientY;vi(T.view),za(T),C.mouse=[$,this.__zoom.invert($)],fn(this),C.start();function it(Et){if($r(Et),!C.moved){var Xt=Et.clientX-Z,Wt=Et.clientY-Q;C.moved=Xt*Xt+Wt*Wt>Y}C.event(Et).zoom("mouse",i(O(C.that.__zoom,C.mouse[0]=$e(Et,U),C.mouse[1]),C.extent,l))}function zt(Et){q.on("mousemove.zoom mouseup.zoom",null),xi(Et.view,C.moved),$r(Et),C.event(Et).end()}}function gt(T,...F){if(!!t.apply(this,arguments)){var C=this.__zoom,q=$e(T.changedTouches?T.changedTouches[0]:T,this),$=C.invert(q),U=C.k*(T.shiftKey?.5:2),Z=i(O(D(C,U),q,$),n.apply(this,F),l);$r(T),c>0?vt(this).transition().duration(c).call(B,Z,q,T):vt(this).call(E.transform,Z,q,T)}}function X(T,...F){if(!!t.apply(this,arguments)){var C=T.touches,q=C.length,$=K(this,F,T.changedTouches.length===q).event(T),U,Z,Q,it;for(za(T),Z=0;Z<q;++Z)Q=C[Z],it=$e(Q,this),it=[it,this.__zoom.invert(it),Q.identifier],$.touch0?!$.touch1&&$.touch0[2]!==it[2]&&($.touch1=it,$.taps=0):($.touch0=it,U=!0,$.taps=1+!!v);v&&(v=clearTimeout(v)),U&&($.taps<2&&(w=it[0],v=setTimeout(function(){v=null},A)),fn(this),$.start())}}function yt(T,...F){if(!!this.__zooming){var C=K(this,F).event(T),q=T.changedTouches,$=q.length,U,Z,Q,it;for($r(T),U=0;U<$;++U)Z=q[U],Q=$e(Z,this),C.touch0&&C.touch0[2]===Z.identifier?C.touch0[0]=Q:C.touch1&&C.touch1[2]===Z.identifier&&(C.touch1[0]=Q);if(Z=C.that.__zoom,C.touch1){var zt=C.touch0[0],Et=C.touch0[1],Xt=C.touch1[0],Wt=C.touch1[1],xt=(xt=Xt[0]-zt[0])*xt+(xt=Xt[1]-zt[1])*xt,le=(le=Wt[0]-Et[0])*le+(le=Wt[1]-Et[1])*le;Z=D(Z,Math.sqrt(xt/le)),Q=[(zt[0]+Xt[0])/2,(zt[1]+Xt[1])/2],it=[(Et[0]+Wt[0])/2,(Et[1]+Wt[1])/2]}else if(C.touch0)Q=C.touch0[0],it=C.touch0[1];else return;C.zoom("touch",i(O(Z,Q,it),C.extent,l))}}function st(T,...F){if(!!this.__zooming){var C=K(this,F).event(T),q=T.changedTouches,$=q.length,U,Z;for(za(T),x&&clearTimeout(x),x=setTimeout(function(){x=null},A),U=0;U<$;++U)Z=q[U],C.touch0&&C.touch0[2]===Z.identifier?delete C.touch0:C.touch1&&C.touch1[2]===Z.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(Z=$e(Z,this),Math.hypot(w[0]-Z[0],w[1]-Z[1])<I)){var Q=vt(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return E.wheelDelta=function(T){return arguments.length?(o=typeof T=="function"?T:Ui(+T),E):o},E.filter=function(T){return arguments.length?(t=typeof T=="function"?T:Ui(!!T),E):t},E.touchable=function(T){return arguments.length?(s=typeof T=="function"?T:Ui(!!T),E):s},E.extent=function(T){return arguments.length?(n=typeof T=="function"?T:Ui([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),E):n},E.scaleExtent=function(T){return arguments.length?(u[0]=+T[0],u[1]=+T[1],E):[u[0],u[1]]},E.translateExtent=function(T){return arguments.length?(l[0][0]=+T[0][0],l[1][0]=+T[1][0],l[0][1]=+T[0][1],l[1][1]=+T[1][1],E):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},E.constrain=function(T){return arguments.length?(i=T,E):i},E.duration=function(T){return arguments.length?(c=+T,E):c},E.interpolate=function(T){return arguments.length?(p=T,E):p},E.on=function(){var T=d.on.apply(d,arguments);return T===d?E:T},E.clickDistance=function(T){return arguments.length?(Y=(T=+T)*T,E):Math.sqrt(Y)},E.tapDistance=function(T){return arguments.length?(I=+T,E):I},E}var Mg="1.13.6",Cg=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Ba=Array.prototype,jl=Object.prototype,Eg=typeof Symbol!="undefined"?Symbol.prototype:null,BM=Ba.push,Hi=Ba.slice,qi=jl.toString,FM=jl.hasOwnProperty,Ng=typeof ArrayBuffer!="undefined",UM=typeof DataView!="undefined",WM=Array.isArray,Ig=Object.keys,Lg=Object.create,Og=Ng&&ArrayBuffer.isView,HM=isNaN,qM=isFinite,Rg=!{toString:null}.propertyIsEnumerable("toString"),Dg=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],YM=Math.pow(2,53)-1;function Me(t,n){return n=n==null?t.length-1:+n,function(){for(var i=Math.max(arguments.length-n,0),o=Array(i),s=0;s<i;s++)o[s]=arguments[s+n];switch(n){case 0:return t.call(this,o);case 1:return t.call(this,arguments[0],o);case 2:return t.call(this,arguments[0],arguments[1],o)}var u=Array(n+1);for(s=0;s<n;s++)u[s]=arguments[s];return u[n]=o,t.apply(this,u)}}function _r(t){var n=typeof t;return n==="function"||n==="object"&&!!t}function kg(t){return t===null}function Pe(t){return t===void 0}function Pg(t){return t===!0||t===!1||qi.call(t)==="[object Boolean]"}function GM(t){return!!(t&&t.nodeType===1)}function ge(t){var n="[object "+t+"]";return function(i){return qi.call(i)===n}}var vr=ge("String"),Yi=ge("Number"),XM=ge("Date"),$M=ge("RegExp"),VM=ge("Error"),jg=ge("Symbol"),zg=ge("ArrayBuffer"),Bg=ge("Function"),ZM=Cg.document&&Cg.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof ZM!="function"&&(Bg=function(t){return typeof t=="function"||!1});var se=Bg,Fg=ge("Object"),Ug=UM&&Fg(new DataView(new ArrayBuffer(8))),zl=typeof Map!="undefined"&&Fg(new Map),KM=ge("DataView");function JM(t){return t!=null&&se(t.getInt8)&&zg(t.buffer)}var Fa=Ug?JM:KM,xr=WM||ge("Array");function qn(t,n){return t!=null&&FM.call(t,n)}var Bl=ge("Arguments");(function(){Bl(arguments)||(Bl=function(t){return qn(t,"callee")})})();var Fl=Bl;function QM(t){return!jg(t)&&qM(t)&&!isNaN(parseFloat(t))}function Wg(t){return Yi(t)&&HM(t)}function Hg(t){return function(){return t}}function qg(t){return function(n){var i=t(n);return typeof i=="number"&&i>=0&&i<=YM}}function Yg(t){return function(n){return n==null?void 0:n[t]}}var Ua=Yg("byteLength"),t3=qg(Ua),e3=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function n3(t){return Og?Og(t)&&!Fa(t):t3(t)&&e3.test(qi.call(t))}var Gg=Ng?n3:Hg(!1),Ce=Yg("length");function r3(t){for(var n={},i=t.length,o=0;o<i;++o)n[t[o]]=!0;return{contains:function(s){return n[s]===!0},push:function(s){return n[s]=!0,t.push(s)}}}function Xg(t,n){n=r3(n);var i=Dg.length,o=t.constructor,s=se(o)&&o.prototype||jl,u="constructor";for(qn(t,u)&&!n.contains(u)&&n.push(u);i--;)u=Dg[i],u in t&&t[u]!==s[u]&&!n.contains(u)&&n.push(u)}function qt(t){if(!_r(t))return[];if(Ig)return Ig(t);var n=[];for(var i in t)qn(t,i)&&n.push(i);return Rg&&Xg(t,n),n}function i3(t){if(t==null)return!0;var n=Ce(t);return typeof n=="number"&&(xr(t)||vr(t)||Fl(t))?n===0:Ce(qt(t))===0}function $g(t,n){var i=qt(n),o=i.length;if(t==null)return!o;for(var s=Object(t),u=0;u<o;u++){var l=i[u];if(n[l]!==s[l]||!(l in s))return!1}return!0}function Ct(t){if(t instanceof Ct)return t;if(!(this instanceof Ct))return new Ct(t);this._wrapped=t}Ct.VERSION=Mg;Ct.prototype.value=function(){return this._wrapped};Ct.prototype.valueOf=Ct.prototype.toJSON=Ct.prototype.value;Ct.prototype.toString=function(){return String(this._wrapped)};function Vg(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Ua(t))}var Zg="[object DataView]";function Ul(t,n,i,o){if(t===n)return t!==0||1/t==1/n;if(t==null||n==null)return!1;if(t!==t)return n!==n;var s=typeof t;return s!=="function"&&s!=="object"&&typeof n!="object"?!1:Kg(t,n,i,o)}function Kg(t,n,i,o){t instanceof Ct&&(t=t._wrapped),n instanceof Ct&&(n=n._wrapped);var s=qi.call(t);if(s!==qi.call(n))return!1;if(Ug&&s=="[object Object]"&&Fa(t)){if(!Fa(n))return!1;s=Zg}switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:+t==0?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return Eg.valueOf.call(t)===Eg.valueOf.call(n);case"[object ArrayBuffer]":case Zg:return Kg(Vg(t),Vg(n),i,o)}var u=s==="[object Array]";if(!u&&Gg(t)){var l=Ua(t);if(l!==Ua(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;u=!0}if(!u){if(typeof t!="object"||typeof n!="object")return!1;var c=t.constructor,p=n.constructor;if(c!==p&&!(se(c)&&c instanceof c&&se(p)&&p instanceof p)&&"constructor"in t&&"constructor"in n)return!1}i=i||[],o=o||[];for(var d=i.length;d--;)if(i[d]===t)return o[d]===n;if(i.push(t),o.push(n),u){if(d=t.length,d!==n.length)return!1;for(;d--;)if(!Ul(t[d],n[d],i,o))return!1}else{var v=qt(t),w;if(d=v.length,qt(n).length!==d)return!1;for(;d--;)if(w=v[d],!(qn(n,w)&&Ul(t[w],n[w],i,o)))return!1}return i.pop(),o.pop(),!0}function o3(t,n){return Ul(t,n)}function Gi(t){if(!_r(t))return[];var n=[];for(var i in t)n.push(i);return Rg&&Xg(t,n),n}function Wl(t){var n=Ce(t);return function(i){if(i==null)return!1;var o=Gi(i);if(Ce(o))return!1;for(var s=0;s<n;s++)if(!se(i[t[s]]))return!1;return t!==t_||!se(i[Hl])}}var Hl="forEach",Jg="has",ql=["clear","delete"],Qg=["get",Jg,"set"],a3=ql.concat(Hl,Qg),t_=ql.concat(Qg),s3=["add"].concat(ql,Hl,Jg),u3=zl?Wl(a3):ge("Map"),l3=zl?Wl(t_):ge("WeakMap"),f3=zl?Wl(s3):ge("Set"),c3=ge("WeakSet");function Yn(t){for(var n=qt(t),i=n.length,o=Array(i),s=0;s<i;s++)o[s]=t[n[s]];return o}function h3(t){for(var n=qt(t),i=n.length,o=Array(i),s=0;s<i;s++)o[s]=[n[s],t[n[s]]];return o}function e_(t){for(var n={},i=qt(t),o=0,s=i.length;o<s;o++)n[t[i[o]]]=i[o];return n}function Yl(t){var n=[];for(var i in t)se(t[i])&&n.push(i);return n.sort()}function Gl(t,n){return function(i){var o=arguments.length;if(n&&(i=Object(i)),o<2||i==null)return i;for(var s=1;s<o;s++)for(var u=arguments[s],l=t(u),c=l.length,p=0;p<c;p++){var d=l[p];(!n||i[d]===void 0)&&(i[d]=u[d])}return i}}var je=Gl(Gi),Vr=Gl(qt),Wa=Gl(Gi,!0);function p3(){return function(){}}function n_(t){if(!_r(t))return{};if(Lg)return Lg(t);var n=p3();n.prototype=t;var i=new n;return n.prototype=null,i}function d3(t,n){var i=n_(t);return n&&Vr(i,n),i}function Xl(t){return _r(t)?xr(t)?t.slice():je({},t):t}function m3(t,n){return n(t),t}function r_(t){return xr(t)?t:[t]}Ct.toPath=r_;function Xi(t){return Ct.toPath(t)}function $l(t,n){for(var i=n.length,o=0;o<i;o++){if(t==null)return;t=t[n[o]]}return i?t:void 0}function i_(t,n,i){var o=$l(t,Xi(n));return Pe(o)?i:o}function $i(t,n){n=Xi(n);for(var i=n.length,o=0;o<i;o++){var s=n[o];if(!qn(t,s))return!1;t=t[s]}return!!i}function Vl(t){return t}function Vi(t){return t=Vr({},t),function(n){return $g(n,t)}}function Zl(t){return t=Xi(t),function(n){return $l(n,t)}}function Zi(t,n,i){if(n===void 0)return t;switch(i==null?3:i){case 1:return function(o){return t.call(n,o)};case 3:return function(o,s,u){return t.call(n,o,s,u)};case 4:return function(o,s,u,l){return t.call(n,o,s,u,l)}}return function(){return t.apply(n,arguments)}}function o_(t,n,i){return t==null?Vl:se(t)?Zi(t,n,i):_r(t)&&!xr(t)?Vi(t):Zl(t)}function Kl(t,n){return o_(t,n,1/0)}Ct.iteratee=Kl;function Ee(t,n,i){return Ct.iteratee!==Kl?Ct.iteratee(t,n):o_(t,n,i)}function Jl(t,n,i){n=Ee(n,i);for(var o=qt(t),s=o.length,u={},l=0;l<s;l++){var c=o[l];u[c]=n(t[c],c,t)}return u}function Gn(){}function g3(t){return t==null?Gn:function(n){return i_(t,n)}}function _3(t,n,i){var o=Array(Math.max(0,t));n=Zi(n,i,1);for(var s=0;s<t;s++)o[s]=n(s);return o}function Ql(t,n){return n==null&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))}var Ki=Date.now||function(){return new Date().getTime()};function a_(t){var n=function(u){return t[u]},i="(?:"+qt(t).join("|")+")",o=RegExp(i),s=RegExp(i,"g");return function(u){return u=u==null?"":""+u,o.test(u)?u.replace(s,n):u}}var s_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},v3=a_(s_),x3=e_(s_),y3=a_(x3),w3=Ct.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},tf=/(.)^/,b3={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},S3=/\\|'|\r|\n|\u2028|\u2029/g;function T3(t){return"\\"+b3[t]}var A3=/^\s*(\w|\$)+\s*$/;function M3(t,n,i){!n&&i&&(n=i),n=Wa({},n,Ct.templateSettings);var o=RegExp([(n.escape||tf).source,(n.interpolate||tf).source,(n.evaluate||tf).source].join("|")+"|$","g"),s=0,u="__p+='";t.replace(o,function(d,v,w,x,A){return u+=t.slice(s,A).replace(S3,T3),s=A+d.length,v?u+=`'+
((__t=(`+v+`))==null?'':_.escape(__t))+
'`:w?u+=`'+
((__t=(`+w+`))==null?'':__t)+
'`:x&&(u+=`';
`+x+`
__p+='`),d}),u+=`';
`;var l=n.variable;if(l){if(!A3.test(l))throw new Error("variable is not a bare identifier: "+l)}else u=`with(obj||{}){
`+u+`}
`,l="obj";u=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+u+`return __p;
`;var c;try{c=new Function(l,"_",u)}catch(d){throw d.source=u,d}var p=function(d){return c.call(this,d,Ct)};return p.source="function("+l+`){
`+u+"}",p}function C3(t,n,i){n=Xi(n);var o=n.length;if(!o)return se(i)?i.call(t):i;for(var s=0;s<o;s++){var u=t==null?void 0:t[n[s]];u===void 0&&(u=i,s=o),t=se(u)?u.call(t):u}return t}var E3=0;function N3(t){var n=++E3+"";return t?t+n:n}function I3(t){var n=Ct(t);return n._chain=!0,n}function u_(t,n,i,o,s){if(!(o instanceof n))return t.apply(i,s);var u=n_(t.prototype),l=t.apply(u,s);return _r(l)?l:u}var ze=Me(function(t,n){var i=ze.placeholder,o=function(){for(var s=0,u=n.length,l=Array(u),c=0;c<u;c++)l[c]=n[c]===i?arguments[s++]:n[c];for(;s<arguments.length;)l.push(arguments[s++]);return u_(t,o,this,this,l)};return o});ze.placeholder=Ct;var l_=Me(function(t,n,i){if(!se(t))throw new TypeError("Bind must be called on a function");var o=Me(function(s){return u_(t,o,n,this,i.concat(s))});return o}),Be=qg(Ce);function yr(t,n,i,o){if(o=o||[],!n&&n!==0)n=1/0;else if(n<=0)return o.concat(t);for(var s=o.length,u=0,l=Ce(t);u<l;u++){var c=t[u];if(Be(c)&&(xr(c)||Fl(c)))if(n>1)yr(c,n-1,i,o),s=o.length;else for(var p=0,d=c.length;p<d;)o[s++]=c[p++];else i||(o[s++]=c)}return o}var L3=Me(function(t,n){n=yr(n,!1,!1);var i=n.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var o=n[i];t[o]=l_(t[o],t)}return t});function O3(t,n){var i=function(o){var s=i.cache,u=""+(n?n.apply(this,arguments):o);return qn(s,u)||(s[u]=t.apply(this,arguments)),s[u]};return i.cache={},i}var f_=Me(function(t,n,i){return setTimeout(function(){return t.apply(null,i)},n)}),R3=ze(f_,Ct,1);function D3(t,n,i){var o,s,u,l,c=0;i||(i={});var p=function(){c=i.leading===!1?0:Ki(),o=null,l=t.apply(s,u),o||(s=u=null)},d=function(){var v=Ki();!c&&i.leading===!1&&(c=v);var w=n-(v-c);return s=this,u=arguments,w<=0||w>n?(o&&(clearTimeout(o),o=null),c=v,l=t.apply(s,u),o||(s=u=null)):!o&&i.trailing!==!1&&(o=setTimeout(p,w)),l};return d.cancel=function(){clearTimeout(o),c=0,o=s=u=null},d}function k3(t,n,i){var o,s,u,l,c,p=function(){var v=Ki()-s;n>v?o=setTimeout(p,n-v):(o=null,i||(l=t.apply(c,u)),o||(u=c=null))},d=Me(function(v){return c=this,u=v,s=Ki(),o||(o=setTimeout(p,n),i&&(l=t.apply(c,u))),l});return d.cancel=function(){clearTimeout(o),o=u=c=null},d}function P3(t,n){return ze(n,t)}function ef(t){return function(){return!t.apply(this,arguments)}}function j3(){var t=arguments,n=t.length-1;return function(){for(var i=n,o=t[n].apply(this,arguments);i--;)o=t[i].call(this,o);return o}}function z3(t,n){return function(){if(--t<1)return n.apply(this,arguments)}}function c_(t,n){var i;return function(){return--t>0&&(i=n.apply(this,arguments)),t<=1&&(n=null),i}}var B3=ze(c_,2);function h_(t,n,i){n=Ee(n,i);for(var o=qt(t),s,u=0,l=o.length;u<l;u++)if(s=o[u],n(t[s],s,t))return s}function p_(t){return function(n,i,o){i=Ee(i,o);for(var s=Ce(n),u=t>0?0:s-1;u>=0&&u<s;u+=t)if(i(n[u],u,n))return u;return-1}}var nf=p_(1),d_=p_(-1);function m_(t,n,i,o){i=Ee(i,o,1);for(var s=i(n),u=0,l=Ce(t);u<l;){var c=Math.floor((u+l)/2);i(t[c])<s?u=c+1:l=c}return u}function g_(t,n,i){return function(o,s,u){var l=0,c=Ce(o);if(typeof u=="number")t>0?l=u>=0?u:Math.max(u+c,l):c=u>=0?Math.min(u+1,c):u+c+1;else if(i&&u&&c)return u=i(o,s),o[u]===s?u:-1;if(s!==s)return u=n(Hi.call(o,l,c),Wg),u>=0?u+l:-1;for(u=t>0?l:c-1;u>=0&&u<c;u+=t)if(o[u]===s)return u;return-1}}var __=g_(1,nf,m_),F3=g_(-1,d_);function rf(t,n,i){var o=Be(t)?nf:h_,s=o(t,n,i);if(s!==void 0&&s!==-1)return t[s]}function U3(t,n){return rf(t,Vi(n))}function Ut(t,n,i){n=Zi(n,i);var o,s;if(Be(t))for(o=0,s=t.length;o<s;o++)n(t[o],o,t);else{var u=qt(t);for(o=0,s=u.length;o<s;o++)n(t[u[o]],u[o],t)}return t}function $t(t,n,i){n=Ee(n,i);for(var o=!Be(t)&&qt(t),s=(o||t).length,u=Array(s),l=0;l<s;l++){var c=o?o[l]:l;u[l]=n(t[c],c,t)}return u}function v_(t){var n=function(i,o,s,u){var l=!Be(i)&&qt(i),c=(l||i).length,p=t>0?0:c-1;for(u||(s=i[l?l[p]:p],p+=t);p>=0&&p<c;p+=t){var d=l?l[p]:p;s=o(s,i[d],d,i)}return s};return function(i,o,s,u){var l=arguments.length>=3;return n(i,Zi(o,u,4),s,l)}}var Zr=v_(1),x_=v_(-1);function ye(t,n,i){var o=[];return n=Ee(n,i),Ut(t,function(s,u,l){n(s,u,l)&&o.push(s)}),o}function of(t,n,i){return ye(t,ef(Ee(n)),i)}function Ha(t,n,i){n=Ee(n,i);for(var o=!Be(t)&&qt(t),s=(o||t).length,u=0;u<s;u++){var l=o?o[u]:u;if(!n(t[l],l,t))return!1}return!0}function Ji(t,n,i){n=Ee(n,i);for(var o=!Be(t)&&qt(t),s=(o||t).length,u=0;u<s;u++){var l=o?o[u]:u;if(n(t[l],l,t))return!0}return!1}function nn(t,n,i,o){return Be(t)||(t=Yn(t)),(typeof i!="number"||o)&&(i=0),__(t,n,i)>=0}var W3=Me(function(t,n,i){var o,s;return se(n)?s=n:(n=Xi(n),o=n.slice(0,-1),n=n[n.length-1]),$t(t,function(u){var l=s;if(!l){if(o&&o.length&&(u=$l(u,o)),u==null)return;l=u[n]}return l==null?l:l.apply(u,i)})});function Qi(t,n){return $t(t,Zl(n))}function H3(t,n){return ye(t,Vi(n))}function qa(t,n,i){var o=-1/0,s=-1/0,u,l;if(n==null||typeof n=="number"&&typeof t[0]!="object"&&t!=null){t=Be(t)?t:Yn(t);for(var c=0,p=t.length;c<p;c++)u=t[c],u!=null&&u>o&&(o=u)}else n=Ee(n,i),Ut(t,function(d,v,w){l=n(d,v,w),(l>s||l===-1/0&&o===-1/0)&&(o=d,s=l)});return o}function af(t,n,i){var o=1/0,s=1/0,u,l;if(n==null||typeof n=="number"&&typeof t[0]!="object"&&t!=null){t=Be(t)?t:Yn(t);for(var c=0,p=t.length;c<p;c++)u=t[c],u!=null&&u<o&&(o=u)}else n=Ee(n,i),Ut(t,function(d,v,w){l=n(d,v,w),(l<s||l===1/0&&o===1/0)&&(o=d,s=l)});return o}var q3=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function y_(t){return t?xr(t)?Hi.call(t):vr(t)?t.match(q3):Be(t)?$t(t,Vl):Yn(t):[]}function w_(t,n,i){if(n==null||i)return Be(t)||(t=Yn(t)),t[Ql(t.length-1)];var o=y_(t),s=Ce(o);n=Math.max(Math.min(n,s),0);for(var u=s-1,l=0;l<n;l++){var c=Ql(l,u),p=o[l];o[l]=o[c],o[c]=p}return o.slice(0,n)}function Y3(t){return w_(t,1/0)}function sf(t,n,i){var o=0;return n=Ee(n,i),Qi($t(t,function(s,u,l){return{value:s,index:o++,criteria:n(s,u,l)}}).sort(function(s,u){var l=s.criteria,c=u.criteria;if(l!==c){if(l>c||l===void 0)return 1;if(l<c||c===void 0)return-1}return s.index-u.index}),"value")}function Ya(t,n){return function(i,o,s){var u=n?[[],[]]:{};return o=Ee(o,s),Ut(i,function(l,c){var p=o(l,c,i);t(u,l,p)}),u}}var G3=Ya(function(t,n,i){qn(t,i)?t[i].push(n):t[i]=[n]}),X3=Ya(function(t,n,i){t[i]=n}),$3=Ya(function(t,n,i){qn(t,i)?t[i]++:t[i]=1}),V3=Ya(function(t,n,i){t[i?0:1].push(n)},!0);function Z3(t){return t==null?0:Be(t)?t.length:qt(t).length}function K3(t,n,i){return n in i}var Ga=Me(function(t,n){var i={},o=n[0];if(t==null)return i;se(o)?(n.length>1&&(o=Zi(o,n[1])),n=Gi(t)):(o=K3,n=yr(n,!1,!1),t=Object(t));for(var s=0,u=n.length;s<u;s++){var l=n[s],c=t[l];o(c,l,t)&&(i[l]=c)}return i}),J3=Me(function(t,n){var i=n[0],o;return se(i)?(i=ef(i),n.length>1&&(o=n[1])):(n=$t(yr(n,!1,!1),String),i=function(s,u){return!nn(n,u)}),Ga(t,i,o)});function b_(t,n,i){return Hi.call(t,0,Math.max(0,t.length-(n==null||i?1:n)))}function uf(t,n,i){return t==null||t.length<1?n==null||i?void 0:[]:n==null||i?t[0]:b_(t,t.length-n)}function Xn(t,n,i){return Hi.call(t,n==null||i?1:n)}function Q3(t,n,i){return t==null||t.length<1?n==null||i?void 0:[]:n==null||i?t[t.length-1]:Xn(t,Math.max(0,t.length-n))}function lf(t){return ye(t,Boolean)}function tC(t,n){return yr(t,n,!1)}var S_=Me(function(t,n){return n=yr(n,!0,!0),ye(t,function(i){return!nn(n,i)})}),eC=Me(function(t,n){return S_(t,n)});function ff(t,n,i,o){Pg(n)||(o=i,i=n,n=!1),i!=null&&(i=Ee(i,o));for(var s=[],u=[],l=0,c=Ce(t);l<c;l++){var p=t[l],d=i?i(p,l,t):p;n&&!i?((!l||u!==d)&&s.push(p),u=d):i?nn(u,d)||(u.push(d),s.push(p)):nn(s,p)||s.push(p)}return s}var cf=Me(function(t){return ff(yr(t,!0,!0))});function hf(t){for(var n=[],i=arguments.length,o=0,s=Ce(t);o<s;o++){var u=t[o];if(!nn(n,u)){var l;for(l=1;l<i&&nn(arguments[l],u);l++);l===i&&n.push(u)}}return n}function pf(t){for(var n=t&&qa(t,Ce).length||0,i=Array(n),o=0;o<n;o++)i[o]=Qi(t,o);return i}var nC=Me(pf);function to(t,n){for(var i={},o=0,s=Ce(t);o<s;o++)n?i[t[o]]=n[o]:i[t[o][0]]=t[o][1];return i}function rC(t,n,i){n==null&&(n=t||0,t=0),i||(i=n<t?-1:1);for(var o=Math.max(Math.ceil((n-t)/i),0),s=Array(o),u=0;u<o;u++,t+=i)s[u]=t;return s}function iC(t,n){if(n==null||n<1)return[];for(var i=[],o=0,s=t.length;o<s;)i.push(Hi.call(t,o,o+=n));return i}function df(t,n){return t._chain?Ct(n).chain():n}function T_(t){return Ut(Yl(t),function(n){var i=Ct[n]=t[n];Ct.prototype[n]=function(){var o=[this._wrapped];return BM.apply(o,arguments),df(this,i.apply(Ct,o))}}),Ct}Ut(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=Ba[t];Ct.prototype[t]=function(){var i=this._wrapped;return i!=null&&(n.apply(i,arguments),(t==="shift"||t==="splice")&&i.length===0&&delete i[0]),df(this,i)}});Ut(["concat","join","slice"],function(t){var n=Ba[t];Ct.prototype[t]=function(){var i=this._wrapped;return i!=null&&(i=n.apply(i,arguments)),df(this,i)}});var oC={__proto__:null,VERSION:Mg,restArguments:Me,isObject:_r,isNull:kg,isUndefined:Pe,isBoolean:Pg,isElement:GM,isString:vr,isNumber:Yi,isDate:XM,isRegExp:$M,isError:VM,isSymbol:jg,isArrayBuffer:zg,isDataView:Fa,isArray:xr,isFunction:se,isArguments:Fl,isFinite:QM,isNaN:Wg,isTypedArray:Gg,isEmpty:i3,isMatch:$g,isEqual:o3,isMap:u3,isWeakMap:l3,isSet:f3,isWeakSet:c3,keys:qt,allKeys:Gi,values:Yn,pairs:h3,invert:e_,functions:Yl,methods:Yl,extend:je,extendOwn:Vr,assign:Vr,defaults:Wa,create:d3,clone:Xl,tap:m3,get:i_,has:$i,mapObject:Jl,identity:Vl,constant:Hg,noop:Gn,toPath:r_,property:Zl,propertyOf:g3,matcher:Vi,matches:Vi,times:_3,random:Ql,now:Ki,escape:v3,unescape:y3,templateSettings:w3,template:M3,result:C3,uniqueId:N3,chain:I3,iteratee:Kl,partial:ze,bind:l_,bindAll:L3,memoize:O3,delay:f_,defer:R3,throttle:D3,debounce:k3,wrap:P3,negate:ef,compose:j3,after:z3,before:c_,once:B3,findKey:h_,findIndex:nf,findLastIndex:d_,sortedIndex:m_,indexOf:__,lastIndexOf:F3,find:rf,detect:rf,findWhere:U3,each:Ut,forEach:Ut,map:$t,collect:$t,reduce:Zr,foldl:Zr,inject:Zr,reduceRight:x_,foldr:x_,filter:ye,select:ye,reject:of,every:Ha,all:Ha,some:Ji,any:Ji,contains:nn,includes:nn,include:nn,invoke:W3,pluck:Qi,where:H3,max:qa,min:af,shuffle:Y3,sample:w_,sortBy:sf,groupBy:G3,indexBy:X3,countBy:$3,partition:V3,toArray:y_,size:Z3,pick:Ga,omit:J3,first:uf,head:uf,take:uf,initial:b_,last:Q3,rest:Xn,tail:Xn,drop:Xn,compact:lf,flatten:tC,without:eC,uniq:ff,unique:ff,union:cf,intersection:hf,difference:S_,unzip:pf,transpose:pf,zip:nC,object:to,range:rC,chunk:iC,mixin:T_,default:Ct},A_=T_(oC);A_._=A_;var aC=function(t,n){var i;return parseString(t,function(o,s){i=s["nex:nexml"].trees[0].tree.map(function(u){var l=u.node.map(w=>w.$),c=l.reduce(function(w,x){return x.edges=[],x.name=x.id,w[x.id]=x,w},{}),p=l.filter(w=>w.root),d=p>0?p[0].id:l[0].id;c[d].name="root",u.edge.map(w=>w.$).forEach(function(w){c[w.source].edges.push(w)});function v(w,x){if(w.edges){var A=Qi(w.edges,"target");w.children=Yn(Ga(c,A)),w.children.forEach(function(z,Y){z.attribute=w.edges[Y].length||""}),w.children.forEach(v),w.annotation=""}}return v(c[d]),c[d]})}),i},M_=aC;var mf={};sn(mf,{addChild:()=>uC,assignAttributes:()=>gC,clearInternalNodes:()=>vC,createNode:()=>lC,deleteANode:()=>fC,getInternals:()=>hC,getNodeByName:()=>mC,getNodes:()=>dC,getRootNode:()=>pC,getTips:()=>cC,graftANode:()=>sC,isLeafNode:()=>bt,selectAllDescendants:()=>C_,updateKeyName:()=>_C});function sC(t,n,i,o){let s=this.nodes.descendants();if(t.parent&&s.indexOf(t)>=0){let l=t.parent.children.indexOf(t),c={name:i,parent:t.parent,attribute:o?o[2]:null,original_child_order:t.original_child_order},p={name:n,parent:c,attribute:o?o[1]:null,original_child_order:2};c.children=[t,p],t.parent.children[l]=c,t.parent=c,t.attribute=o?o[0]:null,t.original_child_order=1}return this}function uC(t,n){return t.children?t.children.push(n):t.children=[n],t}function lC(t,n){return{data:{name:t,attribute:n?n[1]:null},parent:""}}function fC(t){let n=this.nodes.descendants();if(typeof t!="number")return this.deleteANode(n.indexOf(t));if(t>0&&t<n.length){let i=n[t];if(i.parent){let o=i.parent.children.indexOf(i);o>=0&&(n.splice(t,1),i.children&&i.children.forEach(function(s){s.original_child_order=i.parent.children.length,i.parent.children.push(s),s.parent=i.parent}),i.parent.children.length>2?i.parent.children.splice(o,1):i.parent.parent?(i.parent.parent.children[i.parent.parent.children.indexOf(i.parent)]=i.parent.children[1-o],i.parent.children[1-o].parent=i.parent.parent,n.splice(n.indexOf(i.parent),1)):(n.splice(0,1),n.parent=null,delete n.data.attribute,delete n.data.annotation,delete n.data.original_child_order,n.name="root",n.data.name="root"))}}return this}function cC(){return ye(this.nodes.descendants(),t=>!$i(t,"children"))}function hC(){return ye(this.nodes.descendants(),t=>$i(t,"children"))}function pC(){return this.nodes}function dC(){return this.nodes}function mC(t){return ye(this.nodes.descendants(),n=>n.data.name==t)[0]}function gC(t){Ut(this.nodes.descendants(),function(n){n.data&&n.data.name in t&&(n.annotations=t[n.data.name])})}function bt(t){return!$i(t,"children")}function _C(t,n){return this.nodes.each(function(i){t in i&&(n&&(i[n]=i[t]),delete i[t])}),this}function vC(t){t||this.nodes.each(n=>{bt(n)||(n[this.selection_attribute_name]=!1,n.data.traits||(n.data.traits={}),n.data.traits[this.selection_attribute_name]=n[this.selection_attribute_name])})}function C_(t,n,i){let o=[];function s(u){bt(u)?n&&u!=t&&o.push(u):(i&&u!=t&&o.push(u),u.children.forEach(s))}return s(t),o}function xC(t,n={}){let i=!0,o=/^-?\d+(\.\d+)?$/,s=n.left_delimiter||"{",u=n.right_delimiter||"}",l=[];function c(){let j={name:null},B=l[l.length-1];"children"in B||(B.children=[]),l.push(j),B.children.push(l[l.length-1]),l[l.length-1].original_child_order=B.children.length}function p(){let j=l.pop();j.name=w,i&&"children"in j?j.bootstrap_values=w:j.name=w,j.attribute=x,s=="["&&A.includes("&&NHX")?A.split(":").slice(1).forEach(B=>{let[K,ht]=B.split("=");j[K]=o.test(ht)?+ht:ht}):j.annotation=A,w="",x="",A=""}function d(j){return{json:null,error:"Unexpected '"+t[j]+"' in '"+t.substring(j-20,j+1)+"[ERROR HERE]"+t.substring(j+1,j+20)+"'"}}let v=0,w="",x="",A="",z=null,Y={"'":1,'"':1},I={name:"root"};l.push(I);for(var E=/\s/,D=0;D<t.length;D++)try{var O=t[D];switch(v){case 0:{O=="("&&(c(),v=1);break}case 1:case 3:{if(O==":")v=3;else if(O==","||O==")")try{p(),v=1,O==","&&c()}catch(j){return d(D)}else if(O=="("){if(w.length>0)return d(D);c()}else if(O in Y){if(v==1&&w.length===0&&x.length===0&&A.length===0){v=2,z=O;continue}return d(D)}else if(O==s){if(A.length)return d(D);v=4}else if(v==3)x+=O;else{if(E.test(O))continue;if(O==";"){D=t.length;break}w+=O}break}case 2:{if(O==z){if(D<t.length-1&&t[D+1]==z){D++,w+=z;continue}z=0,v=1;continue}else w+=O;break}case 4:{if(O==u)v=3;else{if(O==s)return d(D);A+=O}break}}}catch(j){return d(D)}return l.length!=1?d(t.length-1):{json:I,error:null}}function gf(t,n){let i=this;t||(t=u=>"");function o(u){if(u.notshown)return;if(bt(u)||(s.push("("),u.children.forEach(function(c,p){p&&s.push(","),o(c)}),s.push(")")),u.data.name!=="root"){let c=u.data.name.replaceAll("'","''");/\W/.test(c)?s.push("'"+c+"'"):s.push(c)}s.push(t(u));let l=i.branch_length_accessor(u);l!==void 0&&s.push(":"+l)}let s=[];return t=t||"",o(n||this.nodes),s.join("")+";"}var pn=xC;var _f={};sn(_f,{default:()=>Xa,loadAnnotations:()=>N_,parseAnnotations:()=>E_});function E_(t){let n=t,i=n.toUpperCase().indexOf("BEGIN DATA;"),o=n.slice(i);if(o.length<2)return"";i=o.toUpperCase().indexOf("END;");let s=o.slice(0,i);o=$t(s.split(";"),p=>p.trim());let u=ye(o,p=>p.toUpperCase().startsWith("DIMENSION"));u=u[0].split(" "),u=to($t(Xn(u),p=>p.split("=")));let l=ye(o,p=>p.toUpperCase().startsWith("FORMAT"));l=l[0].split(" "),l=to($t(Xn(l),p=>p.split("="))),l.symbols=of(l.symbols.split(""),p=>p=='"');let c=ye(o,p=>p.toUpperCase().startsWith("MATRIX"));return c=c[0].split(`
`),c=to($t(Xn(c),p=>lf(p.split(" ")))),c=Jl(c,(p,d)=>p=="?"?l.symbols:Array(p)),{dimensions:u,format:l,matrix:c}}function N_(t,n,i){Ut(t.getTips(),o=>{o.data.test=i.matrix[o.data.name]})}function Xa(t){let n=t,i=n.toUpperCase().indexOf("BEGIN TREES;"),o=n.slice(i);if(o.length<2)return"";i=o.toUpperCase().indexOf("END;");let u=o.slice(0,i).split(`
`);return u=ye(u,l=>l.trim().toUpperCase().startsWith("TREE")),pn(u[0])}function vf(t){var n={};if(t.nodeType==1){if(t.attributes.length>0){n["@attributes"]={};for(var i=0;i<t.attributes.length;i++){var o=t.attributes.item(i);n["@attributes"][o.nodeName]=o.nodeValue}}}else t.nodeType==3&&(n=t.nodeValue);if(t.hasChildNodes()&&t.childNodes.length===1&&t.childNodes[0].nodeType===3)n=t.childNodes[0].nodeValue;else if(t.hasChildNodes())for(var s=0;s<t.childNodes.length;s++){var u=t.childNodes.item(s),l=u.nodeName;if(typeof n[l]=="undefined")n[l]=vf(u);else{if(typeof n[l].push=="undefined"){var c=n[l];n[l]=[],n[l].push(c)}n[l].push(vf(u))}}return n}var yC=function(t,n){function i(s,u){s.clade&&(s.clade.forEach(i),s.children=s.clade,delete s.clade),s.annotation=1,s.attribute="0.01",s.branch_length&&(s.attribute=s.branch_length),s.taxonomy&&(s.name=s.taxonomy.scientific_name),s.annotation=""}var o;return t=vf(t),o=t.phyloxml.phylogeny.clade,o.name="root",i(o,0),{json:o,error:null}},$a=yC;function I_(t,n){n.left_delimiter="[",n.right_delimiter="]";let i=pn(t,n);function o(s){if(s.annotation){s.beast={};let l=s.annotation.split(/=|,|{|}/).filter(c=>c);for(var u=0;u<l.length;u+=2){let c=l[u].replace(/&|%/g,"");/[a-df-zA-DF-Z]+/.test(l[u+2])?s.beast[c]=+l[u+1]:(s.beast[c]=[+l[u+1],+l[u+2]],u++)}}s.annotation=void 0,s.children&&s.children.forEach(o)}return o(i.json),i}var wC={nexml:M_,phyloxml:$a,nexus:Xa,nwk:pn,nhx:pn,beast:I_},Va=wC;function xf(){let n=this.getTips(),i=$t(n,o=>({name:o.data.name,length:parseFloat(o.data.attribute)}));return i=sf(i,o=>-o.length),i}function yf(t,n){function i(s,u){if(u.mp=[[0,0],[!1,!1]],bt(u))u.mp[1][0]=u.mp[1][1]=u[s]||!1,u.mp[0][0]=u.mp[1][0]?1:0,u.mp[0][1]=1-u.mp[0][0];else{u.children.forEach(o);var l=u.children.reduce(function(p,d){return d.mp[0][0]+p},0),c=u.children.reduce(function(p,d){return d.mp[0][1]+p},0);u[s]?(u.mp[0][0]=c+1,u.mp[1][0]=!0,u.mp[0][1]=c,u.mp[1][1]=!0):(l<c+1?(u.mp[0][0]=l,u.mp[1][0]=!1):(u.mp[0][0]=c+1,u.mp[1][0]=!0),c<l+1?(u.mp[0][1]=c,u.mp[1][1]=!0):(u.mp[0][1]=l+1,u.mp[1][1]=!1))}}let o=ze(i,n);o(this.nodes),this.nodes.each(s=>{s.parent?s.mp=s.mp[1][s.parent.mp?1:0]:s.mp=s.mp[1][s.mp[0][0]<s.mp[0][1]?0:1]}),this.display.modifySelection((s,u)=>bt(s.target)?s.target[n]:s.target.mp)}var L_=Zo(Za());function Ka(t,n,i){let o=[t],s=[],u,l,c;for(;t=o.pop();)if(!(i&&i(t))&&(s.push(t),u=t.children,u))for(l=0,c=u.length;l<c;++l)o.push(u[l]);for(;t=s.pop();)n(t);return t}function wf(t,n,i){let o=[t],s,u;for(;t=o.pop();)if(!(i&&i(t))&&(n(t),s=t.children,s))for(u=s.length-1;u>=0;--u)o.push(s[u]);return t}function Ja(t,n,i){let o,s=[t],u,l,c;do for(o=s.reverse(),s=[];t=o.pop();)if(!(i&&i(t))&&(n(t),u=t.children,u))for(l=0,c=u.length;l<c;++l)s.push(u[l]);while(s.length);return t}function bf(t){return Ka(t,function(o){o.children&&(o.children[0].data.multiway_parent=o,o.children[1].data.multiway_parent=o.parent)}),L_.map(t.descendants(),o=>{let s=o.data.multiway_parent,u="unknown";return s&&(u=s.data.name),{source:o.data.multiway_parent,target:o,name:u}})}function Sf(){let t=this.branch_length;return t?Ha(this.nodes.descendants(),function(n){return!n.parent||!Pe(t(n))}):!1}function O_(){let t=this.branch_length;return $t(this.nodes.descendants(),n=>t(n))}function Qa(t,n){let i=t.data;if("attribute"in i&&i.attribute&&i.attribute.length){n>0&&(i.attribute=String(n));let o=parseFloat(i.attribute);if(!isNaN(o))return Math.max(0,o)}if(i.name=="root")return 0;console.warn("Undefined branch length at "+i.name+"!")}function R_(t){return arguments.length?(this.branch_length_accessor=t||Qa,this):this.branch_length_accessor}function D_(t){let n=this.branch_length,i=$t(this.nodes.descendants(),function(l){return n(l)?n(l):null}),o=qa(i),s=af(i),u=function(l){return(l-s)/(o-s)};return Ut(this.nodes.descendants(),l=>{let c=n(l);c&&n(l,u(c))}),this}function k_(t){let n=this.branch_length;return Ut(this.nodes.descendants(),i=>{let o=n(i);o&&n(i,t(o))}),this}function P_(t){return arguments.length?(this.nodeLabel=t,this):this.nodeLabel}var Tf={};sn(Tf,{pathToRoot:()=>TC,reroot:()=>bC,rootpath:()=>SC});function bC(t,n){if(!(t instanceof Ve))throw new Error("node needs to be an instance of a d3.hierarchy node!");let i=this.nodes.copy();if(n=n!==void 0?n:.5,t.parent){var o=Ve({name:"new_root"});o.children=[t.copy()],o.data.__mapped_bl=void 0,i.each(d=>{d.data.__mapped_bl=this.branch_length_accessor(d)}),this.setBranchLength(d=>d.data.__mapped_bl);let u=t,l=t.parent,c=Gn(),p=t.data.__mapped_bl===void 0?void 0:t.data.__mapped_bl*n;c=l.data.__mapped_bl,l.data.__mapped_bl=t.data.__mapped_bl===void 0?void 0:t.data.__mapped_bl-p,t.data.__mapped_bl=p;var s;if(l.parent){for(o.children.push(l);l.parent;){s=l.children.indexOf(u),l.parent.parent?l.children.splice(s,1,l.parent):l.children.splice(s,1);let d=l.parent.data.__mapped_bl;d!==void 0&&(l.parent.data.__mapped_bl=c,c=d),u=l,l=l.parent}s=l.children.indexOf(u),l.children.splice(s,1)}else s=l.children.indexOf(u),l.children.splice(s,1),c=l.data.__mapped_bl,u=o;if(l.children.length==1)c&&(l.children[0].data.__mapped_bl+=c),u.children=u.children.concat(l.children);else{let d=new Ve({name:"__reroot_top_clade",__mapped_bl:c});Vr(o.children[0],t),d.data.__mapped_bl=c,d.children=l.children.map(function(v){return v.parent=d,v}),d.parent=u,u.children.push(d)}}if(this.update(o),this.traverse_and_compute(u=>{Ut(u.children,l=>{l.parent=u})},"pre-order"),!Pe(this.display)){let u=this.display.options;vt(this.display.container).select("svg").remove();let l=this.display.selection_attribute_name;delete this.display;let c=this.render(u);c.selectionLabel(l),c.update(),vt(c.container).node().appendChild(c.show()),vt(this.display.container).dispatch("reroot")}return this}function SC(t,n){if(t=t||"attribute",n=n||"y_scaled","parent"in this){let i=parseFloat(this[t]);this[n]=this.parent[n]+(isNaN(i)?.1:i)}else this[n]=0;return this[n]}function TC(t){let n=[];for(;t;)n.push(t),t=t.parent;return n}function Ze(t){return t.y}function dn(t){return t.x}function ts(t,n,i){return{x:i+t*Math.sin(n),y:i+t*Math.cos(n)}}function Af(t,n,i,o,s,u){t.radius=n*(t.radius+i),t.angle=2*Math.PI*t.x*s[0]/u[0];let l=ts(t.radius,t.angle,o);return t.x=l.x,t.y=l.y,t}function Mf(t,n){var i=ts(n[0].radius,n[0].angle,t),o=ts(n[0].radius,n[1].angle,t);return"M "+Ze(i)+","+dn(i)+" A "+n[0].radius+","+n[0].radius+" 0,0, "+(n[1].angle>n[0].angle?1:0)+" "+Ze(o)+","+dn(o)+" L "+Ze(n[1])+","+dn(n[1])}function j_(t,n,i){var o=ts(t.target.radius+(t.source.radius-t.target.radius)*n,t.target.angle,i);return{x:Ze(o),y:dn(o)}}var AC=Xr().x(function(t){return Ze(t)}).y(function(t){return dn(t)}).curve(Rl);function Cf(t,n){return{x:Ze(t.target)+(Ze(t.source)-Ze(t.target))*n,y:dn(t.target)}}var Ef=AC;var Of={};sn(Of,{cladeCssSelectors:()=>U_,updateCollapsedClades:()=>WC});var Lf={};sn(Lf,{defNodeLabel:()=>F_,drawNode:()=>kC,hasHiddenNodes:()=>rs,internalLabel:()=>FC,isNodeCollapsed:()=>En,nodeCssSelectors:()=>B_,nodeLabel:()=>UC,nodeNotshown:()=>z_,nodeSpan:()=>zC,nodeVisible:()=>If,reclassNode:()=>BC,shiftTip:()=>DC,showInternalName:()=>jC,updateHasHiddenNodes:()=>PC});function no(t){return t.tag||!1}function ro(t,n){return t[n]||!1}var Nf={};sn(Nf,{alignTips:()=>EC,css_classes:()=>At,internalNames:()=>MC,layoutHandler:()=>LC,nodeBubbleSize:()=>NC,nodeSpan:()=>es,predefined_selecters:()=>ns,radial:()=>CC,selectionCallback:()=>RC,selectionLabel:()=>OC,shiftTip:()=>IC});var At={"tree-container":"phylotree-container","tree-scale-bar":"tree-scale-bar",node:"node","internal-node":"internal-node","tagged-node":"node-tagged","selected-node":"node-selected","collapsed-node":"node-collapsed","root-node":"root-node",branch:"branch","selected-branch":"branch-selected","tagged-branch":"branch-tagged","tree-selection-brush":"tree-selection-brush","branch-tracer":"branch-tracer",clade:"clade",node_text:"phylotree-node-text"};function MC(t){return arguments.length?(this.options["internal-names"]=t,this):this.options["internal-names"]}function CC(t){return arguments.length?(this.options["is-radial"]=t,this):this.options["is-radial"]}function EC(t){return arguments.length?(this.options["align-tips"]=t,this):this.options["align-tips"]}function NC(t){return this.options["draw-size-bubbles"]&&this.options["bubble-styler"]?this.options["bubble-styler"](t):this.options["draw-size-bubbles"]?this.relative_nodeSpan(t)*this.scales[0]*.25:0}function IC(t){return this.options["is-radial"]?[(t.text_align=="end"?-1:1)*(this.radius_pad_for_bubbles-t.radius),0]:this.options["right-to-left"]?[this.right_most_leaf-t.screen_x,0]:[this.right_most_leaf-t.screen_x,0]}function LC(t){return arguments.length?(this.layout_listener_handler=t,this):this.layout_listener_handler}function OC(t){return arguments.length?(this.selection_attribute_name=t,this.syncEdgeLabels(),this):this.selection_attribute_name}function es(t){return arguments.length?(typeof t=="string"&&t=="equal"?es=function(n){return 1}:es=t,this):es}var ns={all:t=>!0,none:t=>!1,"all-leaf-nodes":t=>bt(t.target),"all-internal-nodes":t=>!bt(t.target)};function RC(t){return t?(this.selectionCallback=t,this):this.selectionCallback}function DC(t){return this.radial()?[(t.text_align=="end"?-1:1)*(this.radius_pad_for_bubbles-t.radius),0]:this.options["right-to-left"]?[this.right_most_leaf-t.screen_x,0]:[this.right_most_leaf-t.screen_x,0]}function kC(t,n,i){t=vt(t);var o=bt(n);o&&(t=t.attr("data-node-name",n.data.name));var s=t.selectAll("text").data([n]),u=t.selectAll("line");if(o||this.showInternalName(n)&&!En(n))if(s=s.enter().append("text").classed(this.css_classes.node_text,!0).merge(s).on("click",c=>{this.handle_node_click(n,c)}).attr("dy",c=>this.shown_font_size*.33).text(c=>this.options["show-labels"]?this._nodeLabel(c):"").style("font-size",c=>this.ensure_size_is_in_px(this.shown_font_size)),this.radial()?s=s.attr("transform",c=>this.d3PhylotreeSvgRotate(c.text_angle)+this.d3PhylotreeSvgTranslate(this.alignTips()?this.shiftTip(c):null)).attr("text-anchor",c=>c.text_align):s=s.attr("text-anchor","start").attr("transform",c=>this.options.layout=="right-to-left"?this.d3PhylotreeSvgTranslate([-20,0]):this.d3PhylotreeSvgTranslate(this.alignTips()?this.shiftTip(c):null)),this.alignTips()?(u=u.data([n]),i?u=u.enter().append("line").classed(this.css_classes["branch-tracer"],!0).merge(u).attr("x1",c=>(c.text_align=="end"?-1:1)*this.nodeBubbleSize(n)).attr("x2",0).attr("y1",0).attr("y2",0).attr("x2",c=>this.options.layout=="right-to-left"?c.screen_x:this.shiftTip(c)[0]).attr("transform",c=>this.d3PhylotreeSvgRotate(c.text_angle)).attr("x2",c=>this.options.layout=="right-to-left"?c.screen_x:this.shiftTip(c)[0]).attr("transform",c=>this.d3PhylotreeSvgRotate(c.text_angle)):(u=u.enter().append("line").classed(this.css_classes["branch-tracer"],!0).merge(u).attr("x1",c=>(c.text_align=="end"?-1:1)*this.nodeBubbleSize(n)).attr("y2",0).attr("y1",0).attr("x2",c=>this.shiftTip(c)[0]),u.attr("transform",c=>this.d3PhylotreeSvgRotate(c.text_angle)))):u.remove(),this.options["draw-size-bubbles"]){var l=this.nodeBubbleSize(n);t.selectAll("circle").data([l]).enter().append("circle").attr("r",function(p){return p}),this.shown_font_size>=5&&(s=s.attr("dx",p=>(p.text_align=="end"?-1:1)*((this.alignTips()?0:l)+this.shown_font_size*.33)))}else this.shown_font_size>=5&&(s=s.attr("dx",c=>(c.text_align=="end"?-1:1)*this.shown_font_size*.33));if(!o){let c=t.selectAll("circle").data([n]).enter().append("circle"),p=this.node_circle_size()(n);p>0?c.merge(c).attr("r",d=>Math.min(this.shown_font_size*.75,p)).on("click",d=>{this.handle_node_click(n,d)}):c.remove()}return this.node_styler&&this.node_styler(t,n),n}function PC(){let t=this.phylotree.nodes.descendants();for(let n=t.length-1;n>=0;n-=1)bt(t[n])?t[n].hasHiddenNodes=t[n].notshown:t[n].hasHiddenNodes=t[n].children.reduce(function(i,o){return o.notshown||i},!1);return this}function jC(t){let n=this.internalNames();return n?typeof n=="function"?n(t):n:!1}function zC(t){return arguments.length?(typeof t=="string"&&t=="equal"?this.nodeSpan=function(n){return 1}:this.nodeSpan=t,this):this.nodeSpan}function BC(t){let n=At[bt(t)?"node":"internal-node"];return no(t)&&(n+=" "+At["tagged-node"]),ro(t,this.selection_attribute_name)&&(n+=" "+At["selected-node"]),t.parent||(n+=" "+At["root-node"]),(En(t)||rs(t))&&(n+=" "+At["collapsed-node"]),n}function If(t){return!(t.hidden||t.notshown)}function z_(t){return t.notshown}function rs(t){return t.hasHiddenNodes||!1}function En(t){return t.collapsed||!1}function B_(t){return[t.node,t["internal-node"],t["collapsed-node"],t["tagged-node"],t["root-node"]].reduce(function(n,i,o,s){return n+="g."+i+(o<s.length-1?",":"")},"")}function FC(t,n){this.phylotree.clearInternalNodes(n);for(var i=this.phylotree.nodes.descendants().length-1;i>=0;i--){var o=this.phylotree.nodes.descendants()[i];bt(o)||ro(o,this.selection_attribute_name)||(o[this.selection_attribute_name]=t(o.children))}this.modifySelection((s,u)=>bt(s.target)?s.target[this.selection_attribute_name]:s.target[this.selection_attribute_name])}function F_(t){return t=t.data,bt(t)?t.name||"":this.showInternalName(t)?t.name:""}function UC(t){return arguments.length?(this._nodeLabel=t||F_,this.update(),this):this._nodeLabel}function U_(t){return[t.clade].reduce(function(n,i,o,s){return n+="path."+i+(o<s.length-1?",":"")},"")}function WC(t){let n=this.svg.selectAll("."+this.css_classes["tree-container"]);var i=0;let o=n.selectAll(U_(this.css_classes)).data(this.phylotree.nodes.descendants().filter(En),function(l){return l.id||(l.id=++i)}),s=function(){},u=Gn();this.radial()?(s=Xr().curve(ja).y(function(l){return l[0]}).x(function(l){return l[1]}),u=function(l,c,p,d,v){return c?[p.screen_y+(l[0]-d)/50,p.screen_x+(l[1]-v)/50]:[p.screen_y,p.screen_x]}):(s=Xr().y(function(l){return l[0]}).x(function(l){return l[1]}).curve(ja),u=function(l,c,p,d,v){return c?[p.screen_y+(l[0]-d)/50,p.screen_x+(l[1]-v)/50]:[p.screen_y,p.screen_x]}),o.exit().each(function(l){l.collapsed_clade=null}).remove(),t?o.enter().insert("path",":first-child").attr("class",this.css_classes.clade).merge(o).attr("d",function(l){if(l.collapsed_clade)return l.collapsed_clade;let c=l.collapsed[0][0],p=l.collapsed[0][1];return s(l.collapsed.map(function(d,v){return u(d,v,l,c,p)}))}).attr("d",function(l){return l.collapsed_clade=s(l.collapsed)}):o.enter().insert("path",":first-child").attr("class",this.css_classes.clade).merge(o).attr("d",function(l){return l.collapsed_clade?l.collapsed_clade:l.collapsed_clade=s(l.collapsed)})}var kf={};sn(kf,{drawEdge:()=>HC,edgeCssSelectors:()=>Df,edgeVisible:()=>Rf,initializeEdgeLabels:()=>YC,placeAlongAnEdge:()=>XC,reclassEdge:()=>qC,syncEdgeLabels:()=>GC});function HC(t,n,i){t=vt(t),t=t.attr("class",l=>this.reclassEdge(l)).on("click",l=>{this.modifySelection([n.target],this.selection_attribute_name),this.update()});let o=this.draw_branch([n.source,n.target]);i&&t.datum().existing_path&&(t=t.attr("d",function(l){return l.existing_path})),t=t.attr("d",o),n.existing_path=o;var s=this.phylotree.branch_length_accessor(n.target);if(s!==void 0){var u=t.selectAll("title");u.empty()&&(u=t.append("title")),u.text("Length = "+s)}else t.selectAll("title").remove();return this.edge_styler&&this.edge_styler(t,n,i),this.phylotree}function qC(t){let n=At.branch;return no(t)&&(n+=" "+At["tagged-branch"]),ro(t,this.selection_attribute_name)&&(n+=" "+At["selected-branch"]),n}function YC(){this.links.forEach(t=>{t.target.data.annotation&&(t.target[t.target.data.annotation]=t.target.data.annotation)})}function GC(){if(this.links.forEach(t=>{t[this.selection_attribute_name]=t.target[this.selection_attribute_name]||!1,t.tag=t.target.tag||!1}),this.countHandler()){let t={};t[this.selection_attribute_name]=this.links.reduce((n,i)=>n+(i[this.selection_attribute_name]?1:0),0),t.tagged=this.links.reduce(function(n,i){return n+(no(i)?1:0)},0),this.countUpdate(this,t,this.countHandler())}}function Rf(t){return!(t.target.hidden||t.target.notshown)}function Df(t){return[t.branch,t["selected-branch"],t["tagged-branch"]].reduce(function(n,i,o,s){return n+="path."+i+(o<s.length-1?",":"")},"")}function XC(t,n){return this.edge_placer(t,n)}var jf={};sn(jf,{countUpdate:()=>Pf,d3PhylotreeAddEventListener:()=>H_,d3PhylotreeEventListener:()=>W_,d3PhylotreeSvgRotate:()=>QC,d3PhylotreeSvgTranslate:()=>JC,d3PhylotreeTriggerLayout:()=>KC,rescale:()=>ZC,resizeSvg:()=>VC,toggleCollapse:()=>$C,triggerRefresh:()=>os});var is="phylotree.event";function $C(t){if(t.collapsed){t.collapsed=!1;let n=function(i){bt(i)||i.collapsed||i.children.forEach(n),i.hidden=!1};n(t)}else t.collapsed=!0;return this.placenodes(),this}function VC(t,n,i){let o=this.size;if(this.radial()){let s=this.pad_width(),u=this.options["top-bottom-spacing"]!="fit-to-size"?this.pad_height():0;o=[o[1]+2*s,o[0]+2*s+u],n&&n.selectAll("."+At["tree-container"]).attr("transform","translate ("+s+","+(s+u)+")")}else o=[o[0]+(this.options["top-bottom-spacing"]!="fit-to-size"?this.pad_height():0),o[1]+(this.options["left-right-spacing"]!="fit-to-size"?this.pad_width():0)];return n&&(i&&(n=n.transition(100)),n.attr("height",o[0]).attr("width",o[1])),this.size=o,o}function ZC(t,n){n=n||"y_scaled",n in this&&(this[n]*=t)}function os(t){var n=new CustomEvent(is,{detail:["refresh",t]});document.dispatchEvent(n)}function Pf(t,n){var i=new CustomEvent(is,{detail:["countUpdate",n,t.countHandler()]});document.dispatchEvent(i)}function KC(t){var n=new CustomEvent(is,{detail:["layout",t,t.layoutHandler()]});document.dispatchEvent(n)}function W_(t){switch(t.detail[0]){case"refresh":t.detail[1].refresh();break;case"countUpdate":t.detail[2](t.detail[1]);break;case"layout":t.detail[2](t.detail[1])}return!0}function H_(){document.addEventListener(is,W_,!1)}function JC(t){return t&&(t[0]!==null||t[1]!==null)?"translate ("+(t[0]!==null?t[0]:0)+","+(t[1]!==null?t[1]:0)+") ":""}function QC(t){return t!==null?"rotate ("+t+") ":""}var zf={};sn(zf,{addCustomMenu:()=>eE,getSelection:()=>rE,modifySelection:()=>nE,nodeDropdownMenu:()=>tE,selectAllDescendants:()=>iE,selectionCallback:()=>oE});var q_="d3_layout_phylotree_context_menu";function tE(t,n,i,o,s){let u=vt(n).select("#"+q_);if(u.empty()&&(u=vt(n).append("div").attr("id",q_).attr("class","dropdown-menu").attr("role","menu")),u.selectAll("a").remove(),u.selectAll("h6").remove(),u.selectAll("div").remove(),t){if(!Ji([Boolean(t.menu_items),o.hide,o.selectable,o.collapsible])||!o["show-menu"])return;bt(t)||(o.collapsible&&(u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text(En(t)?"Expand Subtree":"Collapse Subtree").on("click",d=>{u.style("display","none"),this.toggleCollapse(t).update()}),o.selectable&&(u.append("div").attr("class","dropdown-divider"),u.append("h6").attr("class","dropdown-header").text("Toggle selection"))),o.selectable&&(u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All descendant branches").on("click",function(d){u.style("display","none"),i.modifySelection(i.selectAllDescendants(t,!0,!0))}),u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All terminal branches").on("click",function(d){u.style("display","none"),i.modifySelection(i.selectAllDescendants(t,!0,!1))}),u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All internal branches").on("click",function(d){u.style("display","none"),i.modifySelection(i.selectAllDescendants(t,!1,!0))}))),t.parent&&(o.selectable&&(u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Incident branch").on("click",function(d){u.style("display","none"),i.modifySelection([t])}),u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Path to root").on("click",d=>{u.style("display","none"),this.modifySelection(this.phylotree.pathToRoot(t))}),(o.reroot||o.hide)&&u.append("div").attr("class","dropdown-divider")),o.reroot&&u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Reroot on this node").on("click",d=>{u.style("display","none"),this.phylotree.reroot(t),this.update()}),o.hide&&u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Hide this "+(bt(t)?"node":"subtree")).on("click",d=>{u.style("display","none"),this.modifySelection([t],"notshown",!0,!0).updateHasHiddenNodes().update()})),rs(t)&&u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Show all descendant nodes").on("click",function(d){u.style("display","none"),i.modifySelection(i.selectAllDescendants(t,!0,!0),"notshown",!0,!0,"false").updateHasHiddenNodes().update()});var l=[];if("menu_items"in t&&typeof t.menu_items=="object"&&t.menu_items.forEach(function(d){d.length==3&&(!d[2]||d[2](t))&&l.push([d[0],d[1]])}),l.length){let d=[o.hide,o.selectable,o.collapsible];Ji(d)&&u.append("div").attr("class","dropdown-divider"),l.forEach(function(v){u.append("a").attr("class","dropdown-item").attr("tabindex","-1").text(v[0](t)).on("click",ze(v[1],t))})}let p=document.querySelector(n).getBoundingClientRect();u.style("position","absolute").style("left",""+(s.clientX-p.x+12)+"px").style("top",""+(s.clientY-p.y)+"px").style("display","block")}else u.style("display","none")}function eE(t,n,i,o){"menu_items"in t||(t.menu_items=[]),t.menu_items.some(function(s){return s[0]==n&&s[1]==i&&s[2]==o})||t.menu_items.push([n,i,o])}function nE(t,n,i,o,s){if(n=n||this.selection_attribute_name,s=s||"toggle",this.options["restricted-selectable"].length)if(nn(qt(ns),t))t=ns[t];else return;if((this.options["restricted-selectable"]||this.options.selectable)&&!this.options["binary-selectable"]){var u=!1;typeof t=="function"?this.links.forEach(function(c){let p=t(c);c[n]=c[n]||!1,c[n]!=p&&(c[n]=p,u=!0,c.target[n]=p)}):(t.forEach(function(c){var p;switch(s){case"true":p=!0;break;case"false":p=!1;break;default:p=!c[n];break}c[n]!=p&&(c[n]=p,u=!0)}),this.links.forEach(function(c){c[n]=c.target[n]}));var l;u&&(o||os(this),this.countHandler&&(l={},l[n]=this.links.reduce(function(c,p){return c+(p[n]?1:0)},0),Pf(this,l,this.countHandler)),i&&this.placenodes())}else this.options["binary-selectable"]&&(typeof t=="function"?this.links.forEach(function(c){var p=t(c);c[n]=c[n]||!1,c[n]!=p&&(c[n]=p,u=!0,c.target[n]=p),this.options["attribute-list"].forEach(function(d){d!=n&&c[n]===!0&&(c[d]=!1,c.target[d]=!1)})}):(t.forEach(function(c){var p;p=!c[n],c[n]!=p&&(c[n]=p,u=!0)}),this.links.forEach(function(c){c[n]=c.target[n],this.options["attribute-list"].forEach(function(p){p!=n&&c[n]!==!0&&(c[p]=!1,c.target[p]=!1)})})),u&&(o||os(this),this.countHandler()&&(l={},l[n]=this.links.reduce(function(c,p){return c+(p[n]?1:0)},0),this.countUpdate(this,l,this.countHandler())),i&&this.placenodes()));return this.selectionCallback&&n!="tag"&&this.selectionCallback(this.getSelection()),this.refresh(),this.update(),this}function rE(){return this.nodes.filter(t=>t[this.selection_attribute_name])}function iE(t,n,i){let o=[];function s(u){bt(u)?n&&u!=t&&o.push(u):(i&&u!=t&&o.push(u),u.children.forEach(s))}return s(t),o}function oE(t){return t?(this.selectionCallback=t,this):this.selectionCallback}function Y_(t){return function(){return t}}var $n=class{constructor(n,i={}){this.css_classes=At,this.phylotree=n,this.container=i.container,this.separation=function(s,u){return 0},this._nodeLabel=this.defNodeLabel,this.svg=null,this.selectionCallback=null,this.scales=[1,1],this.size=[1,1],this.fixed_width=[14,30],this.scale_bar_font_size=12,this.draw_branch=Ef,this.draw_scale_bar=null,this.edge_placer=Cf,this.count_listener_handler=function(){},this.layout_listener_handler=function(){},this.node_styler=void 0,this.edge_styler=void 0,this.selection_attribute_name="selected",this.right_most_leaf=0,this.label_width=0,this.radial_center=0,this.radius=1,this.radius_pad_for_bubbles=0,this.rescale_nodeSpan=1,this.relative_nodeSpan=function(s){return this.nodeSpan(s)/this.rescale_nodeSpan};let o={layout:"left-to-right",logger:console,branches:"step",scaling:!0,bootstrap:!1,"color-fill":!0,"font-size":14,"internal-names":!1,selectable:!0,"restricted-selectable":!1,collapsible:!0,"left-right-spacing":"fixed-step","top-bottom-spacing":"fixed-step","left-offset":0,"show-scale":"top","draw-size-bubbles":!1,"bubble-styler":this.radius_pad_for_bubbles,"binary-selectable":!1,"is-radial":!1,"attribute-list":[],"max-radius":768,"annular-limit":.38196601125010515,compression:.2,"align-tips":!1,"maximum-per-node-spacing":100,"minimum-per-node-spacing":2,"maximum-per-level-spacing":100,"minimum-per-level-spacing":10,node_circle_size:Y_(3),transitions:null,brush:!0,reroot:!0,hide:!0,"label-nodes-with-name":!1,zoom:!1,"show-menu":!0,"show-labels":!0,"node-styler":null,"edge-styler":null,"node-span":null};this.ensure_size_is_in_px=function(s){return typeof s=="number"?s+"px":s},this.options=Wa(i,o),this.font_size=this.options["font-size"],this.offsets=[0,this.font_size/2],this.shown_font_size=this.font_size,this.width=this.options.width||800,this.height=this.options.height||600,this.node_styler=this.options["node-styler"],this.edge_styler=this.options["edge-styler"],this.nodeSpan=this.options["node-span"],this.nodeSpan||(this.nodeSpan=function(s){return 1}),this.rescale_nodeSpan=this.phylotree.nodes.children.map(s=>{if(bt(s)||this.showInternalName(s))return this.nodeSpan(s)}).reduce(function(s,u){return Math.min(u,s||1e200)},null)||1,this.initialize_svg(this.container),this.links=this.phylotree.nodes.links(),this.initializeEdgeLabels(),this.update(),H_()}pad_height(){return this.draw_scale_bar?this.scale_bar_font_size+25:0}pad_width(){this.label_width=this._label_width(this.shown_font_size);let n=this.options["show-labels"]?this.label_width:0;return this.offsets[1]+this.options["left-offset"]+n}collapse_node(n){En(n)||(n.collapsed=!0)}set_size(n){if(!arguments.length)return this.size;let i=n;return this.options["top-bottom-spacing"]!="fixed-step"&&(this.size[0]=i[0]),this.options["left-right-spacing"]!="fixed-step"&&(this.size[1]=i[1]),this}initialize_svg(n){return this.svg!==n&&(vt(n).select("svg").remove(),this.svg=Fu("svg").attr("width",this.width).attr("height",this.height),this.set_size([this.height,this.width]),this.css_classes["tree-container"]=="phylotree-container"&&(this.svg.selectAll("*").remove(),this.svg.append("defs")),vt(this.container).on("click",i=>{this.handle_node_click(null)},!0)),this}update_layout(n,i){i&&(this.nodes=Ve(n),this.nodes.each(function(o){o.id=null})),this.update(),this.syncEdgeLabels()}update(n){var i=this;this.placenodes(),n=this.transitions(n);let o=0,s=this.svg.selectAll("."+At["tree-container"]).data([0]);if(s=s.enter().append("g").attr("class",At["tree-container"]).merge(s).attr("transform",d=>this.d3PhylotreeSvgTranslate([this.offsets[1]+this.options["left-offset"],this.pad_height()])),this.draw_scale_bar){let d=this.svg.selectAll("."+At["tree-scale-bar"]).data([0]);d.enter().append("g").attr("class",At["tree-scale-bar"]).style("font-size",this.ensure_size_is_in_px(this.scale_bar_font_size)).merge(d).attr("transform",v=>this.d3PhylotreeSvgTranslate([this.offsets[1]+this.options["left-offset"],this.pad_height()-10])).call(this.draw_scale_bar),d.selectAll("text").style("text-anchor","end")}else this.svg.selectAll("."+At["tree-scale-bar"]).remove();s=this.svg.selectAll("."+At["tree-container"]).data([0]),this.updateCollapsedClades(n);let u=s.selectAll(Df(At)).data(this.links.filter(Rf),d=>d.target.id||(d.target.id=++o));u.exit().remove(),u=u.enter().insert("path",":first-child").merge(u).each(function(d){i.drawEdge(this,d,n)});let l=s.selectAll(B_(At)).data(this.phylotree.nodes.descendants().filter(If),d=>d.id||(d.id=++o));if(l.exit().remove(),l=l.enter().append("g").attr("class",this.reclassNode).merge(l).attr("transform",d=>{let v=this.options.layout=="right-to-left"&&bt(d);return d.screen_x=Ze(d),d.screen_y=dn(d),this.d3PhylotreeSvgTranslate([v?0:d.screen_x,d.screen_y])}).each(function(d){i.drawNode(this,d,n)}).attr("transform",d=>{if(!Pe(d.screen_x)&&!Pe(d.screen_y))return"translate("+d.screen_x+","+d.screen_y+")"}),this.options["label-nodes-with-name"]&&(l=l.attr("id",d=>"node-"+d.name)),this.resizeSvg(this.phylotree,this.svg,n),this.options.brush){var c=s.selectAll("."+At["tree-selection-brush"]).data([0]).enter().insert("g",":first-child").attr("class",At["tree-selection-brush"]),p=sl().on("brush",(d,v)=>{var w=d.selection,x=this.links.filter(Rf),A=x.filter((z,Y)=>z.source.screen_x>=w[0][0]&&z.source.screen_x<=w[1][0]&&z.source.screen_y>=w[0][1]&&z.source.screen_y<=w[1][1]&&z.target.screen_x>=w[0][0]&&z.target.screen_x<=w[1][0]&&z.target.screen_y>=w[0][1]&&z.target.screen_y<=w[1][1]).map(z=>z.target);this.modifySelection(this.phylotree.links.map(z=>z.target),"tag",!1,A.length>0,"false"),this.modifySelection(A,"tag",!1,!1,"true")}).on("end",()=>{});c.call(p)}if(this.syncEdgeLabels(),this.options.zoom){let d=Pl().scaleExtent([.1,10]).on("zoom",v=>{vt("."+At["tree-container"]).attr("transform",w=>v.transform),vt("."+At["tree-scale-bar"]).attr("transform",w=>{let x=v.transform;return x.y-=10,x})});this.svg.call(d)}return this}_handle_single_node_layout(n){let i=this.nodeSpan(n)/this.rescale_nodeSpan;this.x=n.x=this.x+this.separation(this.last_node,n)+(this.last_span+i)*.5,this._extents[1][1]=Math.max(this._extents[1][1],n.y),this._extents[1][0]=Math.min(this._extents[1][0],n.y-i*.5),this.is_under_collapsed_parent?this._extents[0][1]=Math.max(this._extents[0][1],this.save_x+(n.x-this.save_x)*this.options.compression+this.save_span+(i*.5+this.separation(this.last_node,n))*this.options.compression):this._extents[0][1]=Math.max(this._extents[0][1],this.x+i*.5+this.separation(this.last_node,n)),this.last_node=n,this.last_span=i}tree_layout(n){if(z_(n))return;let i=bt(n);n.text_angle=null,n.text_align=null,n.radius=null,n.angle=null;let o=!1;if(n.parent)if(this.do_scaling){if(o)return 0;if(n.y=this.phylotree.branch_length_accessor(n),typeof n.y=="undefined")return o=!0,0;n.y+=n.parent.y}else n.y=i?this.max_depth:n.depth;else this.x=0,n.y=0,this.last_node=null,this.last_span=0,this._extents=[[0,0],[0,0]];if(i&&this._handle_single_node_layout(n),!i)if(En(n)&&!this.is_under_collapsed_parent){if(this.save_x=this.x,this.save_span=this.last_span*.5,this.is_under_collapsed_parent=!0,this.process_internal_node(n),this.is_under_collapsed_parent=!1,typeof n.x=="number"){n.x=this.save_x+(n.x-this.save_x)*this.options.compression+this.save_span,n.collapsed=[[n.x,n.y]];var s=u=>{u.hidden=!0,bt(u)?(this.x=u.x=this.save_x+(u.x-this.save_x)*this.options.compression+this.save_span,n.collapsed.push([u.x,u.y])):u.children.map(s)};this.x=this.save_x,s(n),n.collapsed.splice(1,0,[this.save_x,n.y]),n.collapsed.push([this.x,n.y]),n.collapsed.push([n.x,n.y]),n.hidden=!1}}else this.process_internal_node(n);return n.x}process_internal_node(n){let i=0;if(this.showInternalName(n)){let o=n.children.length/2>>0,s=0,u=!1;for(let l=0;l<n.children.length;l++)typeof this.tree_layout(n.children[l])=="number"&&s++,s>=o&&!u&&(this._handle_single_node_layout(n),u=!0);s==0?(n.notshown=!0,n.x=void 0):u||this._handle_single_node_layout(n)}else n.x=n.children.map(this.tree_layout.bind(this)).reduce((o,s)=>typeof s=="number"?o+s:(i+=1,o),0),i==n.children.length?(n.notshown=!0,n.x=void 0):n.x/=n.children.length-i}do_lr(n){if(this.radial()&&n&&(this.offsets[1]=0),this.options["left-right-spacing"]=="fixed-step")this.size[1]=this.max_depth*this.fixed_width[1],this.scales[1]=(this.size[1]-this.offsets[1]-this.options["left-offset"])/this._extents[1][1],this.label_width=this._label_width(this.shown_font_size),this.radial()&&(this.label_width*=2);else{this.label_width=this._label_width(this.shown_font_size),n=!0;let i=this.size[1]-this.offsets[1]-this.options["left-offset"];i*.5<this.label_width&&(this.shown_font_size*=i*.5/this.label_width,this.label_width=i*.5),this.scales[1]=(this.size[1]-this.offsets[1]-this.options["left-offset"]-this.label_width)/this._extents[1][1]}}placenodes(){this._extents=[[0,0],[0,0]],this.x=0,this.last_span=0,this.last_node=null,this.last_span=0,this.save_x=this.x,this.save_span=this.last_span*.5,this.do_scaling=this.options.scaling;let n=!1;this.is_under_collapsed_parent=!1,this.max_depth=1,this.phylotree.nodes.x=this.tree_layout(this.phylotree.nodes,this.do_scaling),this.max_depth=Qo(this.phylotree.nodes.descendants(),o=>o.depth),this.do_scaling&&n&&(this.do_scaling=!1,this.phylotree.nodes.x=this.tree_layout(this.phylotree.nodes));let i=!1;if(this.draw_scale_bar=this.options["show-scale"]&&this.do_scaling,this.offsets[1]=Math.max(this.font_size,-this._extents[1][0]*this.fixed_width[0]),this.options["top-bottom-spacing"]=="fixed-step"?(this.size[0]=this._extents[0][1]*this.fixed_width[0],this.scales[0]=this.fixed_width[0]):(this.scales[0]=(this.size[0]-this.pad_height())/this._extents[0][1],i=!0),this.shown_font_size=Math.min(this.font_size,this.scales[0]),this.radial()){this.draw_branch=ze(Mf,this.radial_center),this.edge_placer=j_;let o=null,s=null,u=null,l=0,c=this._extents[0][1]*this.scales[0],p=function(x,A,z,Y,I){return I=I||0,Math.sqrt((A-x)*(A-x)+2*(x+I)*(A+I)*(1-Math.cos(z-Y)))},d=0;this.phylotree.nodes.each(x=>{let A=x.x*this.scales[0];x.angle=2*Math.PI*A/c,x.text_angle=x.angle-Math.PI/2,x.text_angle=x.text_angle>0&&x.text_angle<Math.PI,x.text_align=x.text_angle?"end":"start",x.text_angle=(x.text_angle?180:0)+x.angle*180/Math.PI}),this.do_lr(i),this.phylotree.nodes.each(x=>{x.radius=x.y*this.scales[1]/this.size[1],d=Math.max(x.radius,d)});let v=0;this.phylotree.nodes.each(x=>{if(!x.children){let A=x.x*this.scales[0];if(o!==null){let z=A-s,Y=p(x.radius,u,x.angle,o,v),I=Y>0?z/Y:10*this.options["max-radius"];if(I>this.options["max-radius"]){let E=z/this.options["max-radius"],D=x.radius+u,O=x.radius*u-(E*E-(u-x.radius)*(u-x.radius))/2/(1-Math.cos(o-x.angle)),j=Math.sqrt(D*D-4*O);v=Math.min(this.options["annular-limit"]*d,(-D+j)/2),l=this.options["max-radius"]}else l=Math.max(l,I)}o=x.angle,s=A,u=x.radius}}),this.radius=Math.min(this.options["max-radius"],Math.max(c/2/Math.PI,l)),i&&(this.radius=Math.min(this.radius,(Math.min(c,this._extents[1][1]*this.scales[1])-this.label_width)*.5-this.radius*v)),this.radial_center=this.radius_pad_for_bubbles=this.radius,this.draw_branch=ze(Mf,this.radial_center);let w=1;v&&(w=d/(d+v),this.radius*=w),this.phylotree.nodes.each(x=>{if(Af(x,this.radius,v,this.radial_center,this.scales,this.size),d=Math.max(d,x.radius),this.options["draw-size-bubbles"]?this.radius_pad_for_bubbles=Math.max(this.radius_pad_for_bubbles,x.radius+this.nodeBubbleSize(x)):this.radius_pad_for_bubbles=Math.max(this.radius_pad_for_bubbles,x.radius),x.collapsed){x.collapsed=x.collapsed.map(z=>{let Y={};return Y.x=z[0],Y.y=z[1],Y=Af(Y,this.radius,v,this.radial_center,this.scales,this.size),[Y.x,Y.y]});let A=x.collapsed[1];x.collapsed=x.collapsed.filter(function(z,Y){return Y<3||Y>x.collapsed.length-4?!0:Math.sqrt(Math.pow(z[0]-A[0],2)+Math.pow(z[1]-A[1],2))>3?(A=z,!0):!1})}}),this.size[0]=this.radial_center+this.radius/w,this.size[1]=this.radial_center+this.radius/w}else this.do_lr(),this.draw_branch=Ef,this.edge_placer=Cf,this.right_most_leaf=0,this.phylotree.nodes.each(o=>{if(o.x*=this.scales[0],o.y*=this.scales[1]*.8,this.options.layout=="right-to-left"&&(o.y=this._extents[1][1]*this.scales[1]-o.y),bt(o)&&(this.right_most_leaf=Math.max(this.right_most_leaf,o.y+this.nodeBubbleSize(o))),o.collapsed){o.collapsed.forEach(u=>{u[0]*=this.scales[0],u[1]*=this.scales[1]*.8});let s=o.collapsed[1][0];o.collapsed=o.collapsed.filter(function(u,l){return l<3||l>o.collapsed.length-4?!0:u[0]-s>3?(s=u[0],!0):!1})}});if(this.draw_scale_bar){let o,s;if(this.radial()){if(s=Math.min(this.radius/5,50),o=Math.pow(10,Math.ceil(Math.log(this._extents[1][1]*s/this.radius)/Math.log(10))),s=o*(this.radius/this._extents[1][1]),s<30){let c=Math.ceil(30/s);s*=c,o*=c}}else o=this._extents[1][1],s=this.size[1]-this.offsets[1]-this.options["left-offset"]-this.shown_font_size;let u=Di().domain([0,o]).range([0,s]),l=Wr(".2f");if(this.draw_scale_bar=Pu().scale(u).tickFormat(function(c){return c===0?"":l(c)}),this.radial())this.draw_scale_bar.tickValues([o]);else{let c=function(d,v){return v?Math.round(d*(v=Math.pow(10,v)))/v:Math.round(d)},p=u.ticks();p=p.length>1?p[1]:p[0],this.draw_scale_bar.ticks(Math.min(10,c(s/(this.shown_font_size*l(p).length*2),0)))}}else this.draw_scale_bar=null;return this}spacing_x(n,i){return arguments.length?(this.fixed_width[0]!=n&&n>=this.options["minimum-per-node-spacing"]&&n<=this.options["maximum-per-node-spacing"]&&(this.fixed_width[0]=n,i||this.placenodes()),this):this.fixed_width[0]}spacing_y(n,i){return arguments.length?(this.fixed_width[1]!=n&&n>=this.options["minimum-per-level-spacing"]&&n<=this.options["maximum-per-level-spacing"]&&(this.fixed_width[1]=n,i||this.placenodes()),this):this.fixed_width[1]}_label_width(n){n=n||this.shown_font_size;let i=0;return this.phylotree.nodes.descendants().filter(If).forEach(o=>{let s=12+this._nodeLabel(o).length*n*.8;o.angle!==null&&(s*=Math.max(Math.abs(Math.cos(o.angle)),Math.abs(Math.sin(o.angle)))),i=Math.max(s,i)}),i}font_size(n){return arguments.length?(this.font_size=n===void 0?12:n,this):this.font_size}scale_bar_font_size(n){return arguments.length?(this.scale_bar_font_size=n===void 0?12:n,this):this.scale_bar_font_size}node_circle_size(n,i){return arguments.length?(this.options.node_circle_size=Y_(n===void 0?3:n),this):this.options.node_circle_size}css(n){if(arguments.length===0)return this.css_classes;if(arguments.length>2){var i={};return i[n[0]]=n[1],this.css(i)}for(var o in At)o in n&&n[o]!=At[o]&&(At[o]=n[o]);return this}transitions(n){return n!==void 0?n:this.options.transitions!==null?this.options.transitions:this.phylotree.nodes.descendants().length<=300}css_classes(n,i){if(!arguments.length)return this.css_classes;let o=!1;for(var s in At)s in n&&n[s]!=this.css_classes[s]&&(o=!0,this.css_classes[s]=n[s]);return i&&o&&this.layout(),this}layout(n){return this.svg?(this.svg.selectAll("."+this.css_classes["tree-container"]+",."+this.css_classes["tree-scale-bar"]+",."+this.css_classes["tree-selection-brush"]),this.d3PhylotreeTriggerLayout(this),this.update()):(this.d3PhylotreeTriggerLayout(this),this)}handle_node_click(n,i){this.nodeDropdownMenu(n,this.container,this,this.options,i)}refresh(){if(this.svg){let i=this.svg.selectAll("."+this.css_classes["tree-container"]).selectAll(Df(this.css_classes)).attr("class",this.reclassEdge.bind(this));this.edge_styler&&i.each(o=>{this.edge_styler(vt(this),o)})}return this}countHandler(n){return arguments.length?(this.count_listener_handler=n,this):this.count_listener_handler}style_nodes(n){return arguments.length?(this.node_styler=n,this):this.node_styler}style_edges(n){return arguments.length?(this.edge_styler=n.bind(this),this):this.edge_styler}itemSelected(n,i){return n[i]||!1}show(){return this.svg.node()}};je($n.prototype,Of);je($n.prototype,Lf);je($n.prototype,kf);je($n.prototype,jf);je($n.prototype,zf);je($n.prototype,Nf);var G_=$n;function aE(t,n,i){return this.nodes.sum(function(o){return o.value}).sort(t),this.display&&(this.display.update_layout(this.nodes),this.display.update()),this}function sE(t){var n;return t=t.map(function(i){return typeof i=="string"?i:i.data.name}),this.traverse_and_compute(function(i){i.children?i.parent?(i.data.mrca=cf(...i.descendants().map(o=>o.data.mrca)),!n&&i.data.mrca.length==t.length&&(n=i)):n||(n=i):i.data.mrca=hf([i.data.name],t)}),n}var ne=class{constructor(t,n={}){this.newick_string="",this.nodes=[],this.links=[],this.parsed_tags=[],this.partitions=[],this.branch_length_accessor=Qa,this.branch_length=Qa,this.logger=n.logger||console,this.selection_attribute_name="selected";var i=n.type||void 0,o=[],s=this;if(vr(i))i in Va?o=Va[i](t,n):s.logger.error("type "+i+" not in registry! Available types are "+qt(Va));else if(se(i))try{o=i(t,n)}catch(u){s.logger.error("Could not parse custom format!")}else t.name=="root"?o={json:t,error:null}:typeof t!="string"?o=t:t.contentType=="application/xml"?o=$a(t):(this.newick_string=t,o=pn(t,n));if(!o.json)s.nodes=[];else{s.nodes=Ve(o.json);let u={};s.nodes.each(l=>{l.data.annotation&&(u[l.data.annotation]=!0)}),s.parsed_tags=Object.keys(u)}return s.links=s.nodes.links(),this.hasBranchLengths()||(console.warn("Phylotree User Warning : NO BRANCH LENGTHS DETECTED, SETTING ALL LENGTHS TO 1"),this.setBranchLength(u=>1)),s}json(t){var n=0;this.traverse_and_compute(function(o){o.json_export_index=n++},t);var i=new Array(n);return n=0,this.traverse_and_compute(function(o){let s=Xl(o);delete s.json_export_index,o.parent&&(s.parent=o.parent.json_export_index),o.children&&(s.children=$t(o.children,function(u){return u.json_export_index})),i[n++]=s},t),this.traverse_and_compute(function(o){delete o.json_export_index},t),JSON.stringify(i)}traverse_and_compute(t,n,i,o){n=n||"post-order";function s(c){Pe(c)||Ka(c,t,o)}function u(c){wf(c,t,o)}function l(c){Ja(c,t,o)}return n=="pre-order"?n=u:n=="in-order"?n=l:n=s,n(i||this.nodes),this}get_parsed_tags(){return this.parsed_tags}update(t){this.nodes=t}render(t){return this.display=new G_(this,t),this.display}};ne.prototype.isLeafNode=bt;ne.prototype.selectAllDescendants=C_;ne.prototype.mrca=sE;ne.prototype.hasBranchLengths=Sf;ne.prototype.getBranchLengths=O_;ne.prototype.branchName=P_;ne.prototype.normalizeBranchLengths=D_;ne.prototype.scaleBranchLengths=k_;ne.prototype.getNewick=gf;ne.prototype.resortChildren=aE;ne.prototype.setBranchLength=R_;ne.prototype.maxParsimony=yf;ne.prototype.getTipLengths=xf;ne.prototype.leftChildRightSibling=bf;je(ne.prototype,mf);je(ne.prototype,Tf);je(ne.prototype,_f);var as=ne;var EB=Pa("%Y%m%d");var io=Zo(Za());var ue=Zo(Za());var Bf=class extends $_.Plugin{onload(){return gp(this,null,function*(){this.registerMarkdownCodeBlockProcessor("newick",this.phyloCodeBlockProcessor(this.app,"nwk")),this.registerMarkdownCodeBlockProcessor("nexus",this.phyloCodeBlockProcessor(this.app,"nexus"))})}onunload(){}phyloCodeBlockProcessor(n,i){return(o,s,u)=>{let l=s.createEl("div");l.className="tree-container",l.id="tree-container";var c=o.split(/\r?\n/)[0];let d=/height=(?<height>\d+),width=(?<width>\d+)/.exec(c);var v=l.clientWidth,w=l.clientHeight;console.log(d),d&&(w=parseInt(d.groups.height),v=parseInt(d.groups.width));let x=new as(o,{type:i}),A={container:l,height:w,width:v,"left-right-spacing":"fit-to-size","top-bottom-spacing":"fit-to-size",selectable:!0,"restricted-selectable":!1,"binary-selectable":!1,collapsible:!1,transitions:!1,"show-scale":!1,"align-tips":!1,zoom:!1,reroot:!1,hide:!1,brush:!1,branches:"step","label-nodes-with-name":!0,"internal-names":!0,"node-styler":function(Y,I){Y.on("click",function(){if(x.isLeafNode(I)){let E='"'+I.data.name.replace("_"," ")+'"';n.internalPlugins.plugins["global-search"].instance.openGlobalSearch(E)}else{let D=x.selectAllDescendants(I,!0,!0).filter(j=>j.data.name.length>0).map(j=>j.data.name.replace("_"," "));console.log(D);let O='"'+D.join('" OR "')+'"';n.internalPlugins.plugins["global-search"].instance.openGlobalSearch(O)}})}},z=x.render(A);l.append(z.show())}}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
